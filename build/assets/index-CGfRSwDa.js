function f2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Tc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Vd={exports:{}},oi={},qd={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function m2(){if(Jg)return mt;Jg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(M,U,te){this.props=M,this.context=U,this.refs=_,this.updater=te||y}N.prototype.isReactComponent={},N.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=N.prototype;function j(M,U,te){this.props=M,this.context=U,this.refs=_,this.updater=te||y}var k=j.prototype=new C;k.constructor=j,w(k,N.prototype),k.isPureReactComponent=!0;var R=Array.isArray,F=Object.prototype.hasOwnProperty,T={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function E(M,U,te){var J,ee={},le=null,X=null;if(U!=null)for(J in U.ref!==void 0&&(X=U.ref),U.key!==void 0&&(le=""+U.key),U)F.call(U,J)&&!B.hasOwnProperty(J)&&(ee[J]=U[J]);var ae=arguments.length-2;if(ae===1)ee.children=te;else if(1<ae){for(var de=Array(ae),se=0;se<ae;se++)de[se]=arguments[se+2];ee.children=de}if(M&&M.defaultProps)for(J in ae=M.defaultProps,ae)ee[J]===void 0&&(ee[J]=ae[J]);return{$$typeof:e,type:M,key:le,ref:X,props:ee,_owner:T.current}}function I(M,U){return{$$typeof:e,type:M.type,key:U,ref:M.ref,props:M.props,_owner:M._owner}}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function H(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return U[te]})}var V=/\/+/g;function K(M,U){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):U.toString(36)}function W(M,U,te,J,ee){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var X=!1;if(M===null)X=!0;else switch(le){case"string":case"number":X=!0;break;case"object":switch(M.$$typeof){case e:case t:X=!0}}if(X)return X=M,ee=ee(X),M=J===""?"."+K(X,0):J,R(ee)?(te="",M!=null&&(te=M.replace(V,"$&/")+"/"),W(ee,U,te,"",function(se){return se})):ee!=null&&($(ee)&&(ee=I(ee,te+(!ee.key||X&&X.key===ee.key?"":(""+ee.key).replace(V,"$&/")+"/")+M)),U.push(ee)),1;if(X=0,J=J===""?".":J+":",R(M))for(var ae=0;ae<M.length;ae++){le=M[ae];var de=J+K(le,ae);X+=W(le,U,te,de,ee)}else if(de=v(M),typeof de=="function")for(M=de.call(M),ae=0;!(le=M.next()).done;)le=le.value,de=J+K(le,ae++),X+=W(le,U,te,de,ee);else if(le==="object")throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return X}function Q(M,U,te){if(M==null)return M;var J=[],ee=0;return W(M,J,"","",function(le){return U.call(te,le,ee++)}),J}function A(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var P={current:null},D={transition:null},z={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};function L(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:Q,forEach:function(M,U,te){Q(M,function(){U.apply(this,arguments)},te)},count:function(M){var U=0;return Q(M,function(){U++}),U},toArray:function(M){return Q(M,function(U){return U})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},mt.Component=N,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=j,mt.StrictMode=r,mt.Suspense=h,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,mt.act=L,mt.cloneElement=function(M,U,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var J=w({},M.props),ee=M.key,le=M.ref,X=M._owner;if(U!=null){if(U.ref!==void 0&&(le=U.ref,X=T.current),U.key!==void 0&&(ee=""+U.key),M.type&&M.type.defaultProps)var ae=M.type.defaultProps;for(de in U)F.call(U,de)&&!B.hasOwnProperty(de)&&(J[de]=U[de]===void 0&&ae!==void 0?ae[de]:U[de])}var de=arguments.length-2;if(de===1)J.children=te;else if(1<de){ae=Array(de);for(var se=0;se<de;se++)ae[se]=arguments[se+2];J.children=ae}return{$$typeof:e,type:M.type,key:ee,ref:le,props:J,_owner:X}},mt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},mt.createElement=E,mt.createFactory=function(M){var U=E.bind(null,M);return U.type=M,U},mt.createRef=function(){return{current:null}},mt.forwardRef=function(M){return{$$typeof:u,render:M}},mt.isValidElement=$,mt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:A}},mt.memo=function(M,U){return{$$typeof:p,type:M,compare:U===void 0?null:U}},mt.startTransition=function(M){var U=D.transition;D.transition={};try{M()}finally{D.transition=U}},mt.unstable_act=L,mt.useCallback=function(M,U){return P.current.useCallback(M,U)},mt.useContext=function(M){return P.current.useContext(M)},mt.useDebugValue=function(){},mt.useDeferredValue=function(M){return P.current.useDeferredValue(M)},mt.useEffect=function(M,U){return P.current.useEffect(M,U)},mt.useId=function(){return P.current.useId()},mt.useImperativeHandle=function(M,U,te){return P.current.useImperativeHandle(M,U,te)},mt.useInsertionEffect=function(M,U){return P.current.useInsertionEffect(M,U)},mt.useLayoutEffect=function(M,U){return P.current.useLayoutEffect(M,U)},mt.useMemo=function(M,U){return P.current.useMemo(M,U)},mt.useReducer=function(M,U,te){return P.current.useReducer(M,U,te)},mt.useRef=function(M){return P.current.useRef(M)},mt.useState=function(M){return P.current.useState(M)},mt.useSyncExternalStore=function(M,U,te){return P.current.useSyncExternalStore(M,U,te)},mt.useTransition=function(){return P.current.useTransition()},mt.version="18.3.1",mt}var Xg;function Ic(){return Xg||(Xg=1,qd.exports=m2()),qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function p2(){if(Zg)return oi;Zg=1;var e=Ic(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var f,m={},v=null,y=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(y=h.ref);for(f in h)r.call(h,f)&&!i.hasOwnProperty(f)&&(m[f]=h[f]);if(u&&u.defaultProps)for(f in h=u.defaultProps,h)m[f]===void 0&&(m[f]=h[f]);return{$$typeof:t,type:u,key:v,ref:y,props:m,_owner:o.current}}return oi.Fragment=n,oi.jsx=c,oi.jsxs=c,oi}var ev;function g2(){return ev||(ev=1,Vd.exports=p2()),Vd.exports}var l=g2(),zl={},Gd={exports:{}},Sn={},Yd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function v2(){return tv||(tv=1,(function(e){function t(D,z){var L=D.length;D.push(z);e:for(;0<L;){var M=L-1>>>1,U=D[M];if(0<o(U,z))D[M]=z,D[L]=U,L=M;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],L=D.pop();if(L!==z){D[0]=L;e:for(var M=0,U=D.length,te=U>>>1;M<te;){var J=2*(M+1)-1,ee=D[J],le=J+1,X=D[le];if(0>o(ee,L))le<U&&0>o(X,ee)?(D[M]=X,D[le]=L,M=le):(D[M]=ee,D[J]=L,M=J);else if(le<U&&0>o(X,L))D[M]=X,D[le]=L,M=le;else break e}}return z}function o(D,z){var L=D.sortIndex-z.sortIndex;return L!==0?L:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],p=[],f=1,m=null,v=3,y=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(D){for(var z=n(p);z!==null;){if(z.callback===null)r(p);else if(z.startTime<=D)r(p),z.sortIndex=z.expirationTime,t(h,z);else break;z=n(p)}}function R(D){if(_=!1,k(D),!w)if(n(h)!==null)w=!0,A(F);else{var z=n(p);z!==null&&P(R,z.startTime-D)}}function F(D,z){w=!1,_&&(_=!1,C(E),E=-1),y=!0;var L=v;try{for(k(z),m=n(h);m!==null&&(!(m.expirationTime>z)||D&&!H());){var M=m.callback;if(typeof M=="function"){m.callback=null,v=m.priorityLevel;var U=M(m.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?m.callback=U:m===n(h)&&r(h),k(z)}else r(h);m=n(h)}if(m!==null)var te=!0;else{var J=n(p);J!==null&&P(R,J.startTime-z),te=!1}return te}finally{m=null,v=L,y=!1}}var T=!1,B=null,E=-1,I=5,$=-1;function H(){return!(e.unstable_now()-$<I)}function V(){if(B!==null){var D=e.unstable_now();$=D;var z=!0;try{z=B(!0,D)}finally{z?K():(T=!1,B=null)}}else T=!1}var K;if(typeof j=="function")K=function(){j(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Q=W.port2;W.port1.onmessage=V,K=function(){Q.postMessage(null)}}else K=function(){N(V,0)};function A(D){B=D,T||(T=!0,K())}function P(D,z){E=N(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,A(F))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var L=v;v=z;try{return D()}finally{v=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=v;v=D;try{return z()}finally{v=L}},e.unstable_scheduleCallback=function(D,z,L){var M=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?M+L:M):L=M,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,D={id:f++,callback:z,priorityLevel:D,startTime:L,expirationTime:U,sortIndex:-1},L>M?(D.sortIndex=L,t(p,D),n(h)===null&&D===n(p)&&(_?(C(E),E=-1):_=!0,P(R,L-M))):(D.sortIndex=U,t(h,D),w||y||(w=!0,A(F))),D},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(D){var z=v;return function(){var L=v;v=z;try{return D.apply(this,arguments)}finally{v=L}}}})(Kd)),Kd}var nv;function y2(){return nv||(nv=1,Yd.exports=v2()),Yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function x2(){if(rv)return Sn;rv=1;var e=Ic(),t=y2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function i(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(s){return h.call(m,s)?!0:h.call(f,s)?!1:p.test(s)?m[s]=!0:(f[s]=!0,!1)}function y(s,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,d,g){if(a===null||typeof a>"u"||y(s,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function _(s,a,d,g,x,S,O){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=s,this.type=a,this.sanitizeURL=S,this.removeEmptyString=O}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new _(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,j);N[a]=new _(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,j);N[a]=new _(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,j);N[a]=new _(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,a,d,g){var x=N.hasOwnProperty(a)?N[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,d,x,g)&&(d=null),g||x===null?v(a)&&(d===null?s.removeAttribute(a):s.setAttribute(a,""+d)):x.mustUseProperty?s[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,g=x.attributeNamespace,d===null?s.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?s.setAttributeNS(g,a,d):s.setAttribute(a,d))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),T=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),D=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var L=Object.assign,M;function U(s){if(M===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||""}return`
`+M+s}var te=!1;function J(s,a){if(!s||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var g=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){g=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){g=ce}s()}}catch(ce){if(ce&&g&&typeof ce.stack=="string"){for(var x=ce.stack.split(`
`),S=g.stack.split(`
`),O=x.length-1,G=S.length-1;1<=O&&0<=G&&x[O]!==S[G];)G--;for(;1<=O&&0<=G;O--,G--)if(x[O]!==S[G]){if(O!==1||G!==1)do if(O--,G--,0>G||x[O]!==S[G]){var Z=`
`+x[O].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=O&&0<=G);break}}}finally{te=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?U(s):""}function ee(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=J(s.type,!1),s;case 11:return s=J(s.type.render,!1),s;case 1:return s=J(s.type,!0),s;default:return""}}function le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case T:return"Portal";case I:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case H:return(s.displayName||"Context")+".Consumer";case $:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Q:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}function X(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(a);case 8:return a===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function de(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function se(s){var a=de(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,S=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return x.call(this)},set:function(O){g=""+O,S.call(this,O)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function pe(s){s._valueTracker||(s._valueTracker=se(s))}function je(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return s&&(g=de(s)?s.checked?"true":"false":s.value),s=g,s!==d?(a.setValue(s),!0):!1}function et(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ue(s,a){var d=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function q(s,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=ae(a.value!=null?a.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function he(s,a){a=a.checked,a!=null&&k(s,"checked",a,!1)}function ge(s,a){he(s,a);var d=ae(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?me(s,a.type,d):a.hasOwnProperty("defaultValue")&&me(s,a.type,ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ve(s,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,d||a===s.value||(s.value=a),s.defaultValue=a}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function me(s,a,d){(a!=="number"||et(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Se=Array.isArray;function ze(s,a,d,g){if(s=s.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<s.length;d++)x=a.hasOwnProperty("$"+s[d].value),s[d].selected!==x&&(s[d].selected=x),x&&g&&(s[d].defaultSelected=!0)}else{for(d=""+ae(d),a=null,x=0;x<s.length;x++){if(s[x].value===d){s[x].selected=!0,g&&(s[x].defaultSelected=!0);return}a!==null||s[x].disabled||(a=s[x])}a!==null&&(a.selected=!0)}}function Qe(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ie(s,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Se(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}s._wrapperState={initialValue:ae(d)}}function ke(s,a){var d=ae(a.value),g=ae(a.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),a.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function tt(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var We,dt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,g,x){MSApp.execUnsafeLocalFunction(function(){return s(a,d,g,x)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=We.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ht(s,a){if(a){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=a;return}}s.textContent=a}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nt=["Webkit","ms","Moz","O"];Object.keys(xt).forEach(function(s){Nt.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),xt[a]=xt[s]})});function _t(s,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||xt.hasOwnProperty(s)&&xt[s]?(""+a).trim():a+"px"}function Y(s,a){s=s.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=_t(d,a[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,x):s[d]=x}}var re=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(s,a){if(a){if(re[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Oe(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=null;function Ee(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Je=null,He=null,ot=null;function Pt(s){if(s=Ha(s)){if(typeof Je!="function")throw Error(n(280));var a=s.stateNode;a&&(a=rl(a),Je(s.stateNode,s.type,a))}}function Ae(s){He?ot?ot.push(s):ot=[s]:He=s}function at(){if(He){var s=He,a=ot;if(ot=He=null,Pt(s),a)for(s=0;s<a.length;s++)Pt(a[s])}}function jt(s,a){return s(a)}function pt(){}var Ht=!1;function Bt(s,a,d){if(Ht)return s(a,d);Ht=!0;try{return jt(s,a,d)}finally{Ht=!1,(He!==null||ot!==null)&&(pt(),at())}}function Ut(s,a){var d=s.stateNode;if(d===null)return null;var g=rl(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Qr=!1;if(u)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Qr=!1}function Rn(s,a,d,g,x,S,O,G,Z){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(d,ce)}catch(xe){this.onError(xe)}}var Jr=!1,$n=null,ja=!1,uu=null,x1={onError:function(s){Jr=!0,$n=s}};function w1(s,a,d,g,x,S,O,G,Z){Jr=!1,$n=null,Rn.apply(x1,arguments)}function b1(s,a,d,g,x,S,O,G,Z){if(w1.apply(this,arguments),Jr){if(Jr){var ce=$n;Jr=!1,$n=null}else throw Error(n(198));ja||(ja=!0,uu=ce)}}function Fs(s){var a=s,d=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(d=a.return),s=a.return;while(s)}return a.tag===3?d:null}function wm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function bm(s){if(Fs(s)!==s)throw Error(n(188))}function _1(s){var a=s.alternate;if(!a){if(a=Fs(s),a===null)throw Error(n(188));return a!==s?null:s}for(var d=s,g=a;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===d)return bm(x),s;if(S===g)return bm(x),a;S=S.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=S;else{for(var O=!1,G=x.child;G;){if(G===d){O=!0,d=x,g=S;break}if(G===g){O=!0,g=x,d=S;break}G=G.sibling}if(!O){for(G=S.child;G;){if(G===d){O=!0,d=S,g=x;break}if(G===g){O=!0,g=S,d=x;break}G=G.sibling}if(!O)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:a}function _m(s){return s=_1(s),s!==null?Nm(s):null}function Nm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Nm(s);if(a!==null)return a;s=s.sibling}return null}var Sm=t.unstable_scheduleCallback,jm=t.unstable_cancelCallback,N1=t.unstable_shouldYield,S1=t.unstable_requestPaint,zt=t.unstable_now,j1=t.unstable_getCurrentPriorityLevel,du=t.unstable_ImmediatePriority,Cm=t.unstable_UserBlockingPriority,Fi=t.unstable_NormalPriority,C1=t.unstable_LowPriority,km=t.unstable_IdlePriority,Li=null,hr=null;function k1(s){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Li,s,void 0,(s.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:R1,E1=Math.log,P1=Math.LN2;function R1(s){return s>>>=0,s===0?32:31-(E1(s)/P1|0)|0}var Bi=64,$i=4194304;function Ca(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ui(s,a){var d=s.pendingLanes;if(d===0)return 0;var g=0,x=s.suspendedLanes,S=s.pingedLanes,O=d&268435455;if(O!==0){var G=O&~x;G!==0?g=Ca(G):(S&=O,S!==0&&(g=Ca(S)))}else O=d&~x,O!==0?g=Ca(O):S!==0&&(g=Ca(S));if(g===0)return 0;if(a!==0&&a!==g&&(a&x)===0&&(x=g&-g,S=a&-a,x>=S||x===16&&(S&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)d=31-Kn(a),x=1<<d,g|=s[d],a&=~x;return g}function A1(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(s,a){for(var d=s.suspendedLanes,g=s.pingedLanes,x=s.expirationTimes,S=s.pendingLanes;0<S;){var O=31-Kn(S),G=1<<O,Z=x[O];Z===-1?((G&d)===0||(G&g)!==0)&&(x[O]=A1(G,a)):Z<=a&&(s.expiredLanes|=G),S&=~G}}function fu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Em(){var s=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),s}function hu(s){for(var a=[],d=0;31>d;d++)a.push(s);return a}function ka(s,a,d){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Kn(a),s[a]=d}function I1(s,a){var d=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var x=31-Kn(d),S=1<<x;a[x]=0,g[x]=-1,s[x]=-1,d&=~S}}function mu(s,a){var d=s.entangledLanes|=a;for(s=s.entanglements;d;){var g=31-Kn(d),x=1<<g;x&a|s[g]&a&&(s[g]|=a),d&=~x}}var Ct=0;function Pm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Rm,pu,Am,Tm,Im,gu=!1,zi=[],Xr=null,Zr=null,es=null,Ea=new Map,Pa=new Map,ts=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(s,a){switch(s){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Ea.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(a.pointerId)}}function Ra(s,a,d,g,x,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},a!==null&&(a=Ha(a),a!==null&&pu(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),s)}function D1(s,a,d,g,x){switch(a){case"focusin":return Xr=Ra(Xr,s,a,d,g,x),!0;case"dragenter":return Zr=Ra(Zr,s,a,d,g,x),!0;case"mouseover":return es=Ra(es,s,a,d,g,x),!0;case"pointerover":var S=x.pointerId;return Ea.set(S,Ra(Ea.get(S)||null,s,a,d,g,x)),!0;case"gotpointercapture":return S=x.pointerId,Pa.set(S,Ra(Pa.get(S)||null,s,a,d,g,x)),!0}return!1}function Dm(s){var a=Ls(s.target);if(a!==null){var d=Fs(a);if(d!==null){if(a=d.tag,a===13){if(a=wm(d),a!==null){s.blockedOn=a,Im(s.priority,function(){Am(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var d=yu(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);Le=g,d.target.dispatchEvent(g),Le=null}else return a=Ha(d),a!==null&&pu(a),s.blockedOn=d,!1;a.shift()}return!0}function Mm(s,a,d){Wi(s)&&d.delete(a)}function M1(){gu=!1,Xr!==null&&Wi(Xr)&&(Xr=null),Zr!==null&&Wi(Zr)&&(Zr=null),es!==null&&Wi(es)&&(es=null),Ea.forEach(Mm),Pa.forEach(Mm)}function Aa(s,a){s.blockedOn===a&&(s.blockedOn=null,gu||(gu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,M1)))}function Ta(s){function a(x){return Aa(x,s)}if(0<zi.length){Aa(zi[0],s);for(var d=1;d<zi.length;d++){var g=zi[d];g.blockedOn===s&&(g.blockedOn=null)}}for(Xr!==null&&Aa(Xr,s),Zr!==null&&Aa(Zr,s),es!==null&&Aa(es,s),Ea.forEach(a),Pa.forEach(a),d=0;d<ts.length;d++)g=ts[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<ts.length&&(d=ts[0],d.blockedOn===null);)Dm(d),d.blockedOn===null&&ts.shift()}var xo=R.ReactCurrentBatchConfig,Hi=!0;function F1(s,a,d,g){var x=Ct,S=xo.transition;xo.transition=null;try{Ct=1,vu(s,a,d,g)}finally{Ct=x,xo.transition=S}}function L1(s,a,d,g){var x=Ct,S=xo.transition;xo.transition=null;try{Ct=4,vu(s,a,d,g)}finally{Ct=x,xo.transition=S}}function vu(s,a,d,g){if(Hi){var x=yu(s,a,d,g);if(x===null)Du(s,a,g,Vi,d),Om(s,g);else if(D1(x,s,a,d,g))g.stopPropagation();else if(Om(s,g),a&4&&-1<O1.indexOf(s)){for(;x!==null;){var S=Ha(x);if(S!==null&&Rm(S),S=yu(s,a,d,g),S===null&&Du(s,a,g,Vi,d),S===x)break;x=S}x!==null&&g.stopPropagation()}else Du(s,a,g,null,d)}}var Vi=null;function yu(s,a,d,g){if(Vi=null,s=Ee(g),s=Ls(s),s!==null)if(a=Fs(s),a===null)s=null;else if(d=a.tag,d===13){if(s=wm(a),s!==null)return s;s=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Vi=s,null}function Fm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j1()){case du:return 1;case Cm:return 4;case Fi:case C1:return 16;case km:return 536870912;default:return 16}default:return 16}}var ns=null,xu=null,qi=null;function Lm(){if(qi)return qi;var s,a=xu,d=a.length,g,x="value"in ns?ns.value:ns.textContent,S=x.length;for(s=0;s<d&&a[s]===x[s];s++);var O=d-s;for(g=1;g<=O&&a[d-g]===x[S-g];g++);return qi=x.slice(s,1<g?1-g:void 0)}function Gi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Yi(){return!0}function Bm(){return!1}function An(s){function a(d,g,x,S,O){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(d=s[G],this[G]=d?d(S):S[G]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Yi:Bm,this.isPropagationStopped=Bm,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),a}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=An(wo),Ia=L({},wo,{view:0,detail:0}),B1=An(Ia),bu,_u,Oa,Ki=L({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oa&&(Oa&&s.type==="mousemove"?(bu=s.screenX-Oa.screenX,_u=s.screenY-Oa.screenY):_u=bu=0,Oa=s),bu)},movementY:function(s){return"movementY"in s?s.movementY:_u}}),$m=An(Ki),$1=L({},Ki,{dataTransfer:0}),U1=An($1),z1=L({},Ia,{relatedTarget:0}),Nu=An(z1),W1=L({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),H1=An(W1),V1=L({},wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),q1=An(V1),G1=L({},wo,{data:0}),Um=An(G1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J1(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Q1[s])?!!a[s]:!1}function Su(){return J1}var X1=L({},Ia,{key:function(s){if(s.key){var a=Y1[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Gi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(s){return s.type==="keypress"?Gi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Gi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Z1=An(X1),e_=L({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=An(e_),t_=L({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),n_=An(t_),r_=L({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),s_=An(r_),o_=L({},Ki,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),a_=An(o_),i_=[9,13,27,32],ju=u&&"CompositionEvent"in window,Da=null;u&&"documentMode"in document&&(Da=document.documentMode);var l_=u&&"TextEvent"in window&&!Da,Wm=u&&(!ju||Da&&8<Da&&11>=Da),Hm=" ",Vm=!1;function qm(s,a){switch(s){case"keyup":return i_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bo=!1;function c_(s,a){switch(s){case"compositionend":return Gm(a);case"keypress":return a.which!==32?null:(Vm=!0,Hm);case"textInput":return s=a.data,s===Hm&&Vm?null:s;default:return null}}function u_(s,a){if(bo)return s==="compositionend"||!ju&&qm(s,a)?(s=Lm(),qi=xu=ns=null,bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wm&&a.locale!=="ko"?null:a.data;default:return null}}var d_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!d_[s.type]:a==="textarea"}function Km(s,a,d,g){Ae(g),a=el(a,"onChange"),0<a.length&&(d=new wu("onChange","change",null,d,g),s.push({event:d,listeners:a}))}var Ma=null,Fa=null;function f_(s){hp(s,0)}function Qi(s){var a=Co(s);if(je(a))return s}function h_(s,a){if(s==="change")return a}var Qm=!1;if(u){var Cu;if(u){var ku="oninput"in document;if(!ku){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),ku=typeof Jm.oninput=="function"}Cu=ku}else Cu=!1;Qm=Cu&&(!document.documentMode||9<document.documentMode)}function Xm(){Ma&&(Ma.detachEvent("onpropertychange",Zm),Fa=Ma=null)}function Zm(s){if(s.propertyName==="value"&&Qi(Fa)){var a=[];Km(a,Fa,s,Ee(s)),Bt(f_,a)}}function m_(s,a,d){s==="focusin"?(Xm(),Ma=a,Fa=d,Ma.attachEvent("onpropertychange",Zm)):s==="focusout"&&Xm()}function p_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qi(Fa)}function g_(s,a){if(s==="click")return Qi(a)}function v_(s,a){if(s==="input"||s==="change")return Qi(a)}function y_(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Qn=typeof Object.is=="function"?Object.is:y_;function La(s,a){if(Qn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var d=Object.keys(s),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!h.call(a,x)||!Qn(s[x],a[x]))return!1}return!0}function ep(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tp(s,a){var d=ep(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=a&&g>=a)return{node:d,offset:a-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ep(d)}}function np(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?np(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function rp(){for(var s=window,a=et();a instanceof s.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)s=a.contentWindow;else break;a=et(s.document)}return a}function Eu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function x_(s){var a=rp(),d=s.focusedElem,g=s.selectionRange;if(a!==d&&d&&d.ownerDocument&&np(d.ownerDocument.documentElement,d)){if(g!==null&&Eu(d)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(s,d.value.length);else if(s=(a=d.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var x=d.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!s.extend&&S>g&&(x=g,g=S,S=x),x=tp(d,S);var O=tp(d,g);x&&O&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),s.removeAllRanges(),S>g?(s.addRange(a),s.extend(O.node,O.offset)):(a.setEnd(O.node,O.offset),s.addRange(a)))}}for(a=[],s=d;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)s=a[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var w_=u&&"documentMode"in document&&11>=document.documentMode,_o=null,Pu=null,Ba=null,Ru=!1;function sp(s,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ru||_o==null||_o!==et(g)||(g=_o,"selectionStart"in g&&Eu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ba&&La(Ba,g)||(Ba=g,g=el(Pu,"onSelect"),0<g.length&&(a=new wu("onSelect","select",null,a,d),s.push({event:a,listeners:g}),a.target=_o)))}function Ji(s,a){var d={};return d[s.toLowerCase()]=a.toLowerCase(),d["Webkit"+s]="webkit"+a,d["Moz"+s]="moz"+a,d}var No={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Au={},op={};u&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Xi(s){if(Au[s])return Au[s];if(!No[s])return s;var a=No[s],d;for(d in a)if(a.hasOwnProperty(d)&&d in op)return Au[s]=a[d];return s}var ap=Xi("animationend"),ip=Xi("animationiteration"),lp=Xi("animationstart"),cp=Xi("transitionend"),up=new Map,dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(s,a){up.set(s,a),i(a,[s])}for(var Tu=0;Tu<dp.length;Tu++){var Iu=dp[Tu],b_=Iu.toLowerCase(),__=Iu[0].toUpperCase()+Iu.slice(1);rs(b_,"on"+__)}rs(ap,"onAnimationEnd"),rs(ip,"onAnimationIteration"),rs(lp,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(cp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function fp(s,a,d){var g=s.type||"unknown-event";s.currentTarget=d,b1(g,a,void 0,s),s.currentTarget=null}function hp(s,a){a=(a&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],x=g.event;g=g.listeners;e:{var S=void 0;if(a)for(var O=g.length-1;0<=O;O--){var G=g[O],Z=G.instance,ce=G.currentTarget;if(G=G.listener,Z!==S&&x.isPropagationStopped())break e;fp(x,G,ce),S=Z}else for(O=0;O<g.length;O++){if(G=g[O],Z=G.instance,ce=G.currentTarget,G=G.listener,Z!==S&&x.isPropagationStopped())break e;fp(x,G,ce),S=Z}}}if(ja)throw s=uu,ja=!1,uu=null,s}function Ot(s,a){var d=a[Uu];d===void 0&&(d=a[Uu]=new Set);var g=s+"__bubble";d.has(g)||(mp(a,s,2,!1),d.add(g))}function Ou(s,a,d){var g=0;a&&(g|=4),mp(d,s,g,a)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Ua(s){if(!s[Zi]){s[Zi]=!0,r.forEach(function(d){d!=="selectionchange"&&(N_.has(d)||Ou(d,!1,s),Ou(d,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zi]||(a[Zi]=!0,Ou("selectionchange",!1,a))}}function mp(s,a,d,g){switch(Fm(a)){case 1:var x=F1;break;case 4:x=L1;break;default:x=vu}d=x.bind(null,a,d,s),x=void 0,!Qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?s.addEventListener(a,d,{capture:!0,passive:x}):s.addEventListener(a,d,!0):x!==void 0?s.addEventListener(a,d,{passive:x}):s.addEventListener(a,d,!1)}function Du(s,a,d,g,x){var S=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var G=g.stateNode.containerInfo;if(G===x||G.nodeType===8&&G.parentNode===x)break;if(O===4)for(O=g.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&(Z=O.stateNode.containerInfo,Z===x||Z.nodeType===8&&Z.parentNode===x))return;O=O.return}for(;G!==null;){if(O=Ls(G),O===null)return;if(Z=O.tag,Z===5||Z===6){g=S=O;continue e}G=G.parentNode}}g=g.return}Bt(function(){var ce=S,xe=Ee(d),we=[];e:{var ye=up.get(s);if(ye!==void 0){var Re=wu,De=s;switch(s){case"keypress":if(Gi(d)===0)break e;case"keydown":case"keyup":Re=Z1;break;case"focusin":De="focus",Re=Nu;break;case"focusout":De="blur",Re=Nu;break;case"beforeblur":case"afterblur":Re=Nu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=n_;break;case ap:case ip:case lp:Re=H1;break;case cp:Re=s_;break;case"scroll":Re=B1;break;case"wheel":Re=a_;break;case"copy":case"cut":case"paste":Re=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=zm}var Be=(a&4)!==0,Wt=!Be&&s==="scroll",oe=Be?ye!==null?ye+"Capture":null:ye;Be=[];for(var ne=ce,ie;ne!==null;){ie=ne;var Ne=ie.stateNode;if(ie.tag===5&&Ne!==null&&(ie=Ne,oe!==null&&(Ne=Ut(ne,oe),Ne!=null&&Be.push(za(ne,Ne,ie)))),Wt)break;ne=ne.return}0<Be.length&&(ye=new Re(ye,De,null,d,xe),we.push({event:ye,listeners:Be}))}}if((a&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",ye&&d!==Le&&(De=d.relatedTarget||d.fromElement)&&(Ls(De)||De[Pr]))break e;if((Re||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,Re?(De=d.relatedTarget||d.toElement,Re=ce,De=De?Ls(De):null,De!==null&&(Wt=Fs(De),De!==Wt||De.tag!==5&&De.tag!==6)&&(De=null)):(Re=null,De=ce),Re!==De)){if(Be=$m,Ne="onMouseLeave",oe="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Be=zm,Ne="onPointerLeave",oe="onPointerEnter",ne="pointer"),Wt=Re==null?ye:Co(Re),ie=De==null?ye:Co(De),ye=new Be(Ne,ne+"leave",Re,d,xe),ye.target=Wt,ye.relatedTarget=ie,Ne=null,Ls(xe)===ce&&(Be=new Be(oe,ne+"enter",De,d,xe),Be.target=ie,Be.relatedTarget=Wt,Ne=Be),Wt=Ne,Re&&De)t:{for(Be=Re,oe=De,ne=0,ie=Be;ie;ie=So(ie))ne++;for(ie=0,Ne=oe;Ne;Ne=So(Ne))ie++;for(;0<ne-ie;)Be=So(Be),ne--;for(;0<ie-ne;)oe=So(oe),ie--;for(;ne--;){if(Be===oe||oe!==null&&Be===oe.alternate)break t;Be=So(Be),oe=So(oe)}Be=null}else Be=null;Re!==null&&pp(we,ye,Re,Be,!1),De!==null&&Wt!==null&&pp(we,Wt,De,Be,!0)}}e:{if(ye=ce?Co(ce):window,Re=ye.nodeName&&ye.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ye.type==="file")var $e=h_;else if(Ym(ye))if(Qm)$e=v_;else{$e=p_;var Ge=m_}else(Re=ye.nodeName)&&Re.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&($e=g_);if($e&&($e=$e(s,ce))){Km(we,$e,d,xe);break e}Ge&&Ge(s,ye,ce),s==="focusout"&&(Ge=ye._wrapperState)&&Ge.controlled&&ye.type==="number"&&me(ye,"number",ye.value)}switch(Ge=ce?Co(ce):window,s){case"focusin":(Ym(Ge)||Ge.contentEditable==="true")&&(_o=Ge,Pu=ce,Ba=null);break;case"focusout":Ba=Pu=_o=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,sp(we,d,xe);break;case"selectionchange":if(w_)break;case"keydown":case"keyup":sp(we,d,xe)}var Ye;if(ju)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else bo?qm(s,d)&&(nt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(nt="onCompositionStart");nt&&(Wm&&d.locale!=="ko"&&(bo||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&bo&&(Ye=Lm()):(ns=xe,xu="value"in ns?ns.value:ns.textContent,bo=!0)),Ge=el(ce,nt),0<Ge.length&&(nt=new Um(nt,s,null,d,xe),we.push({event:nt,listeners:Ge}),Ye?nt.data=Ye:(Ye=Gm(d),Ye!==null&&(nt.data=Ye)))),(Ye=l_?c_(s,d):u_(s,d))&&(ce=el(ce,"onBeforeInput"),0<ce.length&&(xe=new Um("onBeforeInput","beforeinput",null,d,xe),we.push({event:xe,listeners:ce}),xe.data=Ye))}hp(we,a)})}function za(s,a,d){return{instance:s,listener:a,currentTarget:d}}function el(s,a){for(var d=a+"Capture",g=[];s!==null;){var x=s,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Ut(s,d),S!=null&&g.unshift(za(s,S,x)),S=Ut(s,a),S!=null&&g.push(za(s,S,x))),s=s.return}return g}function So(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pp(s,a,d,g,x){for(var S=a._reactName,O=[];d!==null&&d!==g;){var G=d,Z=G.alternate,ce=G.stateNode;if(Z!==null&&Z===g)break;G.tag===5&&ce!==null&&(G=ce,x?(Z=Ut(d,S),Z!=null&&O.unshift(za(d,Z,G))):x||(Z=Ut(d,S),Z!=null&&O.push(za(d,Z,G)))),d=d.return}O.length!==0&&s.push({event:a,listeners:O})}var S_=/\r\n?/g,j_=/\u0000|\uFFFD/g;function gp(s){return(typeof s=="string"?s:""+s).replace(S_,`
`).replace(j_,"")}function tl(s,a,d){if(a=gp(a),gp(s)!==a&&d)throw Error(n(425))}function nl(){}var Mu=null,Fu=null;function Lu(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,C_=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(s){return vp.resolve(null).then(s).catch(E_)}:Bu;function E_(s){setTimeout(function(){throw s})}function $u(s,a){var d=a,g=0;do{var x=d.nextSibling;if(s.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){s.removeChild(x),Ta(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Ta(a)}function ss(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function yp(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return s;a--}else d==="/$"&&a++}s=s.previousSibling}return null}var jo=Math.random().toString(36).slice(2),mr="__reactFiber$"+jo,Wa="__reactProps$"+jo,Pr="__reactContainer$"+jo,Uu="__reactEvents$"+jo,P_="__reactListeners$"+jo,R_="__reactHandles$"+jo;function Ls(s){var a=s[mr];if(a)return a;for(var d=s.parentNode;d;){if(a=d[Pr]||d[mr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(s=yp(s);s!==null;){if(d=s[mr])return d;s=yp(s)}return a}s=d,d=s.parentNode}return null}function Ha(s){return s=s[mr]||s[Pr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Co(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function rl(s){return s[Wa]||null}var zu=[],ko=-1;function os(s){return{current:s}}function Dt(s){0>ko||(s.current=zu[ko],zu[ko]=null,ko--)}function Rt(s,a){ko++,zu[ko]=s.current,s.current=a}var as={},cn=os(as),xn=os(!1),Bs=as;function Eo(s,a){var d=s.type.contextTypes;if(!d)return as;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in d)x[S]=a[S];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=x),x}function wn(s){return s=s.childContextTypes,s!=null}function sl(){Dt(xn),Dt(cn)}function xp(s,a,d){if(cn.current!==as)throw Error(n(168));Rt(cn,a),Rt(xn,d)}function wp(s,a,d){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(n(108,X(s)||"Unknown",x));return L({},d,g)}function ol(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||as,Bs=cn.current,Rt(cn,s),Rt(xn,xn.current),!0}function bp(s,a,d){var g=s.stateNode;if(!g)throw Error(n(169));d?(s=wp(s,a,Bs),g.__reactInternalMemoizedMergedChildContext=s,Dt(xn),Dt(cn),Rt(cn,s)):Dt(xn),Rt(xn,d)}var Rr=null,al=!1,Wu=!1;function _p(s){Rr===null?Rr=[s]:Rr.push(s)}function A_(s){al=!0,_p(s)}function is(){if(!Wu&&Rr!==null){Wu=!0;var s=0,a=Ct;try{var d=Rr;for(Ct=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}Rr=null,al=!1}catch(x){throw Rr!==null&&(Rr=Rr.slice(s+1)),Sm(du,is),x}finally{Ct=a,Wu=!1}}return null}var Po=[],Ro=0,il=null,ll=0,Un=[],zn=0,$s=null,Ar=1,Tr="";function Us(s,a){Po[Ro++]=ll,Po[Ro++]=il,il=s,ll=a}function Np(s,a,d){Un[zn++]=Ar,Un[zn++]=Tr,Un[zn++]=$s,$s=s;var g=Ar;s=Tr;var x=32-Kn(g)-1;g&=~(1<<x),d+=1;var S=32-Kn(a)+x;if(30<S){var O=x-x%5;S=(g&(1<<O)-1).toString(32),g>>=O,x-=O,Ar=1<<32-Kn(a)+x|d<<x|g,Tr=S+s}else Ar=1<<S|d<<x|g,Tr=s}function Hu(s){s.return!==null&&(Us(s,1),Np(s,1,0))}function Vu(s){for(;s===il;)il=Po[--Ro],Po[Ro]=null,ll=Po[--Ro],Po[Ro]=null;for(;s===$s;)$s=Un[--zn],Un[zn]=null,Tr=Un[--zn],Un[zn]=null,Ar=Un[--zn],Un[zn]=null}var Tn=null,In=null,Mt=!1,Jn=null;function Sp(s,a){var d=qn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=s,a=s.deletions,a===null?(s.deletions=[d],s.flags|=16):a.push(d)}function jp(s,a){switch(s.tag){case 5:var d=s.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Tn=s,In=ss(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Tn=s,In=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=$s!==null?{id:Ar,overflow:Tr}:null,s.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=qn(18,null,null,0),d.stateNode=a,d.return=s,s.child=d,Tn=s,In=null,!0):!1;default:return!1}}function qu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Gu(s){if(Mt){var a=In;if(a){var d=a;if(!jp(s,a)){if(qu(s))throw Error(n(418));a=ss(d.nextSibling);var g=Tn;a&&jp(s,a)?Sp(g,d):(s.flags=s.flags&-4097|2,Mt=!1,Tn=s)}}else{if(qu(s))throw Error(n(418));s.flags=s.flags&-4097|2,Mt=!1,Tn=s}}}function Cp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Tn=s}function cl(s){if(s!==Tn)return!1;if(!Mt)return Cp(s),Mt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Lu(s.type,s.memoizedProps)),a&&(a=In)){if(qu(s))throw kp(),Error(n(418));for(;a;)Sp(s,a),a=ss(a.nextSibling)}if(Cp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(a===0){In=ss(s.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}s=s.nextSibling}In=null}}else In=Tn?ss(s.stateNode.nextSibling):null;return!0}function kp(){for(var s=In;s;)s=ss(s.nextSibling)}function Ao(){In=Tn=null,Mt=!1}function Yu(s){Jn===null?Jn=[s]:Jn.push(s)}var T_=R.ReactCurrentBatchConfig;function Va(s,a,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,s));var x=g,S=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(O){var G=x.refs;O===null?delete G[S]:G[S]=O},a._stringRef=S,a)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function ul(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Ep(s){var a=s._init;return a(s._payload)}function Pp(s){function a(oe,ne){if(s){var ie=oe.deletions;ie===null?(oe.deletions=[ne],oe.flags|=16):ie.push(ne)}}function d(oe,ne){if(!s)return null;for(;ne!==null;)a(oe,ne),ne=ne.sibling;return null}function g(oe,ne){for(oe=new Map;ne!==null;)ne.key!==null?oe.set(ne.key,ne):oe.set(ne.index,ne),ne=ne.sibling;return oe}function x(oe,ne){return oe=ps(oe,ne),oe.index=0,oe.sibling=null,oe}function S(oe,ne,ie){return oe.index=ie,s?(ie=oe.alternate,ie!==null?(ie=ie.index,ie<ne?(oe.flags|=2,ne):ie):(oe.flags|=2,ne)):(oe.flags|=1048576,ne)}function O(oe){return s&&oe.alternate===null&&(oe.flags|=2),oe}function G(oe,ne,ie,Ne){return ne===null||ne.tag!==6?(ne=Bd(ie,oe.mode,Ne),ne.return=oe,ne):(ne=x(ne,ie),ne.return=oe,ne)}function Z(oe,ne,ie,Ne){var $e=ie.type;return $e===B?xe(oe,ne,ie.props.children,Ne,ie.key):ne!==null&&(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===A&&Ep($e)===ne.type)?(Ne=x(ne,ie.props),Ne.ref=Va(oe,ne,ie),Ne.return=oe,Ne):(Ne=Ol(ie.type,ie.key,ie.props,null,oe.mode,Ne),Ne.ref=Va(oe,ne,ie),Ne.return=oe,Ne)}function ce(oe,ne,ie,Ne){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ie.containerInfo||ne.stateNode.implementation!==ie.implementation?(ne=$d(ie,oe.mode,Ne),ne.return=oe,ne):(ne=x(ne,ie.children||[]),ne.return=oe,ne)}function xe(oe,ne,ie,Ne,$e){return ne===null||ne.tag!==7?(ne=Ks(ie,oe.mode,Ne,$e),ne.return=oe,ne):(ne=x(ne,ie),ne.return=oe,ne)}function we(oe,ne,ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Bd(""+ne,oe.mode,ie),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case F:return ie=Ol(ne.type,ne.key,ne.props,null,oe.mode,ie),ie.ref=Va(oe,null,ne),ie.return=oe,ie;case T:return ne=$d(ne,oe.mode,ie),ne.return=oe,ne;case A:var Ne=ne._init;return we(oe,Ne(ne._payload),ie)}if(Se(ne)||z(ne))return ne=Ks(ne,oe.mode,ie,null),ne.return=oe,ne;ul(oe,ne)}return null}function ye(oe,ne,ie,Ne){var $e=ne!==null?ne.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $e!==null?null:G(oe,ne,""+ie,Ne);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:return ie.key===$e?Z(oe,ne,ie,Ne):null;case T:return ie.key===$e?ce(oe,ne,ie,Ne):null;case A:return $e=ie._init,ye(oe,ne,$e(ie._payload),Ne)}if(Se(ie)||z(ie))return $e!==null?null:xe(oe,ne,ie,Ne,null);ul(oe,ie)}return null}function Re(oe,ne,ie,Ne,$e){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return oe=oe.get(ie)||null,G(ne,oe,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case F:return oe=oe.get(Ne.key===null?ie:Ne.key)||null,Z(ne,oe,Ne,$e);case T:return oe=oe.get(Ne.key===null?ie:Ne.key)||null,ce(ne,oe,Ne,$e);case A:var Ge=Ne._init;return Re(oe,ne,ie,Ge(Ne._payload),$e)}if(Se(Ne)||z(Ne))return oe=oe.get(ie)||null,xe(ne,oe,Ne,$e,null);ul(ne,Ne)}return null}function De(oe,ne,ie,Ne){for(var $e=null,Ge=null,Ye=ne,nt=ne=0,tn=null;Ye!==null&&nt<ie.length;nt++){Ye.index>nt?(tn=Ye,Ye=null):tn=Ye.sibling;var wt=ye(oe,Ye,ie[nt],Ne);if(wt===null){Ye===null&&(Ye=tn);break}s&&Ye&&wt.alternate===null&&a(oe,Ye),ne=S(wt,ne,nt),Ge===null?$e=wt:Ge.sibling=wt,Ge=wt,Ye=tn}if(nt===ie.length)return d(oe,Ye),Mt&&Us(oe,nt),$e;if(Ye===null){for(;nt<ie.length;nt++)Ye=we(oe,ie[nt],Ne),Ye!==null&&(ne=S(Ye,ne,nt),Ge===null?$e=Ye:Ge.sibling=Ye,Ge=Ye);return Mt&&Us(oe,nt),$e}for(Ye=g(oe,Ye);nt<ie.length;nt++)tn=Re(Ye,oe,nt,ie[nt],Ne),tn!==null&&(s&&tn.alternate!==null&&Ye.delete(tn.key===null?nt:tn.key),ne=S(tn,ne,nt),Ge===null?$e=tn:Ge.sibling=tn,Ge=tn);return s&&Ye.forEach(function(gs){return a(oe,gs)}),Mt&&Us(oe,nt),$e}function Be(oe,ne,ie,Ne){var $e=z(ie);if(typeof $e!="function")throw Error(n(150));if(ie=$e.call(ie),ie==null)throw Error(n(151));for(var Ge=$e=null,Ye=ne,nt=ne=0,tn=null,wt=ie.next();Ye!==null&&!wt.done;nt++,wt=ie.next()){Ye.index>nt?(tn=Ye,Ye=null):tn=Ye.sibling;var gs=ye(oe,Ye,wt.value,Ne);if(gs===null){Ye===null&&(Ye=tn);break}s&&Ye&&gs.alternate===null&&a(oe,Ye),ne=S(gs,ne,nt),Ge===null?$e=gs:Ge.sibling=gs,Ge=gs,Ye=tn}if(wt.done)return d(oe,Ye),Mt&&Us(oe,nt),$e;if(Ye===null){for(;!wt.done;nt++,wt=ie.next())wt=we(oe,wt.value,Ne),wt!==null&&(ne=S(wt,ne,nt),Ge===null?$e=wt:Ge.sibling=wt,Ge=wt);return Mt&&Us(oe,nt),$e}for(Ye=g(oe,Ye);!wt.done;nt++,wt=ie.next())wt=Re(Ye,oe,nt,wt.value,Ne),wt!==null&&(s&&wt.alternate!==null&&Ye.delete(wt.key===null?nt:wt.key),ne=S(wt,ne,nt),Ge===null?$e=wt:Ge.sibling=wt,Ge=wt);return s&&Ye.forEach(function(d2){return a(oe,d2)}),Mt&&Us(oe,nt),$e}function Wt(oe,ne,ie,Ne){if(typeof ie=="object"&&ie!==null&&ie.type===B&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case F:e:{for(var $e=ie.key,Ge=ne;Ge!==null;){if(Ge.key===$e){if($e=ie.type,$e===B){if(Ge.tag===7){d(oe,Ge.sibling),ne=x(Ge,ie.props.children),ne.return=oe,oe=ne;break e}}else if(Ge.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===A&&Ep($e)===Ge.type){d(oe,Ge.sibling),ne=x(Ge,ie.props),ne.ref=Va(oe,Ge,ie),ne.return=oe,oe=ne;break e}d(oe,Ge);break}else a(oe,Ge);Ge=Ge.sibling}ie.type===B?(ne=Ks(ie.props.children,oe.mode,Ne,ie.key),ne.return=oe,oe=ne):(Ne=Ol(ie.type,ie.key,ie.props,null,oe.mode,Ne),Ne.ref=Va(oe,ne,ie),Ne.return=oe,oe=Ne)}return O(oe);case T:e:{for(Ge=ie.key;ne!==null;){if(ne.key===Ge)if(ne.tag===4&&ne.stateNode.containerInfo===ie.containerInfo&&ne.stateNode.implementation===ie.implementation){d(oe,ne.sibling),ne=x(ne,ie.children||[]),ne.return=oe,oe=ne;break e}else{d(oe,ne);break}else a(oe,ne);ne=ne.sibling}ne=$d(ie,oe.mode,Ne),ne.return=oe,oe=ne}return O(oe);case A:return Ge=ie._init,Wt(oe,ne,Ge(ie._payload),Ne)}if(Se(ie))return De(oe,ne,ie,Ne);if(z(ie))return Be(oe,ne,ie,Ne);ul(oe,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,ne!==null&&ne.tag===6?(d(oe,ne.sibling),ne=x(ne,ie),ne.return=oe,oe=ne):(d(oe,ne),ne=Bd(ie,oe.mode,Ne),ne.return=oe,oe=ne),O(oe)):d(oe,ne)}return Wt}var To=Pp(!0),Rp=Pp(!1),dl=os(null),fl=null,Io=null,Ku=null;function Qu(){Ku=Io=fl=null}function Ju(s){var a=dl.current;Dt(dl),s._currentValue=a}function Xu(s,a,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===d)break;s=s.return}}function Oo(s,a){fl=s,Ku=Io=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(bn=!0),s.firstContext=null)}function Wn(s){var a=s._currentValue;if(Ku!==s)if(s={context:s,memoizedValue:a,next:null},Io===null){if(fl===null)throw Error(n(308));Io=s,fl.dependencies={lanes:0,firstContext:s}}else Io=Io.next=s;return a}var zs=null;function Zu(s){zs===null?zs=[s]:zs.push(s)}function Ap(s,a,d,g){var x=a.interleaved;return x===null?(d.next=d,Zu(a)):(d.next=x.next,x.next=d),a.interleaved=d,Ir(s,g)}function Ir(s,a){s.lanes|=a;var d=s.alternate;for(d!==null&&(d.lanes|=a),d=s,s=s.return;s!==null;)s.childLanes|=a,d=s.alternate,d!==null&&(d.childLanes|=a),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ls=!1;function ed(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Or(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function cs(s,a,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(gt&2)!==0){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,Ir(s,d)}return x=g.interleaved,x===null?(a.next=a,Zu(g)):(a.next=x.next,x.next=a),g.interleaved=a,Ir(s,d)}function hl(s,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,d|=g,a.lanes=d,mu(s,d)}}function Ip(s,a){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var O={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?x=S=O:S=S.next=O,d=d.next}while(d!==null);S===null?x=S=a:S=S.next=a}else x=S=a;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=a:s.next=a,d.lastBaseUpdate=a}function ml(s,a,d,g){var x=s.updateQueue;ls=!1;var S=x.firstBaseUpdate,O=x.lastBaseUpdate,G=x.shared.pending;if(G!==null){x.shared.pending=null;var Z=G,ce=Z.next;Z.next=null,O===null?S=ce:O.next=ce,O=Z;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,G=xe.lastBaseUpdate,G!==O&&(G===null?xe.firstBaseUpdate=ce:G.next=ce,xe.lastBaseUpdate=Z))}if(S!==null){var we=x.baseState;O=0,xe=ce=Z=null,G=S;do{var ye=G.lane,Re=G.eventTime;if((g&ye)===ye){xe!==null&&(xe=xe.next={eventTime:Re,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var De=s,Be=G;switch(ye=a,Re=d,Be.tag){case 1:if(De=Be.payload,typeof De=="function"){we=De.call(Re,we,ye);break e}we=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,ye=typeof De=="function"?De.call(Re,we,ye):De,ye==null)break e;we=L({},we,ye);break e;case 2:ls=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,ye=x.effects,ye===null?x.effects=[G]:ye.push(G))}else Re={eventTime:Re,lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},xe===null?(ce=xe=Re,Z=we):xe=xe.next=Re,O|=ye;if(G=G.next,G===null){if(G=x.shared.pending,G===null)break;ye=G,G=ye.next,ye.next=null,x.lastBaseUpdate=ye,x.shared.pending=null}}while(!0);if(xe===null&&(Z=we),x.baseState=Z,x.firstBaseUpdate=ce,x.lastBaseUpdate=xe,a=x.shared.interleaved,a!==null){x=a;do O|=x.lane,x=x.next;while(x!==a)}else S===null&&(x.shared.lanes=0);Vs|=O,s.lanes=O,s.memoizedState=we}}function Op(s,a,d){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var qa={},pr=os(qa),Ga=os(qa),Ya=os(qa);function Ws(s){if(s===qa)throw Error(n(174));return s}function td(s,a){switch(Rt(Ya,a),Rt(Ga,s),Rt(pr,qa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ue(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ue(a,s)}Dt(pr),Rt(pr,a)}function Do(){Dt(pr),Dt(Ga),Dt(Ya)}function Dp(s){Ws(Ya.current);var a=Ws(pr.current),d=Ue(a,s.type);a!==d&&(Rt(Ga,s),Rt(pr,d))}function nd(s){Ga.current===s&&(Dt(pr),Dt(Ga))}var Ft=os(0);function pl(s){for(var a=s;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rd=[];function sd(){for(var s=0;s<rd.length;s++)rd[s]._workInProgressVersionPrimary=null;rd.length=0}var gl=R.ReactCurrentDispatcher,od=R.ReactCurrentBatchConfig,Hs=0,Lt=null,Yt=null,Zt=null,vl=!1,Ka=!1,Qa=0,I_=0;function un(){throw Error(n(321))}function ad(s,a){if(a===null)return!1;for(var d=0;d<a.length&&d<s.length;d++)if(!Qn(s[d],a[d]))return!1;return!0}function id(s,a,d,g,x,S){if(Hs=S,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gl.current=s===null||s.memoizedState===null?F_:L_,s=d(g,x),Ka){S=0;do{if(Ka=!1,Qa=0,25<=S)throw Error(n(301));S+=1,Zt=Yt=null,a.updateQueue=null,gl.current=B_,s=d(g,x)}while(Ka)}if(gl.current=wl,a=Yt!==null&&Yt.next!==null,Hs=0,Zt=Yt=Lt=null,vl=!1,a)throw Error(n(300));return s}function ld(){var s=Qa!==0;return Qa=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Lt.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function Hn(){if(Yt===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=Yt.next;var a=Zt===null?Lt.memoizedState:Zt.next;if(a!==null)Zt=a,Yt=s;else{if(s===null)throw Error(n(310));Yt=s,s={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Zt===null?Lt.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function Ja(s,a){return typeof a=="function"?a(s):a}function cd(s){var a=Hn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=Yt,x=g.baseQueue,S=d.pending;if(S!==null){if(x!==null){var O=x.next;x.next=S.next,S.next=O}g.baseQueue=x=S,d.pending=null}if(x!==null){S=x.next,g=g.baseState;var G=O=null,Z=null,ce=S;do{var xe=ce.lane;if((Hs&xe)===xe)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),g=ce.hasEagerState?ce.eagerState:s(g,ce.action);else{var we={lane:xe,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(G=Z=we,O=g):Z=Z.next=we,Lt.lanes|=xe,Vs|=xe}ce=ce.next}while(ce!==null&&ce!==S);Z===null?O=g:Z.next=G,Qn(g,a.memoizedState)||(bn=!0),a.memoizedState=g,a.baseState=O,a.baseQueue=Z,d.lastRenderedState=g}if(s=d.interleaved,s!==null){x=s;do S=x.lane,Lt.lanes|=S,Vs|=S,x=x.next;while(x!==s)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function ud(s){var a=Hn(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var g=d.dispatch,x=d.pending,S=a.memoizedState;if(x!==null){d.pending=null;var O=x=x.next;do S=s(S,O.action),O=O.next;while(O!==x);Qn(S,a.memoizedState)||(bn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),d.lastRenderedState=S}return[S,g]}function Mp(){}function Fp(s,a){var d=Lt,g=Hn(),x=a(),S=!Qn(g.memoizedState,x);if(S&&(g.memoizedState=x,bn=!0),g=g.queue,dd($p.bind(null,d,g,s),[s]),g.getSnapshot!==a||S||Zt!==null&&Zt.memoizedState.tag&1){if(d.flags|=2048,Xa(9,Bp.bind(null,d,g,x,a),void 0,null),en===null)throw Error(n(349));(Hs&30)!==0||Lp(d,a,x)}return x}function Lp(s,a,d){s.flags|=16384,s={getSnapshot:a,value:d},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.stores=[s]):(d=a.stores,d===null?a.stores=[s]:d.push(s))}function Bp(s,a,d,g){a.value=d,a.getSnapshot=g,Up(a)&&zp(s)}function $p(s,a,d){return d(function(){Up(a)&&zp(s)})}function Up(s){var a=s.getSnapshot;s=s.value;try{var d=a();return!Qn(s,d)}catch{return!0}}function zp(s){var a=Ir(s,1);a!==null&&tr(a,s,1,-1)}function Wp(s){var a=gr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:s},a.queue=s,s=s.dispatch=M_.bind(null,Lt,s),[a.memoizedState,s]}function Xa(s,a,d,g){return s={tag:s,create:a,destroy:d,deps:g,next:null},a=Lt.updateQueue,a===null?(a={lastEffect:null,stores:null},Lt.updateQueue=a,a.lastEffect=s.next=s):(d=a.lastEffect,d===null?a.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,a.lastEffect=s)),s}function Hp(){return Hn().memoizedState}function yl(s,a,d,g){var x=gr();Lt.flags|=s,x.memoizedState=Xa(1|a,d,void 0,g===void 0?null:g)}function xl(s,a,d,g){var x=Hn();g=g===void 0?null:g;var S=void 0;if(Yt!==null){var O=Yt.memoizedState;if(S=O.destroy,g!==null&&ad(g,O.deps)){x.memoizedState=Xa(a,d,S,g);return}}Lt.flags|=s,x.memoizedState=Xa(1|a,d,S,g)}function Vp(s,a){return yl(8390656,8,s,a)}function dd(s,a){return xl(2048,8,s,a)}function qp(s,a){return xl(4,2,s,a)}function Gp(s,a){return xl(4,4,s,a)}function Yp(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Kp(s,a,d){return d=d!=null?d.concat([s]):null,xl(4,4,Yp.bind(null,a,s),d)}function fd(){}function Qp(s,a){var d=Hn();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&ad(a,g[1])?g[0]:(d.memoizedState=[s,a],s)}function Jp(s,a){var d=Hn();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&ad(a,g[1])?g[0]:(s=s(),d.memoizedState=[s,a],s)}function Xp(s,a,d){return(Hs&21)===0?(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=d):(Qn(d,a)||(d=Em(),Lt.lanes|=d,Vs|=d,s.baseState=!0),a)}function O_(s,a){var d=Ct;Ct=d!==0&&4>d?d:4,s(!0);var g=od.transition;od.transition={};try{s(!1),a()}finally{Ct=d,od.transition=g}}function Zp(){return Hn().memoizedState}function D_(s,a,d){var g=hs(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},eg(s))tg(a,d);else if(d=Ap(s,a,d,g),d!==null){var x=vn();tr(d,s,g,x),ng(d,a,g)}}function M_(s,a,d){var g=hs(s),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(eg(s))tg(a,x);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var O=a.lastRenderedState,G=S(O,d);if(x.hasEagerState=!0,x.eagerState=G,Qn(G,O)){var Z=a.interleaved;Z===null?(x.next=x,Zu(a)):(x.next=Z.next,Z.next=x),a.interleaved=x;return}}catch{}finally{}d=Ap(s,a,x,g),d!==null&&(x=vn(),tr(d,s,g,x),ng(d,a,g))}}function eg(s){var a=s.alternate;return s===Lt||a!==null&&a===Lt}function tg(s,a){Ka=vl=!0;var d=s.pending;d===null?a.next=a:(a.next=d.next,d.next=a),s.pending=a}function ng(s,a,d){if((d&4194240)!==0){var g=a.lanes;g&=s.pendingLanes,d|=g,a.lanes=d,mu(s,d)}}var wl={readContext:Wn,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},F_={readContext:Wn,useCallback:function(s,a){return gr().memoizedState=[s,a===void 0?null:a],s},useContext:Wn,useEffect:Vp,useImperativeHandle:function(s,a,d){return d=d!=null?d.concat([s]):null,yl(4194308,4,Yp.bind(null,a,s),d)},useLayoutEffect:function(s,a){return yl(4194308,4,s,a)},useInsertionEffect:function(s,a){return yl(4,2,s,a)},useMemo:function(s,a){var d=gr();return a=a===void 0?null:a,s=s(),d.memoizedState=[s,a],s},useReducer:function(s,a,d){var g=gr();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=D_.bind(null,Lt,s),[g.memoizedState,s]},useRef:function(s){var a=gr();return s={current:s},a.memoizedState=s},useState:Wp,useDebugValue:fd,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Wp(!1),a=s[0];return s=O_.bind(null,s[1]),gr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,d){var g=Lt,x=gr();if(Mt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),en===null)throw Error(n(349));(Hs&30)!==0||Lp(g,a,d)}x.memoizedState=d;var S={value:d,getSnapshot:a};return x.queue=S,Vp($p.bind(null,g,S,s),[s]),g.flags|=2048,Xa(9,Bp.bind(null,g,S,d,a),void 0,null),d},useId:function(){var s=gr(),a=en.identifierPrefix;if(Mt){var d=Tr,g=Ar;d=(g&~(1<<32-Kn(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=Qa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=I_++,a=":"+a+"r"+d.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},L_={readContext:Wn,useCallback:Qp,useContext:Wn,useEffect:dd,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Gp,useMemo:Jp,useReducer:cd,useRef:Hp,useState:function(){return cd(Ja)},useDebugValue:fd,useDeferredValue:function(s){var a=Hn();return Xp(a,Yt.memoizedState,s)},useTransition:function(){var s=cd(Ja)[0],a=Hn().memoizedState;return[s,a]},useMutableSource:Mp,useSyncExternalStore:Fp,useId:Zp,unstable_isNewReconciler:!1},B_={readContext:Wn,useCallback:Qp,useContext:Wn,useEffect:dd,useImperativeHandle:Kp,useInsertionEffect:qp,useLayoutEffect:Gp,useMemo:Jp,useReducer:ud,useRef:Hp,useState:function(){return ud(Ja)},useDebugValue:fd,useDeferredValue:function(s){var a=Hn();return Yt===null?a.memoizedState=s:Xp(a,Yt.memoizedState,s)},useTransition:function(){var s=ud(Ja)[0],a=Hn().memoizedState;return[s,a]},useMutableSource:Mp,useSyncExternalStore:Fp,useId:Zp,unstable_isNewReconciler:!1};function Xn(s,a){if(s&&s.defaultProps){a=L({},a),s=s.defaultProps;for(var d in s)a[d]===void 0&&(a[d]=s[d]);return a}return a}function hd(s,a,d,g){a=s.memoizedState,d=d(g,a),d=d==null?a:L({},a,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var bl={isMounted:function(s){return(s=s._reactInternals)?Fs(s)===s:!1},enqueueSetState:function(s,a,d){s=s._reactInternals;var g=vn(),x=hs(s),S=Or(g,x);S.payload=a,d!=null&&(S.callback=d),a=cs(s,S,x),a!==null&&(tr(a,s,x,g),hl(a,s,x))},enqueueReplaceState:function(s,a,d){s=s._reactInternals;var g=vn(),x=hs(s),S=Or(g,x);S.tag=1,S.payload=a,d!=null&&(S.callback=d),a=cs(s,S,x),a!==null&&(tr(a,s,x,g),hl(a,s,x))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var d=vn(),g=hs(s),x=Or(d,g);x.tag=2,a!=null&&(x.callback=a),a=cs(s,x,g),a!==null&&(tr(a,s,g,d),hl(a,s,g))}};function rg(s,a,d,g,x,S,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,O):a.prototype&&a.prototype.isPureReactComponent?!La(d,g)||!La(x,S):!0}function sg(s,a,d){var g=!1,x=as,S=a.contextType;return typeof S=="object"&&S!==null?S=Wn(S):(x=wn(a)?Bs:cn.current,g=a.contextTypes,S=(g=g!=null)?Eo(s,x):as),a=new a(d,S),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bl,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=S),a}function og(s,a,d,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==s&&bl.enqueueReplaceState(a,a.state,null)}function md(s,a,d,g){var x=s.stateNode;x.props=d,x.state=s.memoizedState,x.refs={},ed(s);var S=a.contextType;typeof S=="object"&&S!==null?x.context=Wn(S):(S=wn(a)?Bs:cn.current,x.context=Eo(s,S)),x.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(hd(s,a,S,d),x.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&bl.enqueueReplaceState(x,x.state,null),ml(s,d,x,g),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Mo(s,a){try{var d="",g=a;do d+=ee(g),g=g.return;while(g);var x=d}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:a,stack:x,digest:null}}function pd(s,a,d){return{value:s,source:null,stack:d??null,digest:a??null}}function gd(s,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function ag(s,a,d){d=Or(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){El||(El=!0,Ad=g),gd(s,a)},d}function ig(s,a,d){d=Or(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;d.payload=function(){return g(x)},d.callback=function(){gd(s,a)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){gd(s,a),typeof g!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var O=a.stack;this.componentDidCatch(a.value,{componentStack:O!==null?O:""})}),d}function lg(s,a,d){var g=s.pingCache;if(g===null){g=s.pingCache=new $_;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(d)||(x.add(d),s=e2.bind(null,s,a,d),a.then(s,s))}function cg(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function ug(s,a,d,g,x){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Or(-1,1),a.tag=2,cs(d,a,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var U_=R.ReactCurrentOwner,bn=!1;function gn(s,a,d,g){a.child=s===null?Rp(a,null,d,g):To(a,s.child,d,g)}function dg(s,a,d,g,x){d=d.render;var S=a.ref;return Oo(a,x),g=id(s,a,d,g,S,x),d=ld(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Dr(s,a,x)):(Mt&&d&&Hu(a),a.flags|=1,gn(s,a,g,x),a.child)}function fg(s,a,d,g,x){if(s===null){var S=d.type;return typeof S=="function"&&!Ld(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=S,hg(s,a,S,g,x)):(s=Ol(d.type,null,g,a,a.mode,x),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,(s.lanes&x)===0){var O=S.memoizedProps;if(d=d.compare,d=d!==null?d:La,d(O,g)&&s.ref===a.ref)return Dr(s,a,x)}return a.flags|=1,s=ps(S,g),s.ref=a.ref,s.return=a,a.child=s}function hg(s,a,d,g,x){if(s!==null){var S=s.memoizedProps;if(La(S,g)&&s.ref===a.ref)if(bn=!1,a.pendingProps=g=S,(s.lanes&x)!==0)(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,Dr(s,a,x)}return vd(s,a,d,g,x)}function mg(s,a,d){var g=a.pendingProps,x=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Lo,On),On|=d;else{if((d&1073741824)===0)return s=S!==null?S.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Rt(Lo,On),On|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,Rt(Lo,On),On|=g}else S!==null?(g=S.baseLanes|d,a.memoizedState=null):g=d,Rt(Lo,On),On|=g;return gn(s,a,x,d),a.child}function pg(s,a){var d=a.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function vd(s,a,d,g,x){var S=wn(d)?Bs:cn.current;return S=Eo(a,S),Oo(a,x),d=id(s,a,d,g,S,x),g=ld(),s!==null&&!bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~x,Dr(s,a,x)):(Mt&&g&&Hu(a),a.flags|=1,gn(s,a,d,x),a.child)}function gg(s,a,d,g,x){if(wn(d)){var S=!0;ol(a)}else S=!1;if(Oo(a,x),a.stateNode===null)Nl(s,a),sg(a,d,g),md(a,d,g,x),g=!0;else if(s===null){var O=a.stateNode,G=a.memoizedProps;O.props=G;var Z=O.context,ce=d.contextType;typeof ce=="object"&&ce!==null?ce=Wn(ce):(ce=wn(d)?Bs:cn.current,ce=Eo(a,ce));var xe=d.getDerivedStateFromProps,we=typeof xe=="function"||typeof O.getSnapshotBeforeUpdate=="function";we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==g||Z!==ce)&&og(a,O,g,ce),ls=!1;var ye=a.memoizedState;O.state=ye,ml(a,g,O,x),Z=a.memoizedState,G!==g||ye!==Z||xn.current||ls?(typeof xe=="function"&&(hd(a,d,xe,g),Z=a.memoizedState),(G=ls||rg(a,d,G,g,ye,Z,ce))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(a.flags|=4194308)):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Z),O.props=g,O.state=Z,O.context=ce,g=G):(typeof O.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{O=a.stateNode,Tp(s,a),G=a.memoizedProps,ce=a.type===a.elementType?G:Xn(a.type,G),O.props=ce,we=a.pendingProps,ye=O.context,Z=d.contextType,typeof Z=="object"&&Z!==null?Z=Wn(Z):(Z=wn(d)?Bs:cn.current,Z=Eo(a,Z));var Re=d.getDerivedStateFromProps;(xe=typeof Re=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==we||ye!==Z)&&og(a,O,g,Z),ls=!1,ye=a.memoizedState,O.state=ye,ml(a,g,O,x);var De=a.memoizedState;G!==we||ye!==De||xn.current||ls?(typeof Re=="function"&&(hd(a,d,Re,g),De=a.memoizedState),(ce=ls||rg(a,d,ce,g,ye,De,Z)||!1)?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,De,Z),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,De,Z)),typeof O.componentDidUpdate=="function"&&(a.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=De),O.props=g,O.state=De,O.context=Z,g=ce):(typeof O.componentDidUpdate!="function"||G===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),g=!1)}return yd(s,a,d,g,S,x)}function yd(s,a,d,g,x,S){pg(s,a);var O=(a.flags&128)!==0;if(!g&&!O)return x&&bp(a,d,!1),Dr(s,a,S);g=a.stateNode,U_.current=a;var G=O&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&O?(a.child=To(a,s.child,null,S),a.child=To(a,null,G,S)):gn(s,a,G,S),a.memoizedState=g.state,x&&bp(a,d,!0),a.child}function vg(s){var a=s.stateNode;a.pendingContext?xp(s,a.pendingContext,a.pendingContext!==a.context):a.context&&xp(s,a.context,!1),td(s,a.containerInfo)}function yg(s,a,d,g,x){return Ao(),Yu(x),a.flags|=256,gn(s,a,d,g),a.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function wd(s){return{baseLanes:s,cachePool:null,transitions:null}}function xg(s,a,d){var g=a.pendingProps,x=Ft.current,S=!1,O=(a.flags&128)!==0,G;if((G=O)||(G=s!==null&&s.memoizedState===null?!1:(x&2)!==0),G?(S=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),Rt(Ft,x&1),s===null)return Gu(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(O=g.children,s=g.fallback,S?(g=a.mode,S=a.child,O={mode:"hidden",children:O},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=O):S=Dl(O,g,0,null),s=Ks(s,g,d,null),S.return=a,s.return=a,S.sibling=s,a.child=S,a.child.memoizedState=wd(d),a.memoizedState=xd,s):bd(a,O));if(x=s.memoizedState,x!==null&&(G=x.dehydrated,G!==null))return z_(s,a,O,g,G,x,d);if(S){S=g.fallback,O=a.mode,x=s.child,G=x.sibling;var Z={mode:"hidden",children:g.children};return(O&1)===0&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=Z,a.deletions=null):(g=ps(x,Z),g.subtreeFlags=x.subtreeFlags&14680064),G!==null?S=ps(G,S):(S=Ks(S,O,d,null),S.flags|=2),S.return=a,g.return=a,g.sibling=S,a.child=g,g=S,S=a.child,O=s.child.memoizedState,O=O===null?wd(d):{baseLanes:O.baseLanes|d,cachePool:null,transitions:O.transitions},S.memoizedState=O,S.childLanes=s.childLanes&~d,a.memoizedState=xd,g}return S=s.child,s=S.sibling,g=ps(S,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,s!==null&&(d=a.deletions,d===null?(a.deletions=[s],a.flags|=16):d.push(s)),a.child=g,a.memoizedState=null,g}function bd(s,a){return a=Dl({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function _l(s,a,d,g){return g!==null&&Yu(g),To(a,s.child,null,d),s=bd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function z_(s,a,d,g,x,S,O){if(d)return a.flags&256?(a.flags&=-257,g=pd(Error(n(422))),_l(s,a,O,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(S=g.fallback,x=a.mode,g=Dl({mode:"visible",children:g.children},x,0,null),S=Ks(S,x,O,null),S.flags|=2,g.return=a,S.return=a,g.sibling=S,a.child=g,(a.mode&1)!==0&&To(a,s.child,null,O),a.child.memoizedState=wd(O),a.memoizedState=xd,S);if((a.mode&1)===0)return _l(s,a,O,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var G=g.dgst;return g=G,S=Error(n(419)),g=pd(S,g,void 0),_l(s,a,O,g)}if(G=(O&s.childLanes)!==0,bn||G){if(g=en,g!==null){switch(O&-O){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|O))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,Ir(s,x),tr(g,s,x,-1))}return Fd(),g=pd(Error(n(421))),_l(s,a,O,g)}return x.data==="$?"?(a.flags|=128,a.child=s.child,a=t2.bind(null,s),x._reactRetry=a,null):(s=S.treeContext,In=ss(x.nextSibling),Tn=a,Mt=!0,Jn=null,s!==null&&(Un[zn++]=Ar,Un[zn++]=Tr,Un[zn++]=$s,Ar=s.id,Tr=s.overflow,$s=a),a=bd(a,g.children),a.flags|=4096,a)}function wg(s,a,d){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),Xu(s.return,a,d)}function _d(s,a,d,g,x){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=x)}function bg(s,a,d){var g=a.pendingProps,x=g.revealOrder,S=g.tail;if(gn(s,a,g.children,d),g=Ft.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wg(s,d,a);else if(s.tag===19)wg(s,d,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Rt(Ft,g),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)s=d.alternate,s!==null&&pl(s)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),_d(a,!1,x,d,S);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(s=x.alternate,s!==null&&pl(s)===null){a.child=x;break}s=x.sibling,x.sibling=d,d=x,x=s}_d(a,!0,d,null,S);break;case"together":_d(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nl(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Dr(s,a,d){if(s!==null&&(a.dependencies=s.dependencies),Vs|=a.lanes,(d&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,d=ps(s,s.pendingProps),a.child=d,d.return=a;s.sibling!==null;)s=s.sibling,d=d.sibling=ps(s,s.pendingProps),d.return=a;d.sibling=null}return a.child}function W_(s,a,d){switch(a.tag){case 3:vg(a),Ao();break;case 5:Dp(a);break;case 1:wn(a.type)&&ol(a);break;case 4:td(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;Rt(dl,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Rt(Ft,Ft.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?xg(s,a,d):(Rt(Ft,Ft.current&1),s=Dr(s,a,d),s!==null?s.sibling:null);Rt(Ft,Ft.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(s.flags&128)!==0){if(g)return bg(s,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Rt(Ft,Ft.current),g)break;return null;case 22:case 23:return a.lanes=0,mg(s,a,d)}return Dr(s,a,d)}var _g,Nd,Ng,Sg;_g=function(s,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Nd=function(){},Ng=function(s,a,d,g){var x=s.memoizedProps;if(x!==g){s=a.stateNode,Ws(pr.current);var S=null;switch(d){case"input":x=ue(s,x),g=ue(s,g),S=[];break;case"select":x=L({},x,{value:void 0}),g=L({},g,{value:void 0}),S=[];break;case"textarea":x=Qe(s,x),g=Qe(s,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=nl)}Pe(d,g);var O;d=null;for(ce in x)if(!g.hasOwnProperty(ce)&&x.hasOwnProperty(ce)&&x[ce]!=null)if(ce==="style"){var G=x[ce];for(O in G)G.hasOwnProperty(O)&&(d||(d={}),d[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in g){var Z=g[ce];if(G=x?.[ce],g.hasOwnProperty(ce)&&Z!==G&&(Z!=null||G!=null))if(ce==="style")if(G){for(O in G)!G.hasOwnProperty(O)||Z&&Z.hasOwnProperty(O)||(d||(d={}),d[O]="");for(O in Z)Z.hasOwnProperty(O)&&G[O]!==Z[O]&&(d||(d={}),d[O]=Z[O])}else d||(S||(S=[]),S.push(ce,d)),d=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,G=G?G.__html:void 0,Z!=null&&G!==Z&&(S=S||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&Ot("scroll",s),S||G===Z||(S=[])):(S=S||[]).push(ce,Z))}d&&(S=S||[]).push("style",d);var ce=S;(a.updateQueue=ce)&&(a.flags|=4)}},Sg=function(s,a,d,g){d!==g&&(a.flags|=4)};function Za(s,a){if(!Mt)switch(s.tailMode){case"hidden":a=s.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function dn(s){var a=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(a)for(var x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=g,s.childLanes=d,a}function H_(s,a,d){var g=a.pendingProps;switch(Vu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return wn(a.type)&&sl(),dn(a),null;case 3:return g=a.stateNode,Do(),Dt(xn),Dt(cn),sd(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(cl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jn!==null&&(Od(Jn),Jn=null))),Nd(s,a),dn(a),null;case 5:nd(a);var x=Ws(Ya.current);if(d=a.type,s!==null&&a.stateNode!=null)Ng(s,a,d,g,x),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return dn(a),null}if(s=Ws(pr.current),cl(a)){g=a.stateNode,d=a.type;var S=a.memoizedProps;switch(g[mr]=a,g[Wa]=S,s=(a.mode&1)!==0,d){case"dialog":Ot("cancel",g),Ot("close",g);break;case"iframe":case"object":case"embed":Ot("load",g);break;case"video":case"audio":for(x=0;x<$a.length;x++)Ot($a[x],g);break;case"source":Ot("error",g);break;case"img":case"image":case"link":Ot("error",g),Ot("load",g);break;case"details":Ot("toggle",g);break;case"input":q(g,S),Ot("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Ot("invalid",g);break;case"textarea":Ie(g,S),Ot("invalid",g)}Pe(d,S),x=null;for(var O in S)if(S.hasOwnProperty(O)){var G=S[O];O==="children"?typeof G=="string"?g.textContent!==G&&(S.suppressHydrationWarning!==!0&&tl(g.textContent,G,s),x=["children",G]):typeof G=="number"&&g.textContent!==""+G&&(S.suppressHydrationWarning!==!0&&tl(g.textContent,G,s),x=["children",""+G]):o.hasOwnProperty(O)&&G!=null&&O==="onScroll"&&Ot("scroll",g)}switch(d){case"input":pe(g),ve(g,S,!0);break;case"textarea":pe(g),tt(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=nl)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{O=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=O.createElement(d,{is:g.is}):(s=O.createElement(d),d==="select"&&(O=s,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):s=O.createElementNS(s,d),s[mr]=a,s[Wa]=g,_g(s,a,!1,!1),a.stateNode=s;e:{switch(O=Oe(d,g),d){case"dialog":Ot("cancel",s),Ot("close",s),x=g;break;case"iframe":case"object":case"embed":Ot("load",s),x=g;break;case"video":case"audio":for(x=0;x<$a.length;x++)Ot($a[x],s);x=g;break;case"source":Ot("error",s),x=g;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),x=g;break;case"details":Ot("toggle",s),x=g;break;case"input":q(s,g),x=ue(s,g),Ot("invalid",s);break;case"option":x=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},x=L({},g,{value:void 0}),Ot("invalid",s);break;case"textarea":Ie(s,g),x=Qe(s,g),Ot("invalid",s);break;default:x=g}Pe(d,x),G=x;for(S in G)if(G.hasOwnProperty(S)){var Z=G[S];S==="style"?Y(s,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&dt(s,Z)):S==="children"?typeof Z=="string"?(d!=="textarea"||Z!=="")&&ht(s,Z):typeof Z=="number"&&ht(s,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&Ot("scroll",s):Z!=null&&k(s,S,Z,O))}switch(d){case"input":pe(s),ve(s,g,!1);break;case"textarea":pe(s),tt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ae(g.value));break;case"select":s.multiple=!!g.multiple,S=g.value,S!=null?ze(s,!!g.multiple,S,!1):g.defaultValue!=null&&ze(s,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=nl)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(s&&a.stateNode!=null)Sg(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(d=Ws(Ya.current),Ws(pr.current),cl(a)){if(g=a.stateNode,d=a.memoizedProps,g[mr]=a,(S=g.nodeValue!==d)&&(s=Tn,s!==null))switch(s.tag){case 3:tl(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&tl(g.nodeValue,d,(s.mode&1)!==0)}S&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[mr]=a,a.stateNode=g}return dn(a),null;case 13:if(Dt(Ft),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Mt&&In!==null&&(a.mode&1)!==0&&(a.flags&128)===0)kp(),Ao(),a.flags|=98560,S=!1;else if(S=cl(a),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[mr]=a}else Ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),S=!1}else Jn!==null&&(Od(Jn),Jn=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ft.current&1)!==0?Kt===0&&(Kt=3):Fd())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return Do(),Nd(s,a),s===null&&Ua(a.stateNode.containerInfo),dn(a),null;case 10:return Ju(a.type._context),dn(a),null;case 17:return wn(a.type)&&sl(),dn(a),null;case 19:if(Dt(Ft),S=a.memoizedState,S===null)return dn(a),null;if(g=(a.flags&128)!==0,O=S.rendering,O===null)if(g)Za(S,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(O=pl(s),O!==null){for(a.flags|=128,Za(S,!1),g=O.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)S=d,s=g,S.flags&=14680066,O=S.alternate,O===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type,s=O.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Rt(Ft,Ft.current&1|2),a.child}s=s.sibling}S.tail!==null&&zt()>Bo&&(a.flags|=128,g=!0,Za(S,!1),a.lanes=4194304)}else{if(!g)if(s=pl(O),s!==null){if(a.flags|=128,g=!0,d=s.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Za(S,!0),S.tail===null&&S.tailMode==="hidden"&&!O.alternate&&!Mt)return dn(a),null}else 2*zt()-S.renderingStartTime>Bo&&d!==1073741824&&(a.flags|=128,g=!0,Za(S,!1),a.lanes=4194304);S.isBackwards?(O.sibling=a.child,a.child=O):(d=S.last,d!==null?d.sibling=O:a.child=O,S.last=O)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=zt(),a.sibling=null,d=Ft.current,Rt(Ft,g?d&1|2:d&1),a):(dn(a),null);case 22:case 23:return Md(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(On&1073741824)!==0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function V_(s,a){switch(Vu(a),a.tag){case 1:return wn(a.type)&&sl(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Do(),Dt(xn),Dt(cn),sd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return nd(a),null;case 13:if(Dt(Ft),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ao()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Dt(Ft),null;case 4:return Do(),null;case 10:return Ju(a.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var Sl=!1,fn=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Fo(s,a){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){$t(s,a,g)}else d.current=null}function Sd(s,a,d){try{d()}catch(g){$t(s,a,g)}}var jg=!1;function G_(s,a){if(Mu=Hi,s=rp(),Eu(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var O=0,G=-1,Z=-1,ce=0,xe=0,we=s,ye=null;t:for(;;){for(var Re;we!==d||x!==0&&we.nodeType!==3||(G=O+x),we!==S||g!==0&&we.nodeType!==3||(Z=O+g),we.nodeType===3&&(O+=we.nodeValue.length),(Re=we.firstChild)!==null;)ye=we,we=Re;for(;;){if(we===s)break t;if(ye===d&&++ce===x&&(G=O),ye===S&&++xe===g&&(Z=O),(Re=we.nextSibling)!==null)break;we=ye,ye=we.parentNode}we=Re}d=G===-1||Z===-1?null:{start:G,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Fu={focusedElem:s,selectionRange:d},Hi=!1,Te=a;Te!==null;)if(a=Te,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Te=s;else for(;Te!==null;){a=Te;try{var De=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Be=De.memoizedProps,Wt=De.memoizedState,oe=a.stateNode,ne=oe.getSnapshotBeforeUpdate(a.elementType===a.type?Be:Xn(a.type,Be),Wt);oe.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){$t(a,a.return,Ne)}if(s=a.sibling,s!==null){s.return=a.return,Te=s;break}Te=a.return}return De=jg,jg=!1,De}function ei(s,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&s)===s){var S=x.destroy;x.destroy=void 0,S!==void 0&&Sd(a,d,S)}x=x.next}while(x!==g)}}function jl(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function jd(s){var a=s.ref;if(a!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof a=="function"?a(s):a.current=s}}function Cg(s){var a=s.alternate;a!==null&&(s.alternate=null,Cg(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[mr],delete a[Wa],delete a[Uu],delete a[P_],delete a[R_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function kg(s){return s.tag===5||s.tag===3||s.tag===4}function Eg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cd(s,a,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(s,a):d.insertBefore(s,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(s,d)):(a=d,a.appendChild(s)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=nl));else if(g!==4&&(s=s.child,s!==null))for(Cd(s,a,d),s=s.sibling;s!==null;)Cd(s,a,d),s=s.sibling}function kd(s,a,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?d.insertBefore(s,a):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(kd(s,a,d),s=s.sibling;s!==null;)kd(s,a,d),s=s.sibling}var sn=null,Zn=!1;function us(s,a,d){for(d=d.child;d!==null;)Pg(s,a,d),d=d.sibling}function Pg(s,a,d){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Li,d)}catch{}switch(d.tag){case 5:fn||Fo(d,a);case 6:var g=sn,x=Zn;sn=null,us(s,a,d),sn=g,Zn=x,sn!==null&&(Zn?(s=sn,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):sn.removeChild(d.stateNode));break;case 18:sn!==null&&(Zn?(s=sn,d=d.stateNode,s.nodeType===8?$u(s.parentNode,d):s.nodeType===1&&$u(s,d),Ta(s)):$u(sn,d.stateNode));break;case 4:g=sn,x=Zn,sn=d.stateNode.containerInfo,Zn=!0,us(s,a,d),sn=g,Zn=x;break;case 0:case 11:case 14:case 15:if(!fn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,O=S.destroy;S=S.tag,O!==void 0&&((S&2)!==0||(S&4)!==0)&&Sd(d,a,O),x=x.next}while(x!==g)}us(s,a,d);break;case 1:if(!fn&&(Fo(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(G){$t(d,a,G)}us(s,a,d);break;case 21:us(s,a,d);break;case 22:d.mode&1?(fn=(g=fn)||d.memoizedState!==null,us(s,a,d),fn=g):us(s,a,d);break;default:us(s,a,d)}}function Rg(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new q_),a.forEach(function(g){var x=n2.bind(null,s,g);d.has(g)||(d.add(g),g.then(x,x))})}}function er(s,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var S=s,O=a,G=O;e:for(;G!==null;){switch(G.tag){case 5:sn=G.stateNode,Zn=!1;break e;case 3:sn=G.stateNode.containerInfo,Zn=!0;break e;case 4:sn=G.stateNode.containerInfo,Zn=!0;break e}G=G.return}if(sn===null)throw Error(n(160));Pg(S,O,x),sn=null,Zn=!1;var Z=x.alternate;Z!==null&&(Z.return=null),x.return=null}catch(ce){$t(x,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ag(a,s),a=a.sibling}function Ag(s,a){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(er(a,s),vr(s),g&4){try{ei(3,s,s.return),jl(3,s)}catch(Be){$t(s,s.return,Be)}try{ei(5,s,s.return)}catch(Be){$t(s,s.return,Be)}}break;case 1:er(a,s),vr(s),g&512&&d!==null&&Fo(d,d.return);break;case 5:if(er(a,s),vr(s),g&512&&d!==null&&Fo(d,d.return),s.flags&32){var x=s.stateNode;try{ht(x,"")}catch(Be){$t(s,s.return,Be)}}if(g&4&&(x=s.stateNode,x!=null)){var S=s.memoizedProps,O=d!==null?d.memoizedProps:S,G=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{G==="input"&&S.type==="radio"&&S.name!=null&&he(x,S),Oe(G,O);var ce=Oe(G,S);for(O=0;O<Z.length;O+=2){var xe=Z[O],we=Z[O+1];xe==="style"?Y(x,we):xe==="dangerouslySetInnerHTML"?dt(x,we):xe==="children"?ht(x,we):k(x,xe,we,ce)}switch(G){case"input":ge(x,S);break;case"textarea":ke(x,S);break;case"select":var ye=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var Re=S.value;Re!=null?ze(x,!!S.multiple,Re,!1):ye!==!!S.multiple&&(S.defaultValue!=null?ze(x,!!S.multiple,S.defaultValue,!0):ze(x,!!S.multiple,S.multiple?[]:"",!1))}x[Wa]=S}catch(Be){$t(s,s.return,Be)}}break;case 6:if(er(a,s),vr(s),g&4){if(s.stateNode===null)throw Error(n(162));x=s.stateNode,S=s.memoizedProps;try{x.nodeValue=S}catch(Be){$t(s,s.return,Be)}}break;case 3:if(er(a,s),vr(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ta(a.containerInfo)}catch(Be){$t(s,s.return,Be)}break;case 4:er(a,s),vr(s);break;case 13:er(a,s),vr(s),x=s.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Rd=zt())),g&4&&Rg(s);break;case 22:if(xe=d!==null&&d.memoizedState!==null,s.mode&1?(fn=(ce=fn)||xe,er(a,s),fn=ce):er(a,s),vr(s),g&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!xe&&(s.mode&1)!==0)for(Te=s,xe=s.child;xe!==null;){for(we=Te=xe;Te!==null;){switch(ye=Te,Re=ye.child,ye.tag){case 0:case 11:case 14:case 15:ei(4,ye,ye.return);break;case 1:Fo(ye,ye.return);var De=ye.stateNode;if(typeof De.componentWillUnmount=="function"){g=ye,d=ye.return;try{a=g,De.props=a.memoizedProps,De.state=a.memoizedState,De.componentWillUnmount()}catch(Be){$t(g,d,Be)}}break;case 5:Fo(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Og(we);continue}}Re!==null?(Re.return=ye,Te=Re):Og(we)}xe=xe.sibling}e:for(xe=null,we=s;;){if(we.tag===5){if(xe===null){xe=we;try{x=we.stateNode,ce?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(G=we.stateNode,Z=we.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,G.style.display=_t("display",O))}catch(Be){$t(s,s.return,Be)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Be){$t(s,s.return,Be)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:er(a,s),vr(s),g&4&&Rg(s);break;case 21:break;default:er(a,s),vr(s)}}function vr(s){var a=s.flags;if(a&2){try{e:{for(var d=s.return;d!==null;){if(kg(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(ht(x,""),g.flags&=-33);var S=Eg(s);kd(s,S,x);break;case 3:case 4:var O=g.stateNode.containerInfo,G=Eg(s);Cd(s,G,O);break;default:throw Error(n(161))}}catch(Z){$t(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Y_(s,a,d){Te=s,Tg(s)}function Tg(s,a,d){for(var g=(s.mode&1)!==0;Te!==null;){var x=Te,S=x.child;if(x.tag===22&&g){var O=x.memoizedState!==null||Sl;if(!O){var G=x.alternate,Z=G!==null&&G.memoizedState!==null||fn;G=Sl;var ce=fn;if(Sl=O,(fn=Z)&&!ce)for(Te=x;Te!==null;)O=Te,Z=O.child,O.tag===22&&O.memoizedState!==null?Dg(x):Z!==null?(Z.return=O,Te=Z):Dg(x);for(;S!==null;)Te=S,Tg(S),S=S.sibling;Te=x,Sl=G,fn=ce}Ig(s)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,Te=S):Ig(s)}}function Ig(s){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:fn||jl(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!fn)if(d===null)g.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:Xn(a.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Op(a,S,g);break;case 3:var O=a.updateQueue;if(O!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Op(a,O,d)}break;case 5:var G=a.stateNode;if(d===null&&a.flags&4){d=G;var Z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&d.focus();break;case"img":Z.src&&(d.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var xe=ce.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&Ta(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||a.flags&512&&jd(a)}catch(ye){$t(a,a.return,ye)}}if(a===s){Te=null;break}if(d=a.sibling,d!==null){d.return=a.return,Te=d;break}Te=a.return}}function Og(s){for(;Te!==null;){var a=Te;if(a===s){Te=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Te=d;break}Te=a.return}}function Dg(s){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{jl(4,a)}catch(Z){$t(a,d,Z)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(Z){$t(a,x,Z)}}var S=a.return;try{jd(a)}catch(Z){$t(a,S,Z)}break;case 5:var O=a.return;try{jd(a)}catch(Z){$t(a,O,Z)}}}catch(Z){$t(a,a.return,Z)}if(a===s){Te=null;break}var G=a.sibling;if(G!==null){G.return=a.return,Te=G;break}Te=a.return}}var K_=Math.ceil,Cl=R.ReactCurrentDispatcher,Ed=R.ReactCurrentOwner,Vn=R.ReactCurrentBatchConfig,gt=0,en=null,Vt=null,on=0,On=0,Lo=os(0),Kt=0,ti=null,Vs=0,kl=0,Pd=0,ni=null,_n=null,Rd=0,Bo=1/0,Mr=null,El=!1,Ad=null,ds=null,Pl=!1,fs=null,Rl=0,ri=0,Td=null,Al=-1,Tl=0;function vn(){return(gt&6)!==0?zt():Al!==-1?Al:Al=zt()}function hs(s){return(s.mode&1)===0?1:(gt&2)!==0&&on!==0?on&-on:T_.transition!==null?(Tl===0&&(Tl=Em()),Tl):(s=Ct,s!==0||(s=window.event,s=s===void 0?16:Fm(s.type)),s)}function tr(s,a,d,g){if(50<ri)throw ri=0,Td=null,Error(n(185));ka(s,d,g),((gt&2)===0||s!==en)&&(s===en&&((gt&2)===0&&(kl|=d),Kt===4&&ms(s,on)),Nn(s,g),d===1&&gt===0&&(a.mode&1)===0&&(Bo=zt()+500,al&&is()))}function Nn(s,a){var d=s.callbackNode;T1(s,a);var g=Ui(s,s===en?on:0);if(g===0)d!==null&&jm(d),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(d!=null&&jm(d),a===1)s.tag===0?A_(Fg.bind(null,s)):_p(Fg.bind(null,s)),k_(function(){(gt&6)===0&&is()}),d=null;else{switch(Pm(g)){case 1:d=du;break;case 4:d=Cm;break;case 16:d=Fi;break;case 536870912:d=km;break;default:d=Fi}d=Vg(d,Mg.bind(null,s))}s.callbackPriority=a,s.callbackNode=d}}function Mg(s,a){if(Al=-1,Tl=0,(gt&6)!==0)throw Error(n(327));var d=s.callbackNode;if($o()&&s.callbackNode!==d)return null;var g=Ui(s,s===en?on:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||a)a=Il(s,g);else{a=g;var x=gt;gt|=2;var S=Bg();(en!==s||on!==a)&&(Mr=null,Bo=zt()+500,Gs(s,a));do try{X_();break}catch(G){Lg(s,G)}while(!0);Qu(),Cl.current=S,gt=x,Vt!==null?a=0:(en=null,on=0,a=Kt)}if(a!==0){if(a===2&&(x=fu(s),x!==0&&(g=x,a=Id(s,x))),a===1)throw d=ti,Gs(s,0),ms(s,g),Nn(s,zt()),d;if(a===6)ms(s,g);else{if(x=s.current.alternate,(g&30)===0&&!Q_(x)&&(a=Il(s,g),a===2&&(S=fu(s),S!==0&&(g=S,a=Id(s,S))),a===1))throw d=ti,Gs(s,0),ms(s,g),Nn(s,zt()),d;switch(s.finishedWork=x,s.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Ys(s,_n,Mr);break;case 3:if(ms(s,g),(g&130023424)===g&&(a=Rd+500-zt(),10<a)){if(Ui(s,0)!==0)break;if(x=s.suspendedLanes,(x&g)!==g){vn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=Bu(Ys.bind(null,s,_n,Mr),a);break}Ys(s,_n,Mr);break;case 4:if(ms(s,g),(g&4194240)===g)break;for(a=s.eventTimes,x=-1;0<g;){var O=31-Kn(g);S=1<<O,O=a[O],O>x&&(x=O),g&=~S}if(g=x,g=zt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*K_(g/1960))-g,10<g){s.timeoutHandle=Bu(Ys.bind(null,s,_n,Mr),g);break}Ys(s,_n,Mr);break;case 5:Ys(s,_n,Mr);break;default:throw Error(n(329))}}}return Nn(s,zt()),s.callbackNode===d?Mg.bind(null,s):null}function Id(s,a){var d=ni;return s.current.memoizedState.isDehydrated&&(Gs(s,a).flags|=256),s=Il(s,a),s!==2&&(a=_n,_n=d,a!==null&&Od(a)),s}function Od(s){_n===null?_n=s:_n.push.apply(_n,s)}function Q_(s){for(var a=s;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],S=x.getSnapshot;x=x.value;try{if(!Qn(S(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ms(s,a){for(a&=~Pd,a&=~kl,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var d=31-Kn(a),g=1<<d;s[d]=-1,a&=~g}}function Fg(s){if((gt&6)!==0)throw Error(n(327));$o();var a=Ui(s,0);if((a&1)===0)return Nn(s,zt()),null;var d=Il(s,a);if(s.tag!==0&&d===2){var g=fu(s);g!==0&&(a=g,d=Id(s,g))}if(d===1)throw d=ti,Gs(s,0),ms(s,a),Nn(s,zt()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ys(s,_n,Mr),Nn(s,zt()),null}function Dd(s,a){var d=gt;gt|=1;try{return s(a)}finally{gt=d,gt===0&&(Bo=zt()+500,al&&is())}}function qs(s){fs!==null&&fs.tag===0&&(gt&6)===0&&$o();var a=gt;gt|=1;var d=Vn.transition,g=Ct;try{if(Vn.transition=null,Ct=1,s)return s()}finally{Ct=g,Vn.transition=d,gt=a,(gt&6)===0&&is()}}function Md(){On=Lo.current,Dt(Lo)}function Gs(s,a){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,C_(d)),Vt!==null)for(d=Vt.return;d!==null;){var g=d;switch(Vu(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&sl();break;case 3:Do(),Dt(xn),Dt(cn),sd();break;case 5:nd(g);break;case 4:Do();break;case 13:Dt(Ft);break;case 19:Dt(Ft);break;case 10:Ju(g.type._context);break;case 22:case 23:Md()}d=d.return}if(en=s,Vt=s=ps(s.current,null),on=On=a,Kt=0,ti=null,Pd=kl=Vs=0,_n=ni=null,zs!==null){for(a=0;a<zs.length;a++)if(d=zs[a],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,S=d.pending;if(S!==null){var O=S.next;S.next=x,g.next=O}d.pending=g}zs=null}return s}function Lg(s,a){do{var d=Vt;try{if(Qu(),gl.current=wl,vl){for(var g=Lt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}vl=!1}if(Hs=0,Zt=Yt=Lt=null,Ka=!1,Qa=0,Ed.current=null,d===null||d.return===null){Kt=1,ti=a,Vt=null;break}e:{var S=s,O=d.return,G=d,Z=a;if(a=on,G.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,xe=G,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var ye=xe.alternate;ye?(xe.updateQueue=ye.updateQueue,xe.memoizedState=ye.memoizedState,xe.lanes=ye.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Re=cg(O);if(Re!==null){Re.flags&=-257,ug(Re,O,G,S,a),Re.mode&1&&lg(S,ce,a),a=Re,Z=ce;var De=a.updateQueue;if(De===null){var Be=new Set;Be.add(Z),a.updateQueue=Be}else De.add(Z);break e}else{if((a&1)===0){lg(S,ce,a),Fd();break e}Z=Error(n(426))}}else if(Mt&&G.mode&1){var Wt=cg(O);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),ug(Wt,O,G,S,a),Yu(Mo(Z,G));break e}}S=Z=Mo(Z,G),Kt!==4&&(Kt=2),ni===null?ni=[S]:ni.push(S),S=O;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var oe=ag(S,Z,a);Ip(S,oe);break e;case 1:G=Z;var ne=S.type,ie=S.stateNode;if((S.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ds===null||!ds.has(ie)))){S.flags|=65536,a&=-a,S.lanes|=a;var Ne=ig(S,G,a);Ip(S,Ne);break e}}S=S.return}while(S!==null)}Ug(d)}catch($e){a=$e,Vt===d&&d!==null&&(Vt=d=d.return);continue}break}while(!0)}function Bg(){var s=Cl.current;return Cl.current=wl,s===null?wl:s}function Fd(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(Vs&268435455)===0&&(kl&268435455)===0||ms(en,on)}function Il(s,a){var d=gt;gt|=2;var g=Bg();(en!==s||on!==a)&&(Mr=null,Gs(s,a));do try{J_();break}catch(x){Lg(s,x)}while(!0);if(Qu(),gt=d,Cl.current=g,Vt!==null)throw Error(n(261));return en=null,on=0,Kt}function J_(){for(;Vt!==null;)$g(Vt)}function X_(){for(;Vt!==null&&!N1();)$g(Vt)}function $g(s){var a=Hg(s.alternate,s,On);s.memoizedProps=s.pendingProps,a===null?Ug(s):Vt=a,Ed.current=null}function Ug(s){var a=s;do{var d=a.alternate;if(s=a.return,(a.flags&32768)===0){if(d=H_(d,a,On),d!==null){Vt=d;return}}else{if(d=V_(d,a),d!==null){d.flags&=32767,Vt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Vt=null;return}}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=s}while(a!==null);Kt===0&&(Kt=5)}function Ys(s,a,d){var g=Ct,x=Vn.transition;try{Vn.transition=null,Ct=1,Z_(s,a,d,g)}finally{Vn.transition=x,Ct=g}return null}function Z_(s,a,d,g){do $o();while(fs!==null);if((gt&6)!==0)throw Error(n(327));d=s.finishedWork;var x=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var S=d.lanes|d.childLanes;if(I1(s,S),s===en&&(Vt=en=null,on=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Pl||(Pl=!0,Vg(Fi,function(){return $o(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Vn.transition,Vn.transition=null;var O=Ct;Ct=1;var G=gt;gt|=4,Ed.current=null,G_(s,d),Ag(d,s),x_(Fu),Hi=!!Mu,Fu=Mu=null,s.current=d,Y_(d),S1(),gt=G,Ct=O,Vn.transition=S}else s.current=d;if(Pl&&(Pl=!1,fs=s,Rl=x),S=s.pendingLanes,S===0&&(ds=null),k1(d.stateNode),Nn(s,zt()),a!==null)for(g=s.onRecoverableError,d=0;d<a.length;d++)x=a[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(El)throw El=!1,s=Ad,Ad=null,s;return(Rl&1)!==0&&s.tag!==0&&$o(),S=s.pendingLanes,(S&1)!==0?s===Td?ri++:(ri=0,Td=s):ri=0,is(),null}function $o(){if(fs!==null){var s=Pm(Rl),a=Vn.transition,d=Ct;try{if(Vn.transition=null,Ct=16>s?16:s,fs===null)var g=!1;else{if(s=fs,fs=null,Rl=0,(gt&6)!==0)throw Error(n(331));var x=gt;for(gt|=4,Te=s.current;Te!==null;){var S=Te,O=S.child;if((Te.flags&16)!==0){var G=S.deletions;if(G!==null){for(var Z=0;Z<G.length;Z++){var ce=G[Z];for(Te=ce;Te!==null;){var xe=Te;switch(xe.tag){case 0:case 11:case 15:ei(8,xe,S)}var we=xe.child;if(we!==null)we.return=xe,Te=we;else for(;Te!==null;){xe=Te;var ye=xe.sibling,Re=xe.return;if(Cg(xe),xe===ce){Te=null;break}if(ye!==null){ye.return=Re,Te=ye;break}Te=Re}}}var De=S.alternate;if(De!==null){var Be=De.child;if(Be!==null){De.child=null;do{var Wt=Be.sibling;Be.sibling=null,Be=Wt}while(Be!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&O!==null)O.return=S,Te=O;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ei(9,S,S.return)}var oe=S.sibling;if(oe!==null){oe.return=S.return,Te=oe;break e}Te=S.return}}var ne=s.current;for(Te=ne;Te!==null;){O=Te;var ie=O.child;if((O.subtreeFlags&2064)!==0&&ie!==null)ie.return=O,Te=ie;else e:for(O=ne;Te!==null;){if(G=Te,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:jl(9,G)}}catch($e){$t(G,G.return,$e)}if(G===O){Te=null;break e}var Ne=G.sibling;if(Ne!==null){Ne.return=G.return,Te=Ne;break e}Te=G.return}}if(gt=x,is(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Li,s)}catch{}g=!0}return g}finally{Ct=d,Vn.transition=a}}return!1}function zg(s,a,d){a=Mo(d,a),a=ag(s,a,1),s=cs(s,a,1),a=vn(),s!==null&&(ka(s,1,a),Nn(s,a))}function $t(s,a,d){if(s.tag===3)zg(s,s,d);else for(;a!==null;){if(a.tag===3){zg(a,s,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))){s=Mo(d,s),s=ig(a,s,1),a=cs(a,s,1),s=vn(),a!==null&&(ka(a,1,s),Nn(a,s));break}}a=a.return}}function e2(s,a,d){var g=s.pingCache;g!==null&&g.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&d,en===s&&(on&d)===d&&(Kt===4||Kt===3&&(on&130023424)===on&&500>zt()-Rd?Gs(s,0):Pd|=d),Nn(s,a)}function Wg(s,a){a===0&&((s.mode&1)===0?a=1:(a=$i,$i<<=1,($i&130023424)===0&&($i=4194304)));var d=vn();s=Ir(s,a),s!==null&&(ka(s,a,d),Nn(s,d))}function t2(s){var a=s.memoizedState,d=0;a!==null&&(d=a.retryLane),Wg(s,d)}function n2(s,a){var d=0;switch(s.tag){case 13:var g=s.stateNode,x=s.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),Wg(s,d)}var Hg;Hg=function(s,a,d){if(s!==null)if(s.memoizedProps!==a.pendingProps||xn.current)bn=!0;else{if((s.lanes&d)===0&&(a.flags&128)===0)return bn=!1,W_(s,a,d);bn=(s.flags&131072)!==0}else bn=!1,Mt&&(a.flags&1048576)!==0&&Np(a,ll,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Nl(s,a),s=a.pendingProps;var x=Eo(a,cn.current);Oo(a,d),x=id(null,a,g,s,x,d);var S=ld();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,wn(g)?(S=!0,ol(a)):S=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ed(a),x.updater=bl,a.stateNode=x,x._reactInternals=a,md(a,g,s,d),a=yd(null,a,g,!0,S,d)):(a.tag=0,Mt&&S&&Hu(a),gn(null,a,x,d),a=a.child),a;case 16:g=a.elementType;e:{switch(Nl(s,a),s=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=s2(g),s=Xn(g,s),x){case 0:a=vd(null,a,g,s,d);break e;case 1:a=gg(null,a,g,s,d);break e;case 11:a=dg(null,a,g,s,d);break e;case 14:a=fg(null,a,g,Xn(g.type,s),d);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Xn(g,x),vd(s,a,g,x,d);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Xn(g,x),gg(s,a,g,x,d);case 3:e:{if(vg(a),s===null)throw Error(n(387));g=a.pendingProps,S=a.memoizedState,x=S.element,Tp(s,a),ml(a,g,null,d);var O=a.memoizedState;if(g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){x=Mo(Error(n(423)),a),a=yg(s,a,g,d,x);break e}else if(g!==x){x=Mo(Error(n(424)),a),a=yg(s,a,g,d,x);break e}else for(In=ss(a.stateNode.containerInfo.firstChild),Tn=a,Mt=!0,Jn=null,d=Rp(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ao(),g===x){a=Dr(s,a,d);break e}gn(s,a,g,d)}a=a.child}return a;case 5:return Dp(a),s===null&&Gu(a),g=a.type,x=a.pendingProps,S=s!==null?s.memoizedProps:null,O=x.children,Lu(g,x)?O=null:S!==null&&Lu(g,S)&&(a.flags|=32),pg(s,a),gn(s,a,O,d),a.child;case 6:return s===null&&Gu(a),null;case 13:return xg(s,a,d);case 4:return td(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=To(a,null,g,d):gn(s,a,g,d),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Xn(g,x),dg(s,a,g,x,d);case 7:return gn(s,a,a.pendingProps,d),a.child;case 8:return gn(s,a,a.pendingProps.children,d),a.child;case 12:return gn(s,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,S=a.memoizedProps,O=x.value,Rt(dl,g._currentValue),g._currentValue=O,S!==null)if(Qn(S.value,O)){if(S.children===x.children&&!xn.current){a=Dr(s,a,d);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var G=S.dependencies;if(G!==null){O=S.child;for(var Z=G.firstContext;Z!==null;){if(Z.context===g){if(S.tag===1){Z=Or(-1,d&-d),Z.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var xe=ce.pending;xe===null?Z.next=Z:(Z.next=xe.next,xe.next=Z),ce.pending=Z}}S.lanes|=d,Z=S.alternate,Z!==null&&(Z.lanes|=d),Xu(S.return,d,a),G.lanes|=d;break}Z=Z.next}}else if(S.tag===10)O=S.type===a.type?null:S.child;else if(S.tag===18){if(O=S.return,O===null)throw Error(n(341));O.lanes|=d,G=O.alternate,G!==null&&(G.lanes|=d),Xu(O,d,a),O=S.sibling}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===a){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}gn(s,a,x.children,d),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,Oo(a,d),x=Wn(x),g=g(x),a.flags|=1,gn(s,a,g,d),a.child;case 14:return g=a.type,x=Xn(g,a.pendingProps),x=Xn(g.type,x),fg(s,a,g,x,d);case 15:return hg(s,a,a.type,a.pendingProps,d);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Xn(g,x),Nl(s,a),a.tag=1,wn(g)?(s=!0,ol(a)):s=!1,Oo(a,d),sg(a,g,x),md(a,g,x,d),yd(null,a,g,!0,s,d);case 19:return bg(s,a,d);case 22:return mg(s,a,d)}throw Error(n(156,a.tag))};function Vg(s,a){return Sm(s,a)}function r2(s,a,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,a,d,g){return new r2(s,a,d,g)}function Ld(s){return s=s.prototype,!(!s||!s.isReactComponent)}function s2(s){if(typeof s=="function")return Ld(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Q)return 14}return 2}function ps(s,a){var d=s.alternate;return d===null?(d=qn(s.tag,a,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=a,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,a=s.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Ol(s,a,d,g,x,S){var O=2;if(g=s,typeof s=="function")Ld(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case B:return Ks(d.children,x,S,a);case E:O=8,x|=8;break;case I:return s=qn(12,d,a,x|2),s.elementType=I,s.lanes=S,s;case K:return s=qn(13,d,a,x),s.elementType=K,s.lanes=S,s;case W:return s=qn(19,d,a,x),s.elementType=W,s.lanes=S,s;case P:return Dl(d,x,S,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:O=10;break e;case H:O=9;break e;case V:O=11;break e;case Q:O=14;break e;case A:O=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=qn(O,d,a,x),a.elementType=s,a.type=g,a.lanes=S,a}function Ks(s,a,d,g){return s=qn(7,s,g,a),s.lanes=d,s}function Dl(s,a,d,g){return s=qn(22,s,g,a),s.elementType=P,s.lanes=d,s.stateNode={isHidden:!1},s}function Bd(s,a,d){return s=qn(6,s,null,a),s.lanes=d,s}function $d(s,a,d){return a=qn(4,s.children!==null?s.children:[],s.key,a),a.lanes=d,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function o2(s,a,d,g,x){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ud(s,a,d,g,x,S,O,G,Z){return s=new o2(s,a,d,G,Z),a===1?(a=1,S===!0&&(a|=8)):a=0,S=qn(3,null,null,a),s.current=S,S.stateNode=s,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(S),s}function a2(s,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:g==null?null:""+g,children:s,containerInfo:a,implementation:d}}function qg(s){if(!s)return as;s=s._reactInternals;e:{if(Fs(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(wn(d))return wp(s,d,a)}return a}function Gg(s,a,d,g,x,S,O,G,Z){return s=Ud(d,g,!0,s,x,S,O,G,Z),s.context=qg(null),d=s.current,g=vn(),x=hs(d),S=Or(g,x),S.callback=a??null,cs(d,S,x),s.current.lanes=x,ka(s,x,g),Nn(s,g),s}function Ml(s,a,d,g){var x=a.current,S=vn(),O=hs(x);return d=qg(d),a.context===null?a.context=d:a.pendingContext=d,a=Or(S,O),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=cs(x,a,O),s!==null&&(tr(s,x,O,S),hl(s,x,O)),O}function Fl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Yg(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<a?d:a}}function zd(s,a){Yg(s,a),(s=s.alternate)&&Yg(s,a)}function i2(){return null}var Kg=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wd(s){this._internalRoot=s}Ll.prototype.render=Wd.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Ml(s,a,null,null)},Ll.prototype.unmount=Wd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;qs(function(){Ml(null,s,null,null)}),a[Pr]=null}};function Ll(s){this._internalRoot=s}Ll.prototype.unstable_scheduleHydration=function(s){if(s){var a=Tm();s={blockedOn:null,target:s,priority:a};for(var d=0;d<ts.length&&a!==0&&a<ts[d].priority;d++);ts.splice(d,0,s),d===0&&Dm(s)}};function Hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function l2(s,a,d,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var ce=Fl(O);S.call(ce)}}var O=Gg(a,g,s,0,null,!1,!1,"",Qg);return s._reactRootContainer=O,s[Pr]=O.current,Ua(s.nodeType===8?s.parentNode:s),qs(),O}for(;x=s.lastChild;)s.removeChild(x);if(typeof g=="function"){var G=g;g=function(){var ce=Fl(Z);G.call(ce)}}var Z=Ud(s,0,!1,null,null,!1,!1,"",Qg);return s._reactRootContainer=Z,s[Pr]=Z.current,Ua(s.nodeType===8?s.parentNode:s),qs(function(){Ml(a,Z,d,g)}),Z}function $l(s,a,d,g,x){var S=d._reactRootContainer;if(S){var O=S;if(typeof x=="function"){var G=x;x=function(){var Z=Fl(O);G.call(Z)}}Ml(a,O,s,x)}else O=l2(d,a,s,x,g);return Fl(O)}Rm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var d=Ca(a.pendingLanes);d!==0&&(mu(a,d|1),Nn(a,zt()),(gt&6)===0&&(Bo=zt()+500,is()))}break;case 13:qs(function(){var g=Ir(s,1);if(g!==null){var x=vn();tr(g,s,1,x)}}),zd(s,1)}},pu=function(s){if(s.tag===13){var a=Ir(s,134217728);if(a!==null){var d=vn();tr(a,s,134217728,d)}zd(s,134217728)}},Am=function(s){if(s.tag===13){var a=hs(s),d=Ir(s,a);if(d!==null){var g=vn();tr(d,s,a,g)}zd(s,a)}},Tm=function(){return Ct},Im=function(s,a){var d=Ct;try{return Ct=s,a()}finally{Ct=d}},Je=function(s,a,d){switch(a){case"input":if(ge(s,d),a=d.name,d.type==="radio"&&a!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==s&&g.form===s.form){var x=rl(g);if(!x)throw Error(n(90));je(g),ge(g,x)}}}break;case"textarea":ke(s,d);break;case"select":a=d.value,a!=null&&ze(s,!!d.multiple,a,!1)}},jt=Dd,pt=qs;var c2={usingClientEntryPoint:!1,Events:[Ha,Co,rl,Ae,at,Dd]},si={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u2={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_m(s),s===null?null:s.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||i2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Li=Ul.inject(u2),hr=Ul}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2,Sn.createPortal=function(s,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(a))throw Error(n(200));return a2(s,a,null,d)},Sn.createRoot=function(s,a){if(!Hd(s))throw Error(n(299));var d=!1,g="",x=Kg;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Ud(s,1,!1,null,null,d,!1,g,x),s[Pr]=a.current,Ua(s.nodeType===8?s.parentNode:s),new Wd(a)},Sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=_m(a),s=s===null?null:s.stateNode,s},Sn.flushSync=function(s){return qs(s)},Sn.hydrate=function(s,a,d){if(!Bl(a))throw Error(n(200));return $l(null,s,a,!0,d)},Sn.hydrateRoot=function(s,a,d){if(!Hd(s))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,S="",O=Kg;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),a=Gg(a,null,s,1,d??null,x,!1,S,O),s[Pr]=a.current,Ua(s),g)for(s=0;s<g.length;s++)d=g[s],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new Ll(a)},Sn.render=function(s,a,d){if(!Bl(a))throw Error(n(200));return $l(null,s,a,!1,d)},Sn.unmountComponentAtNode=function(s){if(!Bl(s))throw Error(n(40));return s._reactRootContainer?(qs(function(){$l(null,null,s,!1,function(){s._reactRootContainer=null,s[Pr]=null})}),!0):!1},Sn.unstable_batchedUpdates=Dd,Sn.unstable_renderSubtreeIntoContainer=function(s,a,d,g){if(!Bl(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return $l(s,a,d,!1,g)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var sv;function sx(){if(sv)return Gd.exports;sv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gd.exports=x2(),Gd.exports}var ov;function w2(){if(ov)return zl;ov=1;var e=sx();return zl.createRoot=e.createRoot,zl.hydrateRoot=e.hydrateRoot,zl}var b2=w2();const _2="modulepreload",N2=function(e){return"/"+e},av={},mo=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");o=c(n.map(p=>{if(p=N2(p),p in av)return;av[p]=!0;const f=p.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":_2,f||(v.as="script"),v.crossOrigin="",v.href=p,h&&v.setAttribute("nonce",h),document.head.appendChild(v),f)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};var b=Ic();const _e=Tc(b),ox=f2({__proto__:null,default:_e},[b]);function iv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ax(...e){return t=>{let n=!1;const r=e.map(o=>{const i=iv(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():iv(e[o],null)}}}}function Et(...e){return b.useCallback(ax(...e),e)}function oo(e){const t=S2(e),n=b.forwardRef((r,o)=>{const{children:i,...c}=r,u=b.Children.toArray(i),h=u.find(C2);if(h){const p=h.props.children,f=u.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return l.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,f):null})}return l.jsx(t,{...c,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}var ix=oo("Slot");function S2(e){const t=b.forwardRef((n,r)=>{const{children:o,...i}=n;if(b.isValidElement(o)){const c=E2(o),u=k2(i,o.props);return o.type!==b.Fragment&&(u.ref=r?ax(r,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j2=Symbol("radix.slottable");function C2(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j2}function k2(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...u)=>{const h=i(...u);return o(...u),h}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function E2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function lx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=lx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cx(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=lx(e))&&(r&&(r+=" "),r+=t);return r}const lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cv=cx,ux=(e,t)=>n=>{var r;if(t?.variants==null)return cv(e,n?.class,n?.className);const{variants:o,defaultVariants:i}=t,c=Object.keys(o).map(p=>{const f=n?.[p],m=i?.[p];if(f===null)return null;const v=lv(f)||lv(m);return o[p][v]}),u=n&&Object.entries(n).reduce((p,f)=>{let[m,v]=f;return v===void 0||(p[m]=v),p},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,f)=>{let{class:m,className:v,...y}=f;return Object.entries(y).every(w=>{let[_,N]=w;return Array.isArray(N)?N.includes({...i,...u}[_]):{...i,...u}[_]===N})?[...p,m,v]:p},[]);return cv(e,c,h,n?.class,n?.className)},yh="-",P2=e=>{const t=A2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(yh);return u[0]===""&&u.length!==1&&u.shift(),dx(u,t)||R2(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&r[c]?[...h,...r[c]]:h}}},dx=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?dx(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(yh);return t.validators.find(({validator:c})=>c(i))?.classGroupId},uv=/^\[(.+)\]$/,R2=e=>{if(uv.test(e)){const t=uv.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},A2=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)Bf(n[o],r,o,t);return r},Bf=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:dv(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(T2(o)){Bf(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,c])=>{Bf(c,dv(t,i),n,r)})})},dv=(e,t)=>{let n=e;return t.split(yh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},T2=e=>e.isThemeGetter,I2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=r.get(i))!==void 0)return o(i,c),c},set(i,c){n.has(i)?n.set(i,c):o(i,c)}}},$f="!",Uf=":",O2=Uf.length,D2=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let c=0,u=0,h=0,p;for(let w=0;w<o.length;w++){let _=o[w];if(c===0&&u===0){if(_===Uf){i.push(o.slice(h,w)),h=w+O2;continue}if(_==="/"){p=w;continue}}_==="["?c++:_==="]"?c--:_==="("?u++:_===")"&&u--}const f=i.length===0?o:o.substring(h),m=M2(f),v=m!==f,y=p&&p>h?p-h:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const o=t+Uf,i=r;r=c=>c.startsWith(o)?i(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},M2=e=>e.endsWith($f)?e.substring(0,e.length-1):e.startsWith($f)?e.substring(1):e,F2=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let i=[];return r.forEach(c=>{c[0]==="["||t[c]?(o.push(...i.sort(),c),i=[]):i.push(c)}),o.push(...i.sort()),o}},L2=e=>({cache:I2(e.cacheSize),parseClassName:D2(e),sortModifiers:F2(e),...P2(e)}),B2=/\s+/,$2=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,c=[],u=e.trim().split(B2);let h="";for(let p=u.length-1;p>=0;p-=1){const f=u[p],{isExternal:m,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}=n(f);if(m){h=f+(h.length>0?" "+h:h);continue}let N=!!_,C=r(N?w.substring(0,_):w);if(!C){if(!N){h=f+(h.length>0?" "+h:h);continue}if(C=r(w),!C){h=f+(h.length>0?" "+h:h);continue}N=!1}const j=i(v).join(":"),k=y?j+$f:j,R=k+C;if(c.includes(R))continue;c.push(R);const F=o(C,N);for(let T=0;T<F.length;++T){const B=F[T];c.push(k+B)}h=f+(h.length>0?" "+h:h)}return h};function U2(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fx(t))&&(r&&(r+=" "),r+=n);return r}const fx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fx(e[r]))&&(n&&(n+=" "),n+=t);return n};function z2(e,...t){let n,r,o,i=c;function c(h){const p=t.reduce((f,m)=>m(f),e());return n=L2(p),r=n.cache.get,o=n.cache.set,i=u,u(h)}function u(h){const p=r(h);if(p)return p;const f=$2(h,n);return o(h,f),f}return function(){return i(U2.apply(null,arguments))}}const Qt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,W2=/^\d+\/\d+$/,H2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uo=e=>W2.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),vs=e=>!!e&&Number.isInteger(Number(e)),Qd=e=>e.endsWith("%")&&ft(e.slice(0,-1)),Fr=e=>H2.test(e),K2=()=>!0,Q2=e=>V2.test(e)&&!q2.test(e),px=()=>!1,J2=e=>G2.test(e),X2=e=>Y2.test(e),Z2=e=>!Me(e)&&!Fe(e),eN=e=>va(e,yx,px),Me=e=>hx.test(e),Qs=e=>va(e,xx,Q2),Jd=e=>va(e,oN,ft),fv=e=>va(e,gx,px),tN=e=>va(e,vx,X2),Wl=e=>va(e,wx,J2),Fe=e=>mx.test(e),ai=e=>ya(e,xx),nN=e=>ya(e,aN),hv=e=>ya(e,gx),rN=e=>ya(e,yx),sN=e=>ya(e,vx),Hl=e=>ya(e,wx,!0),va=(e,t,n)=>{const r=hx.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ya=(e,t,n=!1)=>{const r=mx.exec(e);return r?r[1]?t(r[1]):n:!1},gx=e=>e==="position"||e==="percentage",vx=e=>e==="image"||e==="url",yx=e=>e==="length"||e==="size"||e==="bg-size",xx=e=>e==="length",oN=e=>e==="number",aN=e=>e==="family-name",wx=e=>e==="shadow",iN=()=>{const e=Qt("color"),t=Qt("font"),n=Qt("text"),r=Qt("font-weight"),o=Qt("tracking"),i=Qt("leading"),c=Qt("breakpoint"),u=Qt("container"),h=Qt("spacing"),p=Qt("radius"),f=Qt("shadow"),m=Qt("inset-shadow"),v=Qt("text-shadow"),y=Qt("drop-shadow"),w=Qt("blur"),_=Qt("perspective"),N=Qt("aspect"),C=Qt("ease"),j=Qt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...R(),Fe,Me],T=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],E=()=>[Fe,Me,h],I=()=>[Uo,"full","auto",...E()],$=()=>[vs,"none","subgrid",Fe,Me],H=()=>["auto",{span:["full",vs,Fe,Me]},vs,Fe,Me],V=()=>[vs,"auto",Fe,Me],K=()=>["auto","min","max","fr",Fe,Me],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...E()],P=()=>[Uo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],D=()=>[e,Fe,Me],z=()=>[...R(),hv,fv,{position:[Fe,Me]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",rN,eN,{size:[Fe,Me]}],U=()=>[Qd,ai,Qs],te=()=>["","none","full",p,Fe,Me],J=()=>["",ft,ai,Qs],ee=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[ft,Qd,hv,fv],ae=()=>["","none",w,Fe,Me],de=()=>["none",ft,Fe,Me],se=()=>["none",ft,Fe,Me],pe=()=>[ft,Fe,Me],je=()=>[Uo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fr],breakpoint:[Fr],color:[K2],container:[Fr],"drop-shadow":[Fr],ease:["in","out","in-out"],font:[Z2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fr],shadow:[Fr],spacing:["px",ft],text:[Fr],"text-shadow":[Fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uo,Me,Fe,N]}],container:["container"],columns:[{columns:[ft,Me,Fe,u]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",Fe,Me]}],basis:[{basis:[Uo,"full","auto",u,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Uo,"auto","initial","none",Me]}],grow:[{grow:["",ft,Fe,Me]}],shrink:[{shrink:["",ft,Fe,Me]}],order:[{order:[vs,"first","last","none",Fe,Me]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[u,"screen",...P()]}],"min-w":[{"min-w":[u,"screen","none",...P()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,ai,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,Jd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qd,Me]}],"font-family":[{font:[nN,Me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Fe,Me]}],"line-clamp":[{"line-clamp":[ft,"none",Fe,Jd]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",Fe,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Fe,Qs]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ft,"auto",Fe,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,Fe,Me],radial:["",Fe,Me],conic:[vs,Fe,Me]},sN,tN]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Fe,Me]}],"outline-w":[{outline:["",ft,ai,Qs]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",f,Hl,Wl]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",m,Hl,Wl]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ft,Qs]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",v,Hl,Wl]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ft,Fe,Me]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Fe,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Me]}],filter:[{filter:["","none",Fe,Me]}],blur:[{blur:ae()}],brightness:[{brightness:[ft,Fe,Me]}],contrast:[{contrast:[ft,Fe,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,Hl,Wl]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ft,Fe,Me]}],"hue-rotate":[{"hue-rotate":[ft,Fe,Me]}],invert:[{invert:["",ft,Fe,Me]}],saturate:[{saturate:[ft,Fe,Me]}],sepia:[{sepia:["",ft,Fe,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Me]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Fe,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Fe,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Fe,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Fe,Me]}],"backdrop-invert":[{"backdrop-invert":["",ft,Fe,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Fe,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Fe,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Fe,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Fe,Me]}],ease:[{ease:["linear","initial",C,Fe,Me]}],delay:[{delay:[ft,Fe,Me]}],animate:[{animate:["none",j,Fe,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Fe,Me]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Fe,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Me]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ft,ai,Qs,Jd]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lN=z2(iN);function st(...e){return lN(cx(e))}const zf=ux("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-[0.5px] border-[#d1d5db] bg-white text-[#1f2b15] hover:bg-white hover:text-[#1f2b15] focus:border-black focus:ring-0 focus-visible:ring-[#c54a2c]/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),fe=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},i)=>{const c=r?ix:"button";return l.jsx(c,{"data-slot":"button",className:st(zf({variant:t,size:n,className:e})),ref:i,...o})});fe.displayName="Button";function Ve({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:st("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function bt({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:st("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function vt({className:e,...t}){return l.jsx("h4",{"data-slot":"card-title",className:st("leading-none",e),...t})}function qe({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:st("px-6 [&:last-child]:pb-6",e),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),mv=e=>{const t=uN(e);return t.charAt(0).toUpperCase()+t.slice(1)},bx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:c,...u},h)=>b.createElement("svg",{ref:h,...dN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bx("lucide",o),...u},[...c.map(([p,f])=>b.createElement(p,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(e,t)=>{const n=b.forwardRef(({className:r,...o},i)=>b.createElement(fN,{ref:i,iconNode:t,className:bx(`lucide-${cN(mv(e))}`,`lucide-${e}`,r),...o}));return n.displayName=mv(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Si=ut("arrow-left",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ao=ut("book-open",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mn=ut("calendar",pN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xh=ut("camera",gN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],io=ut("check",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_x=ut("chevron-down",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oc=ut("chevron-left",xN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dc=ut("chevron-right",wN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_N=ut("chevron-up",bN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zr=ut("circle-alert",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ac=ut("circle-check-big",SN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],pv=ut("circle-plus",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gv=ut("circle-x",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xa=ut("clock",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yi=ut("dollar-sign",EN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mc=ut("eye-off",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],js=ut("eye",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ns=ut("heart",AN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],po=ut("image",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vv=ut("layout-dashboard",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yv=ut("log-out",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xv=ut("mail",DN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ji=ut("map-pin",MN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],Nx=ut("megaphone",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],BN=ut("menu",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],pn=ut("message-square",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wf=ut("pencil",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ua=ut("plus",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sx=ut("refresh-cw",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VN=ut("rotate-ccw",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jx=ut("search",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mc=ut("send",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KN=ut("settings",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],JN=ut("square-pen",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fc=ut("star",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wh=ut("tag",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cs=ut("trash-2",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nS=ut("triangle-alert",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bh=ut("upload",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],da=ut("user",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ar=ut("users",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ln=ut("x",aS);var Ci=sx();const Cx=Tc(Ci);function iS(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const lS=e=>{switch(e){case"success":return dS;case"info":return hS;case"warning":return fS;case"error":return mS;default:return null}},cS=Array(12).fill(0),uS=({visible:e,className:t})=>_e.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},_e.createElement("div",{className:"sonner-spinner"},cS.map((n,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),dS=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fS=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hS=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mS=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pS=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gS=()=>{const[e,t]=_e.useState(document.hidden);return _e.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Hf=1;class vS{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Hf++,c=this.toasts.find(h=>h.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...t,id:i,title:r}),{...h,...t,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...o,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,c;const u=o.then(async p=>{if(c=["resolve",p],_e.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(xS(p)&&!p.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,w=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:v,...w})}else if(p instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(p):n.error,v=typeof n.description=="function"?await n.description(p):n.description,w=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:v,...w})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(p):n.success,v=typeof n.description=="function"?await n.description(p):n.description,w=typeof m=="object"&&!_e.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:v,...w})}}).catch(async p=>{if(c=["reject",p],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(p):n.error,m=typeof n.description=="function"?await n.description(p):n.description,y=typeof f=="object"&&!_e.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...y})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((p,f)=>u.then(()=>c[0]==="reject"?f(c[1]):p(c[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(t,n)=>{const r=n?.id||Hf++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cn=new vS,yS=(e,t)=>{const n=t?.id||Hf++;return Cn.addToast({title:e,...t,id:n}),n},xS=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wS=yS,bS=()=>Cn.toasts,_S=()=>Cn.getActiveToasts(),be=Object.assign(wS,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:bS,getToasts:_S});iS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vl(e){return e.label!==void 0}const NS=3,SS="24px",jS="16px",wv=4e3,CS=356,kS=14,ES=45,PS=200;function yr(...e){return e.filter(Boolean).join(" ")}function RS(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const AS=e=>{var t,n,r,o,i,c,u,h,p;const{invert:f,toast:m,unstyled:v,interacting:y,setHeights:w,visibleToasts:_,heights:N,index:C,toasts:j,expanded:k,removeToast:R,defaultRichColors:F,closeButton:T,style:B,cancelButtonStyle:E,actionButtonStyle:I,className:$="",descriptionClassName:H="",duration:V,position:K,gap:W,expandByDefault:Q,classNames:A,icons:P,closeButtonAriaLabel:D="Close toast"}=e,[z,L]=_e.useState(null),[M,U]=_e.useState(null),[te,J]=_e.useState(!1),[ee,le]=_e.useState(!1),[X,ae]=_e.useState(!1),[de,se]=_e.useState(!1),[pe,je]=_e.useState(!1),[et,ue]=_e.useState(0),[q,he]=_e.useState(0),ge=_e.useRef(m.duration||V||wv),ve=_e.useRef(null),me=_e.useRef(null),Se=C===0,ze=C+1<=_,Qe=m.type,Ie=m.dismissible!==!1,ke=m.className||"",tt=m.descriptionClassName||"",Xe=_e.useMemo(()=>N.findIndex(Ae=>Ae.toastId===m.id)||0,[N,m.id]),Ue=_e.useMemo(()=>{var Ae;return(Ae=m.closeButton)!=null?Ae:T},[m.closeButton,T]),We=_e.useMemo(()=>m.duration||V||wv,[m.duration,V]),dt=_e.useRef(0),ht=_e.useRef(0),xt=_e.useRef(0),Nt=_e.useRef(null),[_t,Y]=K.split("-"),re=_e.useMemo(()=>N.reduce((Ae,at,jt)=>jt>=Xe?Ae:Ae+at.height,0),[N,Xe]),Pe=gS(),Oe=m.invert||f,Le=Qe==="loading";ht.current=_e.useMemo(()=>Xe*W+re,[Xe,re]),_e.useEffect(()=>{ge.current=We},[We]),_e.useEffect(()=>{J(!0)},[]),_e.useEffect(()=>{const Ae=me.current;if(Ae){const at=Ae.getBoundingClientRect().height;return he(at),w(jt=>[{toastId:m.id,height:at,position:m.position},...jt]),()=>w(jt=>jt.filter(pt=>pt.toastId!==m.id))}},[w,m.id]),_e.useLayoutEffect(()=>{if(!te)return;const Ae=me.current,at=Ae.style.height;Ae.style.height="auto";const jt=Ae.getBoundingClientRect().height;Ae.style.height=at,he(jt),w(pt=>pt.find(Bt=>Bt.toastId===m.id)?pt.map(Bt=>Bt.toastId===m.id?{...Bt,height:jt}:Bt):[{toastId:m.id,height:jt,position:m.position},...pt])},[te,m.title,m.description,w,m.id]);const Ee=_e.useCallback(()=>{le(!0),ue(ht.current),w(Ae=>Ae.filter(at=>at.toastId!==m.id)),setTimeout(()=>{R(m)},PS)},[m,R,w,ht]);_e.useEffect(()=>{if(m.promise&&Qe==="loading"||m.duration===1/0||m.type==="loading")return;let Ae;return k||y||Pe?(()=>{if(xt.current<dt.current){const pt=new Date().getTime()-dt.current;ge.current=ge.current-pt}xt.current=new Date().getTime()})():(()=>{ge.current!==1/0&&(dt.current=new Date().getTime(),Ae=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Ee()},ge.current))})(),()=>clearTimeout(Ae)},[k,y,m,Qe,Pe,Ee]),_e.useEffect(()=>{m.delete&&Ee()},[Ee,m.delete]);function Je(){var Ae;if(P?.loading){var at;return _e.createElement("div",{className:yr(A?.loader,m==null||(at=m.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":Qe==="loading"},P.loading)}return _e.createElement(uS,{className:yr(A?.loader,m==null||(Ae=m.classNames)==null?void 0:Ae.loader),visible:Qe==="loading"})}const He=m.icon||P?.[Qe]||lS(Qe);var ot,Pt;return _e.createElement("li",{tabIndex:0,ref:me,className:yr($,ke,A?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,A?.default,A?.[Qe],m==null||(n=m.classNames)==null?void 0:n[Qe]),"data-sonner-toast":"","data-rich-colors":(ot=m.richColors)!=null?ot:F,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":ee,"data-visible":ze,"data-y-position":_t,"data-x-position":Y,"data-index":C,"data-front":Se,"data-swiping":X,"data-dismissible":Ie,"data-type":Qe,"data-invert":Oe,"data-swipe-out":de,"data-swipe-direction":M,"data-expanded":!!(k||Q&&te),style:{"--index":C,"--toasts-before":C,"--z-index":j.length-C,"--offset":`${ee?et:ht.current}px`,"--initial-height":Q?"auto":`${q}px`,...B,...m.style},onDragEnd:()=>{ae(!1),L(null),Nt.current=null},onPointerDown:Ae=>{Le||!Ie||(ve.current=new Date,ue(ht.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ae(!0),Nt.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,at,jt;if(de||!Ie)return;Nt.current=null;const pt=Number(((Ae=me.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ht=Number(((at=me.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bt=new Date().getTime()-((jt=ve.current)==null?void 0:jt.getTime()),Ut=z==="x"?pt:Ht,Qr=Math.abs(Ut)/Bt;if(Math.abs(Ut)>=ES||Qr>.11){ue(ht.current),m.onDismiss==null||m.onDismiss.call(m,m),U(z==="x"?pt>0?"right":"left":Ht>0?"down":"up"),Ee(),se(!0);return}else{var rn,Rn;(rn=me.current)==null||rn.style.setProperty("--swipe-amount-x","0px"),(Rn=me.current)==null||Rn.style.setProperty("--swipe-amount-y","0px")}je(!1),ae(!1),L(null)},onPointerMove:Ae=>{var at,jt,pt;if(!Nt.current||!Ie||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;const Bt=Ae.clientY-Nt.current.y,Ut=Ae.clientX-Nt.current.x;var Qr;const rn=(Qr=e.swipeDirections)!=null?Qr:RS(K);!z&&(Math.abs(Ut)>1||Math.abs(Bt)>1)&&L(Math.abs(Ut)>Math.abs(Bt)?"x":"y");let Rn={x:0,y:0};const Jr=$n=>1/(1.5+Math.abs($n)/20);if(z==="y"){if(rn.includes("top")||rn.includes("bottom"))if(rn.includes("top")&&Bt<0||rn.includes("bottom")&&Bt>0)Rn.y=Bt;else{const $n=Bt*Jr(Bt);Rn.y=Math.abs($n)<Math.abs(Bt)?$n:Bt}}else if(z==="x"&&(rn.includes("left")||rn.includes("right")))if(rn.includes("left")&&Ut<0||rn.includes("right")&&Ut>0)Rn.x=Ut;else{const $n=Ut*Jr(Ut);Rn.x=Math.abs($n)<Math.abs(Ut)?$n:Ut}(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&je(!0),(jt=me.current)==null||jt.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(pt=me.current)==null||pt.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},Ue&&!m.jsx&&Qe!=="loading"?_e.createElement("button",{"aria-label":D,"data-disabled":Le,"data-close-button":!0,onClick:Le||!Ie?()=>{}:()=>{Ee(),m.onDismiss==null||m.onDismiss.call(m,m)},className:yr(A?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Pt=P?.close)!=null?Pt:pS):null,(Qe||m.icon||m.promise)&&m.icon!==null&&(P?.[Qe]!==null||m.icon)?_e.createElement("div",{"data-icon":"",className:yr(A?.icon,m==null||(o=m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Je():null,m.type!=="loading"?He:null):null,_e.createElement("div",{"data-content":"",className:yr(A?.content,m==null||(i=m.classNames)==null?void 0:i.content)},_e.createElement("div",{"data-title":"",className:yr(A?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?_e.createElement("div",{"data-description":"",className:yr(H,tt,A?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),_e.isValidElement(m.cancel)?m.cancel:m.cancel&&Vl(m.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:Ae=>{Vl(m.cancel)&&Ie&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ae),Ee())},className:yr(A?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,_e.isValidElement(m.action)?m.action:m.action&&Vl(m.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Ae=>{Vl(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ae),!Ae.defaultPrevented&&Ee())},className:yr(A?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function bv(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function TS(e,t){const n={};return[e,t].forEach((r,o)=>{const i=o===1,c=i?"--mobile-offset":"--offset",u=i?jS:SS;function h(p){["top","right","bottom","left"].forEach(f=>{n[`${c}-${f}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${c}-${p}`]=u:n[`${c}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(u)}),n}const IS=_e.forwardRef(function(t,n){const{invert:r,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:p,mobileOffset:f,theme:m="light",richColors:v,duration:y,style:w,visibleToasts:_=NS,toastOptions:N,dir:C=bv(),gap:j=kS,icons:k,containerAriaLabel:R="Notifications"}=t,[F,T]=_e.useState([]),B=_e.useMemo(()=>Array.from(new Set([o].concat(F.filter(M=>M.position).map(M=>M.position)))),[F,o]),[E,I]=_e.useState([]),[$,H]=_e.useState(!1),[V,K]=_e.useState(!1),[W,Q]=_e.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=_e.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=_e.useRef(null),z=_e.useRef(!1),L=_e.useCallback(M=>{T(U=>{var te;return(te=U.find(J=>J.id===M.id))!=null&&te.delete||Cn.dismiss(M.id),U.filter(({id:J})=>J!==M.id)})},[]);return _e.useEffect(()=>Cn.subscribe(M=>{if(M.dismiss){requestAnimationFrame(()=>{T(U=>U.map(te=>te.id===M.id?{...te,delete:!0}:te))});return}setTimeout(()=>{Cx.flushSync(()=>{T(U=>{const te=U.findIndex(J=>J.id===M.id);return te!==-1?[...U.slice(0,te),{...U[te],...M},...U.slice(te+1)]:[M,...U]})})})}),[F]),_e.useEffect(()=>{if(m!=="system"){Q(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:U})=>{Q(U?"dark":"light")})}catch{M.addListener(({matches:te})=>{try{Q(te?"dark":"light")}catch(J){console.error(J)}})}},[m]),_e.useEffect(()=>{F.length<=1&&H(!1)},[F]),_e.useEffect(()=>{const M=U=>{var te;if(i.every(le=>U[le]||U.code===le)){var ee;H(!0),(ee=A.current)==null||ee.focus()}U.code==="Escape"&&(document.activeElement===A.current||(te=A.current)!=null&&te.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[i]),_e.useEffect(()=>{if(A.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,z.current=!1)}},[A.current]),_e.createElement("section",{ref:n,"aria-label":`${R} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((M,U)=>{var te;const[J,ee]=M.split("-");return F.length?_e.createElement("ol",{key:M,dir:C==="auto"?bv():C,tabIndex:-1,ref:A,className:h,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":J,"data-lifted":$&&F.length>1&&!c,"data-x-position":ee,style:{"--front-toast-height":`${((te=E[0])==null?void 0:te.height)||0}px`,"--width":`${CS}px`,"--gap":`${j}px`,...w,...TS(p,f)},onBlur:le=>{z.current&&!le.currentTarget.contains(le.relatedTarget)&&(z.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||z.current||(z.current=!0,D.current=le.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{V||H(!1)},onDragEnd:()=>H(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},F.filter(le=>!le.position&&U===0||le.position===M).map((le,X)=>{var ae,de;return _e.createElement(AS,{key:le.id,icons:k,index:X,toast:le,defaultRichColors:v,duration:(ae=N?.duration)!=null?ae:y,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:_,closeButton:(de=N?.closeButton)!=null?de:u,interacting:V,position:M,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:L,toasts:F.filter(se=>se.position==le.position),heights:E.filter(se=>se.position==le.position),setHeights:I,expandByDefault:c,gap:j,expanded:$,swipeDirections:t.swipeDirections})})):null}))});function Xd({onNavigate:e,user:t,onRequireAuth:n}){const r=(o,i=!1)=>{i&&!t?n():t&&!t.stripeConnected?(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),e("profile")):e(o)};return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative h-96 bg-cover bg-center",style:{backgroundImage:"linear-gradient(rgba(85, 107, 47, 0.6), rgba(85, 107, 47, 0.6)), url('https://images.unsplash.com/photo-1567456035144-5b7969382b9b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxydXN0aWMlMjBmYXJtJTIwYmFybiUyMGNvdW50cnlzaWRlfGVufDF8fHx8MTc1ODQwNDkxNnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')"},children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#f8f9f6] max-w-4xl px-6",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 text-white",children:"The Learning Hub for Homesteaders"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"Connect, learn, and share knowledge in your homesteading community"}),l.jsx(fe,{onClick:()=>e("classes"),size:"lg",className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6] px-8 py-3",children:"Browse Classes Nearby"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsx(Ve,{className:"bg-[#ffffff] border-[#a8b892] shadow-lg hover:shadow-xl transition-shadow",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#556B2F] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ao,{className:"w-8 h-8 text-[#f8f9f6]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"Learn New Skills"}),l.jsx("p",{className:"text-[#3c4f21] mb-4",children:"Discover hands-on classes from experienced homesteaders in your area. From gardening to animal care, expand your knowledge."}),l.jsx(fe,{variant:"outline",onClick:()=>e("classes"),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:"Browse Classes"})]})}),l.jsx(Ve,{className:"bg-[#ffffff] border-[#a8b892] shadow-lg hover:shadow-xl transition-shadow",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#556B2F] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ar,{className:"w-8 h-8 text-[#f8f9f6]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"Teach & Share"}),l.jsx("p",{className:"text-[#3c4f21] mb-4",children:"Share your expertise with fellow homesteaders. Host classes at your homestead and build community connections."}),l.jsx(fe,{variant:"outline",onClick:()=>r("create-class",!0),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:t?t.stripeConnected?"Create a Class":"Setup Stripe to Teach":"Sign In to Teach"})]})}),l.jsx(Ve,{className:"bg-[#ffffff] border-[#a8b892] shadow-lg hover:shadow-xl transition-shadow",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#556B2F] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(pn,{className:"w-8 h-8 text-[#f8f9f6]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"Community Board"}),l.jsx("p",{className:"text-[#3c4f21] mb-4",children:"Connect with neighbors, share tips, ask questions, and stay updated on local homesteading news and events."}),l.jsx(fe,{variant:"outline",onClick:()=>e("bulletin"),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:"Visit Bulletin"})]})})]})}),l.jsx("div",{className:"bg-[#556B2F] py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-[#f8f9f6] mb-12",children:"How HERD Works"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#f8f9f6] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ji,{className:"w-8 h-8 text-[#556B2F]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#f8f9f6] mb-3",children:"1. Find Classes Nearby"}),l.jsx("p",{className:"text-[#a8b892]",children:"Browse local homesteading classes and workshops hosted by experienced community members."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#f8f9f6] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ao,{className:"w-8 h-8 text-[#556B2F]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#f8f9f6] mb-3",children:"2. Book Securely"}),l.jsx("p",{className:"text-[#a8b892]",children:"Reserve your spot in classes that interest you. Connect directly with instructors and get all the details."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#f8f9f6] rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ar,{className:"w-8 h-8 text-[#556B2F]"})}),l.jsx("h3",{className:"text-xl font-semibold text-[#f8f9f6] mb-3",children:"3. Learn & Connect"}),l.jsx("p",{className:"text-[#a8b892]",children:"Attend hands-on classes, learn new skills, and build lasting connections with fellow homesteaders."})]})]})]})}),l.jsx("div",{className:"bg-[#ffffff] py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-[#2d3d1f] mb-4",children:"Ready to Grow Your Homesteading Skills?"}),l.jsx("p",{className:"text-[#3c4f21] text-lg mb-8",children:"Join our community of passionate homesteaders and start learning today."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t?l.jsx(fe,{onClick:()=>e("dashboard"),size:"lg",className:"min-w-[220px] bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:"Go to Dashboard"}):l.jsx(fe,{onClick:()=>e("classes"),size:"lg",className:"min-w-[220px] bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:"Start Learning"}),l.jsx(fe,{onClick:()=>r("create-class",!0),size:"lg",className:"min-w-[220px] bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:t?t.stripeConnected?"Start Teaching":"Setup Stripe to Teach":"Sign In to Teach"})]})]})})]})}function St({className:e,type:t,...n}){return l.jsx("input",{type:t,"data-slot":"input",className:st("w-full h-10 rounded-md border-[0.5px] border-[#d1d5db] bg-white text-[#1f2b15] placeholder:text-[#6b7280] px-3","focus:border-black focus:ring-0 focus-visible:ring-4 focus-visible:ring-[#c54a2c]/30","focus-visible:ring-offset-2 focus-visible:ring-offset-white","disabled:cursor-not-allowed disabled:opacity-50 transition-all",e),...n})}function Gn({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:st("w-full min-h-[140px] rounded-md border-[0.5px] border-[#d1d5db] bg-white text-[#1f2b15] placeholder:text-[#6b7280] px-3 py-2","focus:border-black focus:ring-0 focus-visible:ring-4 focus-visible:ring-[#c54a2c]/30","focus-visible:ring-offset-2 focus-visible:ring-offset-white","disabled:cursor-not-allowed disabled:opacity-50 transition-all resize-none",e),...t})}var OS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=OS.reduce((e,t)=>{const n=oo(`Primitive.${t}`),r=b.forwardRef((o,i)=>{const{asChild:c,...u}=o,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function DS(e,t){e&&Ci.flushSync(()=>e.dispatchEvent(t))}var MS="Label",kx=b.forwardRef((e,t)=>l.jsx(lt.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kx.displayName=MS;var FS=kx;function rt({className:e,...t}){return l.jsx(FS,{"data-slot":"label",className:st("block text-sm font-medium text-[#1f2b15] mb-1 select-none","peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function LS(e,t){const n=b.createContext(t),r=i=>{const{children:c,...u}=i,h=b.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:h,children:c})};r.displayName=e+"Provider";function o(i){const c=b.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,o]}function Cr(e,t=[]){let n=[];function r(i,c){const u=b.createContext(c),h=n.length;n=[...n,c];const p=m=>{const{scope:v,children:y,...w}=m,_=v?.[e]?.[h]||u,N=b.useMemo(()=>w,Object.values(w));return l.jsx(_.Provider,{value:N,children:y})};p.displayName=i+"Provider";function f(m,v){const y=v?.[e]?.[h]||u,w=b.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,f]}const o=()=>{const i=n.map(c=>b.createContext(c));return function(u){const h=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return o.scopeName=e,[r,BS(o,...t)]}function BS(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const c=r.reduce((u,{useScope:h,scopeName:p})=>{const m=h(i)[`__scope${p}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function ct(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}var Xt=globalThis?.document?b.useLayoutEffect:()=>{},$S=ox[" useInsertionEffect ".trim().toString()]||Xt;function ks({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,c]=US({defaultProp:t,onChange:n}),u=e!==void 0,h=u?e:o;{const f=b.useRef(e!==void 0);b.useEffect(()=>{const m=f.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=u},[u,r])}const p=b.useCallback(f=>{if(u){const m=zS(f)?f(e):f;m!==e&&c.current?.(m)}else i(f)},[u,e,i,c]);return[h,p]}function US({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),o=b.useRef(n),i=b.useRef(t);return $S(()=>{i.current=t},[t]),b.useEffect(()=>{o.current!==n&&(i.current?.(n),o.current=n)},[n,o]),[n,r,i]}function zS(e){return typeof e=="function"}function _h(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Nh(e){const[t,n]=b.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let c,u;if("borderBoxSize"in i){const h=i.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function WS(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var As=e=>{const{present:t,children:n}=e,r=HS(t),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Et(r.ref,VS(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:i}):null};As.displayName="Presence";function HS(e){const[t,n]=b.useState(),r=b.useRef(null),o=b.useRef(e),i=b.useRef("none"),c=e?"mounted":"unmounted",[u,h]=WS(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=ql(r.current);i.current=u==="mounted"?p:"none"},[u]),Xt(()=>{const p=r.current,f=o.current;if(f!==e){const v=i.current,y=ql(p);e?h("MOUNT"):y==="none"||p?.display==="none"?h("UNMOUNT"):h(f&&v!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),Xt(()=>{if(t){let p;const f=t.ownerDocument.defaultView??window,m=y=>{const _=ql(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&_&&(h("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=y=>{y.target===t&&(i.current=ql(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function ql(e){return e?.animationName||"none"}function VS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lc="Checkbox",[qS]=Cr(Lc),[GS,Sh]=qS(Lc);function YS(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:i,form:c,name:u,onCheckedChange:h,required:p,value:f="on",internal_do_not_use_render:m}=e,[v,y]=ks({prop:n,defaultProp:o??!1,onChange:h,caller:Lc}),[w,_]=b.useState(null),[N,C]=b.useState(null),j=b.useRef(!1),k=w?!!c||!!w.closest("form"):!0,R={checked:v,disabled:i,setChecked:y,control:w,setControl:_,name:u,form:c,value:f,hasConsumerStoppedPropagationRef:j,required:p,defaultChecked:Ss(o)?!1:o,isFormControl:k,bubbleInput:N,setBubbleInput:C};return l.jsx(GS,{scope:t,...R,children:KS(m)?m(R):r})}var Ex="CheckboxTrigger",Px=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:i,value:c,disabled:u,checked:h,required:p,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:w}=Sh(Ex,e),_=Et(o,f),N=b.useRef(h);return b.useEffect(()=>{const C=i?.form;if(C){const j=()=>m(N.current);return C.addEventListener("reset",j),()=>C.removeEventListener("reset",j)}},[i,m]),l.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":Ss(h)?"mixed":h,"aria-required":p,"data-state":Dx(h),"data-disabled":u?"":void 0,disabled:u,value:c,...r,ref:_,onKeyDown:ct(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ct(n,C=>{m(j=>Ss(j)?!0:!j),w&&y&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});Px.displayName=Ex;var Rx=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:c,disabled:u,value:h,onCheckedChange:p,form:f,...m}=e;return l.jsx(YS,{__scopeCheckbox:n,checked:o,defaultChecked:i,disabled:u,required:c,onCheckedChange:p,name:r,form:f,value:h,internal_do_not_use_render:({isFormControl:v})=>l.jsxs(l.Fragment,{children:[l.jsx(Px,{...m,ref:t,__scopeCheckbox:n}),v&&l.jsx(Ox,{__scopeCheckbox:n})]})})});Rx.displayName=Lc;var Ax="CheckboxIndicator",Tx=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=Sh(Ax,n);return l.jsx(As,{present:r||Ss(i.checked)||i.checked===!0,children:l.jsx(lt.span,{"data-state":Dx(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Tx.displayName=Ax;var Ix="CheckboxBubbleInput",Ox=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:c,required:u,disabled:h,name:p,value:f,form:m,bubbleInput:v,setBubbleInput:y}=Sh(Ix,e),w=Et(n,y),_=_h(i),N=Nh(r);b.useEffect(()=>{const j=v;if(!j)return;const k=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(k,"checked").set,T=!o.current;if(_!==i&&F){const B=new Event("click",{bubbles:T});j.indeterminate=Ss(i),F.call(j,Ss(i)?!1:i),j.dispatchEvent(B)}},[v,_,i,o]);const C=b.useRef(Ss(i)?!1:i);return l.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,required:u,disabled:h,name:p,value:f,form:m,...t,tabIndex:-1,ref:w,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ox.displayName=Ix;function KS(e){return typeof e=="function"}function Ss(e){return e==="indeterminate"}function Dx(e){return Ss(e)?"indeterminate":e?"checked":"unchecked"}function Mx({className:e,...t}){return l.jsx(Rx,{"data-slot":"checkbox",className:st("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Tx,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(io,{className:"size-3.5"})})})}const QS=e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);return Number.isFinite(t)?t:0}return 0},Ts=e=>{const t=QS(e);return!Number.isFinite(t)||t<=0?0:Math.abs(t)>=100&&Number.isInteger(t)?Math.round(t):Math.round(t*100)},ir=(e,t={})=>{const o=(Ts(e)/100).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.withCurrency?`$${o}`:o},JS=(e,t={})=>{const{requireFutureDate:n=!1}=t;if(!e.startDate)return"Please select a start date.";if(!e.startTime)return"Please select a start time.";if(n){const r=String(e.startDate??"").split("-");if(r.length!==3)return"Please select a valid start date.";const[o,i,c]=r,u=Number(o),h=Number(i),p=Number(c);if(!Number.isFinite(u)||!Number.isFinite(h)||!Number.isFinite(p)||h<1||h>12||p<1||p>31)return"Please select a valid start date.";const f=new Date(u,h-1,p);f.setHours(0,0,0,0);const m=new Date;if(m.setHours(0,0,0,0),f<=m)return"Start date must be in the future."}return Number(e.numberOfDays)<1?"Number of days must be at least 1.":Number(e.maxStudents)<1?"Maximum students must be at least 1.":!e.address?.street||!e.address.city||!e.address.state||!e.address.zipCode?"Please fill in all address fields.":Ts(e.pricePerPerson)<=0?"Please enter a valid price.":null},XS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mo(async()=>{const{default:r}=await Promise.resolve().then(()=>wa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class jh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class _v extends jh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nv extends jh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sv extends jh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vf||(Vf={}));var ZS=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class ej{constructor(t,{headers:n={},customFetch:r,region:o=Vf.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=XS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ZS(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:i,method:c,body:u,signal:h}=r;let p={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let v;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(p["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(p["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),i),body:v,signal:h}).catch(C=>{throw C.name==="AbortError"?C:new _v(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new Nv(y);if(!y.ok)throw new Sv(y);let _=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield y.json():_==="application/octet-stream"?N=yield y.blob():_==="text/event-stream"?N=y:_==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new _v(i)}:{data:null,error:i,response:i instanceof Sv||i instanceof Nv?i.context:void 0}}})}}var nn={},zo={},Wo={},Ho={},Vo={},qo={},tj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fa=tj();const nj=fa.fetch,Fx=fa.fetch.bind(fa),Lx=fa.Headers,rj=fa.Request,sj=fa.Response,wa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lx,Request:rj,Response:sj,default:Fx,fetch:nj},Symbol.toStringTag,{value:"Module"})),oj=h2(wa);var Gl={},jv;function Bx(){if(jv)return Gl;jv=1,Object.defineProperty(Gl,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Gl.default=e,Gl}var Cv;function $x(){if(Cv)return qo;Cv=1;var e=qo&&qo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qo,"__esModule",{value:!0});const t=e(oj),n=e(Bx());class r{constructor(i){var c,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(c=i.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,c){return this.headers=new Headers(this.headers),this.headers.set(i,c),this}then(i,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var f,m,v,y;let w=null,_=null,N=null,C=p.status,j=p.statusText;if(p.ok){if(this.method!=="HEAD"){const T=await p.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=T:_=JSON.parse(T))}const R=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),F=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&F&&F.length>1&&(N=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,N=null,C=406,j="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const R=await p.text();try{w=JSON.parse(R),Array.isArray(w)&&p.status===404&&(_=[],w=null,C=200,j="OK")}catch{p.status===404&&R===""?(C=204,j="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,C=200,j="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:_,count:N,status:C,statusText:j}});return this.shouldThrowOnError||(h=h.catch(p=>{var f,m,v;return{error:{message:`${(f=p?.name)!==null&&f!==void 0?f:"FetchError"}: ${p?.message}`,details:`${(m=p?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=p?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(i,c)}returns(){return this}overrideTypes(){return this}}return qo.default=r,qo}var kv;function Ux(){if(kv)return Vo;kv=1;var e=Vo&&Vo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vo,"__esModule",{value:!0});const t=e($x());class n extends t.default{select(o){let i=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:i=!0,nullsFirst:c,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",f=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${f?`${f},`:""}${o}.${i?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:i,referencedTable:c=i}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,i,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${i-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:i=!1,settings:c=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var f;const m=[o?"analyze":null,i?"verbose":null,c?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Vo.default=n,Vo}var Ev;function Ch(){if(Ev)return Ho;Ev=1;var e=Ho&&Ho.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ho,"__esModule",{value:!0});const t=e(Ux());class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const c=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${h}fts${p}.${i}`),this}match(o){return Object.entries(o).forEach(([i,c])=>{this.url.searchParams.append(i,`eq.${c}`)}),this}not(o,i,c){return this.url.searchParams.append(o,`not.${i}.${c}`),this}or(o,{foreignTable:i,referencedTable:c=i}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,i,c){return this.url.searchParams.append(o,`${i}.${c}`),this}}return Ho.default=n,Ho}var Pv;function zx(){if(Pv)return Wo;Pv=1;var e=Wo&&Wo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wo,"__esModule",{value:!0});const t=e(Ch());class n{constructor(o,{headers:i={},schema:c,fetch:u}){this.url=o,this.headers=new Headers(i),this.schema=c,this.fetch=u}select(o,i){const{head:c=!1,count:u}=i??{},h=c?"HEAD":"GET";let p=!1;const f=(o??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",f),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:i,defaultToNull:c=!0}={}){var u;const h="POST";if(i&&this.headers.append("Prefer",`count=${i}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(p.length>0){const f=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:i,ignoreDuplicates:c=!1,count:u,defaultToNull:h=!0}={}){var p;const f="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:i}={}){var c;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var i;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Wo.default=n,Wo}var Rv;function aj(){if(Rv)return zo;Rv=1;var e=zo&&zo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(zx()),n=e(Ch());class r{constructor(i,{headers:c={},schema:u,fetch:h}={}){this.url=i,this.headers=new Headers(c),this.schemaName=u,this.fetch=h}from(i){const c=new URL(`${this.url}/${i}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,c={},{head:u=!1,get:h=!1,count:p}={}){var f;let m;const v=new URL(`${this.url}/rpc/${i}`);let y;u||h?(m=u?"HEAD":"GET",Object.entries(c).filter(([_,N])=>N!==void 0).map(([_,N])=>[_,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([_,N])=>{v.searchParams.append(_,N)})):(m="POST",y=c);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new n.default({method:m,url:v,headers:w,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return zo.default=r,zo}var Av;function ij(){if(Av)return nn;Av=1;var e=nn&&nn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(nn,"__esModule",{value:!0}),nn.PostgrestError=nn.PostgrestBuilder=nn.PostgrestTransformBuilder=nn.PostgrestFilterBuilder=nn.PostgrestQueryBuilder=nn.PostgrestClient=void 0;const t=e(aj());nn.PostgrestClient=t.default;const n=e(zx());nn.PostgrestQueryBuilder=n.default;const r=e(Ch());nn.PostgrestFilterBuilder=r.default;const o=e(Ux());nn.PostgrestTransformBuilder=o.default;const i=e($x());nn.PostgrestBuilder=i.default;const c=e(Bx());return nn.PostgrestError=c.default,nn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:i.default,PostgrestError:c.default},nn}var lj=ij();const cj=Tc(lj),{PostgrestClient:uj,PostgrestQueryBuilder:AO,PostgrestFilterBuilder:TO,PostgrestTransformBuilder:IO,PostgrestBuilder:OO,PostgrestError:DO}=cj;class dj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fj="2.75.0",hj=`realtime-js/${fj}`,mj="1.0.0",qf=1e4,pj=1e3,gj=100;var pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pi||(pi={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var Gf;(function(e){e.websocket="websocket"})(Gf||(Gf={}));var to;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(to||(to={}));class vj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),i=n.getUint8(2);let c=this.HEADER_LENGTH+2;const u=r.decode(t.slice(c,c+o));c=c+o;const h=r.decode(t.slice(c,c+i));c=c+i;const p=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class Wx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const Tv=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,c)=>(i[c]=yj(c,e,t,o),i),{}):{}},yj=(e,t,n,r)=>{const o=t.find(u=>u.name===e),i=o?.type,c=n[e];return i&&!r.includes(i)?Hx(i,c):Yf(c)},Hx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return _j(t,n)}switch(e){case At.bool:return xj(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return wj(t);case At.json:case At.jsonb:return bj(t);case At.timestamp:return Nj(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return Yf(t);default:return Yf(t)}},Yf=e=>e,xj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_j=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const c=e.slice(1,n);try{i=JSON.parse("["+c+"]")}catch{i=c?c.split(","):[]}return i.map(u=>Hx(t,u))}return e},Nj=e=>typeof e=="string"?e.replace(" ","T"):e,Vx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Zd{constructor(t,n,r={},o=qf){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iv||(Iv={}));class gi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,o,i,c),this.pendingDiffs.forEach(h=>{this.state=gi.syncDiff(this.state,h,i,c)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=gi.syncDiff(this.state,o,i,c),u())}),this.onJoin((o,i,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:c})}),this.onLeave((o,i,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const i=this.cloneDeep(t),c=this.transformState(n),u={},h={};return this.map(i,(p,f)=>{c[p]||(h[p]=f)}),this.map(c,(p,f)=>{const m=i[p];if(m){const v=f.map(N=>N.presence_ref),y=m.map(N=>N.presence_ref),w=f.filter(N=>y.indexOf(N.presence_ref)<0),_=m.filter(N=>v.indexOf(N.presence_ref)<0);w.length>0&&(u[p]=w),_.length>0&&(h[p]=_)}else u[p]=f}),this.syncDiff(i,{joins:u,leaves:h},r,o)}static syncDiff(t,n,r,o){const{joins:i,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(u,h)=>{var p;const f=(p=t[u])!==null&&p!==void 0?p:[];if(t[u]=this.cloneDeep(h),f.length>0){const m=t[u].map(y=>y.presence_ref),v=f.filter(y=>m.indexOf(y.presence_ref)<0);t[u].unshift(...v)}r(u,f,h)}),this.map(c,(u,h)=>{let p=t[u];if(!p)return;const f=h.map(m=>m.presence_ref);p=p.filter(m=>f.indexOf(m.presence_ref)<0),t[u]=p,o(u,p,h),p.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ov||(Ov={}));var vi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vi||(vi={}));var Ur;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ur||(Ur={}));class kh{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zd(this,or.join,this.params,this.timeout),this.rejoinTimer=new Wx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new gi(this),this.broadcastEndpointURL=Vx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[vi.PRESENCE]&&this.bindings[vi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:f}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(Ur.CHANNEL_ERROR,y)),this._onClose(()=>t?.(Ur.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t?.(Ur.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(w=_?.length)!==null&&w!==void 0?w:0,C=[];for(let j=0;j<N;j++){const k=_[j],{filter:{event:R,schema:F,table:T,filter:B}}=k,E=y&&y[j];if(E&&E.event===R&&E.schema===F&&E.table===T&&E.filter===B)C.push(Object.assign(Object.assign({},k),{id:E.id}));else{this.unsubscribe(),this.state=Jt.errored,t?.(Ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Ur.SUBSCRIBED);return}}).receive("error",y=>{this.state=Jt.errored,t?.(Ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Jt.joined&&t===vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var c,u,h;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&i("ok"),p.receive("ok",()=>i("ok")),p.receive("error",()=>i("error")),p.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Zd(this,or.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Zd(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;const c=t.toLocaleLowerCase(),{close:u,error:h,leave:p,join:f}=or;if(r&&[u,h,p,f].indexOf(c)>=0&&r!==this._joinRef())return;let v=this._onMessage(c,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var w,_,N;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(_=y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(y=>y.callback(v,r)):(i=this.bindings[c])===null||i===void 0||i.filter(y=>{var w,_,N,C,j,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const R=y.id,F=(w=y.filter)===null||w===void 0?void 0:w.event;return R&&((_=n.ids)===null||_===void 0?void 0:_.includes(R))&&(F==="*"||F?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const R=(j=(C=y?.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return R==="*"||R===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:_,table:N,commit_timestamp:C,type:j,errors:k}=w;v=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:C,eventType:j,new:{},old:{},errors:k}),this._getPayloadRecords(w))}y.callback(v,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kh.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tv(t.columns,t.old_record)),n}}const ef=()=>{},Yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sj=[1e3,2e3,5e3,1e4],jj=1e4,Cj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kj{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qf,this.transport=null,this.heartbeatIntervalMs=Yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ef,this.ref=0,this.reconnectTimer=null,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new vj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...c)=>mo(async()=>{const{default:u}=await Promise.resolve().then(()=>wa);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...c)=>i(...c)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gf.websocket}`,this.httpEndpoint=Vx(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mj}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pi.connecting:return to.Connecting;case pi.open:return to.Open;case pi.closing:return to.Closing;default:return to.Closed}}isConnected(){return this.connectionState()===to.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new kh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:o,ref:i}=t,c=()=>{this.encode(t,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:i,ref:c}=n,u=c?`(${c})`:"",h=i.status||"";this.log("receive",`${h} ${r} ${o} ${u}`.trim(),i),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,i,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Cj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:hj};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,c,u,h,p,f;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:qf,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Yl.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:ef,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(m=>Sj[m-1]||jj),this.encode=(p=t?.encode)!==null&&p!==void 0?p:((m,v)=>v(JSON.stringify(m))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Eh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ej extends Eh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kf extends Eh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Pj=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const qx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mo(async()=>{const{default:r}=await Promise.resolve().then(()=>wa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rj=()=>Pj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mo(()=>Promise.resolve().then(()=>wa),void 0)).Response:Response}),Qf=e=>{if(Array.isArray(e))return e.map(n=>Qf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Qf(r)}),t},Aj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var go=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const tf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tj=(e,t,n)=>go(void 0,void 0,void 0,function*(){const r=yield Rj();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{const i=e.status||500,c=o?.statusCode||i+"";t(new Ej(tf(o),i,c))}).catch(o=>{t(new Kf(tf(o),o))}):t(new Kf(tf(e),e))}),Ij=(e,t,n,r)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!r?o:(Aj(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function ki(e,t,n,r,o,i){return go(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(n,Ij(t,r,o,i)).then(h=>{if(!h.ok)throw h;return r?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Tj(h,u,r))})})}function pc(e,t,n,r){return go(this,void 0,void 0,function*(){return ki(e,"GET",t,n,r)})}function xr(e,t,n,r,o){return go(this,void 0,void 0,function*(){return ki(e,"POST",t,r,o,n)})}function Jf(e,t,n,r,o){return go(this,void 0,void 0,function*(){return ki(e,"PUT",t,r,o,n)})}function Oj(e,t,n,r){return go(this,void 0,void 0,function*(){return ki(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gx(e,t,n,r,o){return go(this,void 0,void 0,function*(){return ki(e,"DELETE",t,r,o,n)})}var Dj=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class Mj{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Dj(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}}var Fj=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class Lj{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new Mj(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return Fj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}}var jn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const Bj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $j{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=qx(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return jn(this,void 0,void 0,function*(){try{let i;const c=Object.assign(Object.assign({},Dv),o);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",c.cacheControl),h&&i.append("metadata",this.encodeMetadata(h)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",c.cacheControl),h&&i.append("metadata",this.encodeMetadata(h))):(i=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(u=Object.assign(Object.assign({},u),o.headers));const p=this._removeEmptyFolders(n),f=this._getFinalPath(p),m=yield(t=="PUT"?Jf:xr)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return jn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),c=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Dv.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType);const m=yield Jf(this.fetch,u.toString(),h,{headers:f});return{data:{path:i,fullPath:m.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Gt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return jn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const i=yield xr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+i.url),u=c.searchParams.get("token");if(!u)throw new Eh("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}update(t,n,r){return jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return jn(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}copy(t,n,r){return jn(this,void 0,void 0,function*(){try{return{data:{path:(yield xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return jn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield xr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${c}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return jn(this,void 0,void 0,function*(){try{const o=yield xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}download(t,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),c=i?`?${i}`:"",u=this._getFinalPath(t),h=()=>pc(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Lj(h,this.shouldThrowOnError)}info(t){return jn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}exists(t){return jn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Oj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r)&&r instanceof Kf){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(t){return jn(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}list(t,n,r){return jn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Bj),n),{prefix:t||""});return{data:yield xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}listV2(t,n){return jn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield xr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Uj="2.75.0",zj={"X-Client-Info":`storage-js/${Uj}`};var Go=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class Wj{constructor(t,n={},r,o){this.shouldThrowOnError=!1;const i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zj),n),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Go(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}getBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}createBucket(t){return Go(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return Go(this,void 0,void 0,function*(){try{return{data:yield Jf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield Gx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}}class Hj extends Wj{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new $j(this.url,this.headers,t,this.fetch)}}const Vj="2.75.0";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const qj={"X-Client-Info":`supabase-js-${hi}/${Vj}`},Gj={headers:qj},Yj={schema:"public"},Kj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qj={};var Jj=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const Xj=e=>{let t;return e?t=e:typeof fetch>"u"?t=Fx:t=fetch,(...n)=>t(...n)},Zj=()=>typeof Headers>"u"?Lx:Headers,eC=(e,t,n)=>{const r=Xj(n),o=Zj();return(i,c)=>Jj(void 0,void 0,void 0,function*(){var u;const h=(u=yield t())!==null&&u!==void 0?u:e;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(i,Object.assign(Object.assign({},c),{headers:p}))})};var tC=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};function nC(e){return e.endsWith("/")?e:e+"/"}function rC(e,t){var n,r;const{db:o,auth:i,realtime:c,global:u}=e,{db:h,auth:p,realtime:f,global:m}=t,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),i),realtime:Object.assign(Object.assign({},f),c),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tC(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function sC(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nC(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Yx="2.75.0",ra=30*1e3,Xf=3,nf=Xf*ra,oC="http://localhost:9999",aC="supabase.auth.token",iC={"X-Client-Info":`gotrue-js/${Yx}`},Zf="X-Supabase-Api-Version",Kx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cC=600*1e3;class xi extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uC extends xi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function dC(e){return Ke(e)&&e.name==="AuthApiError"}class no extends xi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Is extends xi{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class ws extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fC(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class Yo extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kl extends Is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ql extends Is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hC(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mv extends Is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eh extends Is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function rf(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class Fv extends Is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class th extends Is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lv=` 	
\r=`.split(""),mC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Lv.length;t+=1)e[Lv[t].charCodeAt(0)]=-2;for(let t=0;t<gc.length;t+=1)e[gc[t].charCodeAt(0)]=t;return e})();function Bv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(gc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(gc[r]),t.queuedBits-=6}}function Qx(e,t,n){const r=mC[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $v(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=c=>{vC(c,r,n)};for(let c=0;c<e.length;c+=1)Qx(e.charCodeAt(c),o,i);return t.join("")}function pC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gC(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}pC(r,t)}}function vC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aa(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Qx(e.charCodeAt(o),n,r);return new Uint8Array(t)}function yC(e){const t=[];return gC(e,n=>t.push(n)),new Uint8Array(t)}function ro(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Bv(o,n,r)),Bv(null,n,r),t.join("")}function xC(e){return Math.round(Date.now()/1e3)+e}function wC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},Jx=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function bC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Xx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mo(async()=>{const{default:r}=await Promise.resolve().then(()=>wa);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_C=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ys=async(e,t)=>{await e.removeItem(t)};class Bc{constructor(){this.promise=new Bc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bc.promiseConstructor=Promise;function sf(e){const t=e.split(".");if(t.length!==3)throw new th("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!lC.test(t[r]))throw new th("JWT not in base64url format");return{header:JSON.parse($v(t[0])),payload:JSON.parse($v(t[1])),signature:aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function NC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function SC(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const c=await e(i);if(!t(i,null,c)){r(c);return}}catch(c){if(!t(i,c)){o(c);return}}})()})}function jC(e){return("0"+e.toString(16)).substr(-2)}function CC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,jC).join("")}async function kC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function EC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,n=!1){const r=CC();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await sa(e,`${t}-code-verifier`,o);const i=await EC(r);return[i,r===i?"plain":"s256"]}const PC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RC(e){const t=e.headers.get(Zf);if(!t||!t.match(PC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!IC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function of(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uv(e){return JSON.parse(JSON.stringify(e))}var OC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DC=[502,503,504];async function zv(e){var t;if(!_C(e))throw new eh(Zs(e),0);if(DC.includes(e.status))throw new eh(Zs(e),e.status);let n;try{n=await e.json()}catch(i){throw new no(Zs(i),i)}let r;const o=RC(e);if(o&&o.getTime()>=Kx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fv(Zs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ws}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,c)=>i&&typeof c=="string",!0))throw new Fv(Zs(n),e.status,n.weak_password.reasons);throw new uC(Zs(n),e.status||500,r)}const MC=(e,t,n,r)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function it(e,t,n,r){var o;const i=Object.assign({},r?.headers);i[Zf]||(i[Zf]=Kx["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const c=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(c.redirect_to=r.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await FC(e,t,n+u,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(h):{data:Object.assign({},h),error:null}}async function FC(e,t,n,r,o,i){const c=MC(t,r,o,i);let u;try{u=await e(n,Object.assign({},c))}catch(h){throw console.error(h),new eh(Zs(h),0)}if(u.ok||await zv(u),r?.noResolveJson)return u;try{return await u.json()}catch(h){await zv(h)}}function nr(e){var t;let n=null;$C(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=xC(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wv(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _s(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LC(e){return{data:e,error:null}}function BC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,c=OC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function Hv(e){return e}function $C(e){return e.access_token&&e.refresh_token&&e.expires_in}const af=["global","local","others"];var UC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class zC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Xx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=af[0]){if(af.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${af.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_s})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=UC(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:BC,redirectTo:n?.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_s})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,c,u,h;try{const p={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Hv});if(f.error)throw f.error;const m=await f.json(),v=(c=f.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);p[`${N}Page`]=_}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Ke(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Qo(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_s})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qo(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_s})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qo(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_s})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qo(t.userId);try{const{data:n,error:r}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qo(t.userId),Qo(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,c,u,h;try{const p={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Hv});if(f.error)throw f.error;const m=await f.json(),v=(c=f.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);p[`${N}Page`]=_}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(Ke(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function Vv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jo={debug:!!(globalThis&&Jx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class WC extends Zx{}async function HC(e,t,n){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function VC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qC(e){return parseInt(e,16)}function GC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function YC(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:c,notBefore:u,requestId:h,resources:p,scheme:f,uri:m,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=e0(e.address),w=f?`${f}://${r}`:r,_=e.statement?`${e.statement}
`:"",N=`${w} wants you to sign in with your Ethereum account:
${y}

${_}`;let C=`URI: ${m}
Version: ${v}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${i.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),h&&(C+=`
Request ID: ${h}`),p){let j=`
Resources:`;for(const k of p){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);j+=`
- ${k}`}C+=j}return`${N}
${C}`}class qt extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class vc extends qt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function KC({error:e,options:t}){var n,r,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(n0(c)){if(i.rp.id!==c)return new qt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function QC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(n0(r)){if(n.rpId!==r)return new qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var t0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class JC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const XC=new JC;function ZC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,o=t0(e,["challenge","user","excludeCredentials"]),i=aa(t).buffer,c=Object.assign(Object.assign({},n),{id:aa(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:i,user:c});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];u.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:aa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function ek(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=t0(e,["challenge","allowCredentials"]),o=aa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];i.allowCredentials[c]=Object.assign(Object.assign({},u),{id:aa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function tk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ro(new Uint8Array(e.response.attestationObject)),clientDataJSON:ro(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ro(new Uint8Array(o.authenticatorData)),clientDataJSON:ro(new Uint8Array(o.clientDataJSON)),signature:ro(new Uint8Array(o.signature)),userHandle:o.userHandle?ro(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qv(){var e,t;return!!(Dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function rk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",t)}:{data:null,error:new vc("Empty credential response",t)}}catch(t){return{data:null,error:KC({error:t,options:e})}}}async function sk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vc("Browser returned unexpected credential type",t)}:{data:null,error:new vc("Empty credential response",t)}}catch(t){return{data:null,error:QC({error:t,options:e})}}}const ok={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ak={userVerification:"preferred",hints:["security-key"]};function yc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of e)if(o)for(const i in o){const c=o[i];if(c!==void 0)if(Array.isArray(c))r[i]=c;else if(n(c))r[i]=c;else if(t(c)){const u=r[i];t(u)?r[i]=yc(u,c):r[i]=yc(c)}else r[i]=c}return r}function ik(e,t){return yc(ok,e,t||{})}function lk(e,t){return yc(ak,e,t||{})}class ck{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:u};const h=o??XC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=ik(c.webauthn.credential_options.publicKey,i?.create),{data:f,error:m}=await rk({publicKey:p,signal:h});return f?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const p=lk(c.webauthn.credential_options.publicKey,i?.request),{data:f,error:m}=await sk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return f?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new no("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!n)return{data:null,error:new xi("rpId is required for WebAuthn authentication")};try{if(!qv())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:u};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:r,credential_response:h.credential_response}})}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new no("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!n)return{data:null,error:new xi("rpId is required for WebAuthn registration")};try{if(!qv())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:u};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return Ke(c)?{data:null,error:c}:{data:null,error:new no("Unexpected error in register",c)}}}}VC();const uk={url:oC,storageKey:aC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gv(e,t,n){return await n()}const Xo={};class wi{get jwks(){var t,n;return(n=(t=Xo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wi.nextInstanceID,wi.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},uk),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Xx(o.fetch),this.lock=o.lock||Gv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Dn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=HC:this.lock=Gv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ck(this)},this.persistSession?(o.storage?this.storage=o.storage:Jx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=bC(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hC(i)){const h=(t=i.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new no("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:nr}),{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,o;try{let i;if("email"in t){const{email:f,password:m,options:v}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Ko(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:f,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:w},xform:nr})}else if("phone"in t){const{phone:f,password:m,options:v}=t;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:nr})}else throw new Kl("You must provide either an email or phone number and a password");const{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:c,options:u}=t;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Wv})}else if("phone"in t){const{phone:i,password:c,options:u}=t;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Wv})}else throw new Kl("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,o,i,c,u,h,p,f,m,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:N,statement:C,options:j}=t;let k;if(Dn())if(typeof N=="object")k=N;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")k=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const R=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),F=await k.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=e0(F[0]);let B=(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const I=await k.request({method:"eth_chainId"});B=qC(I)}const E={domain:R.host,address:T,statement:C,uri:R.href,version:"1",chainId:B,nonce:(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=j?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=YC(E),w=await k.request({method:"personal_sign",params:[GC(y),T]})}try{const{data:_,error:N}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:nr});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Yo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(Ke(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,r,o,i,c,u,h,p,f,m,v,y;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:N,wallet:C,statement:j,options:k}=t;let R;if(Dn())if(typeof C=="object")R=C;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))R=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const F=new URL((n=k?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const T=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),j?{statement:j}:null));let B;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")B=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)B=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)w=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),_=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${F.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(r=k?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=k?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(f=k?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const T=await R.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=T}}try{const{data:N,error:C}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ro(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:nr});if(C)throw C;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Yo}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:C})}catch(N){if(Ke(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await Xs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:c}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:nr});if(await ys(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:c})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:i,nonce:c}=t,u=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:nr}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Yo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,i,c;try{if("email"in t){const{email:u,options:h}=t;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Ko(this.storage,this.storageKey));const{error:m}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(r=h?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:f},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:u,options:h}=t,{data:p,error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:f}}throw new Kl("You must provide either an email or phone number.")}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:nr});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let i=null,c=null;return this.flowType==="pkce"&&([i,c]=await Ko(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:LC})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ws;const{error:o}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:c}=await it(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:c,error:u}=await it(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Kl("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<nf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Xs(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=of()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,p,f)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,f))})}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_s}):await this._useSession(async n=>{var r,o,i;const{data:c,error:u}=n;if(u)throw u;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ws}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:_s})})}catch(n){if(Ke(n))return fC(n)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new ws;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&t.email!=null&&([u,h]=await Ko(this.storage,this.storageKey));const{data:p,error:f}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:_s});if(f)throw f;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ws;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:c}=sf(t.access_token);if(c.exp&&(r=c.exp,o=r<=n),o){const{data:u,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:h}=await this._getUser(t.access_token);if(h)throw h;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:u}=n;if(u)throw u;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ws;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Dn())throw new Ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mv("No code detected.");const{data:j,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:c,expires_in:u,expires_at:h,token_type:p}=t;if(!i||!u||!c||!p)throw new Ql("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(u);let v=f+m;h&&(v=parseInt(h));const y=v-f;y*1e3<=ra&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const w=v-m;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,f);const{data:_,error:N}=await this._getUser(i);if(N)throw N;const C={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:m,expires_at:v,refresh_token:c,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(dC(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=wC(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ko(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var c,u,h,p,f;const{data:m,error:v}=i;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return Dn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:i}}=n;if(o)throw o;const{options:c,provider:u,token:h,access_token:p,nonce:f}=t,m=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:h,access_token:p,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nr}),{data:v,error:y}=m;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Yo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:y})}catch(o){if(Ke(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:c}=n;if(c)throw c;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await SC(async o=>(o>0&&await NC(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(o,i)=>{const c=200*Math.pow(2,o);return i&&rf(i)&&Date.now()+c-r<ra})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Xs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await sa(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:of()}else if(o&&!o.user&&!o.user){const c=await Xs(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await ys(this.storage,this.storageKey+"-user"),await sa(this.storage,this.storageKey,o)):o.user=of()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nf;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${nf}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),rf(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(o.access_token);!u&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bc;const{data:i,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!i.session)throw new ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(o,"error",i),Ke(i)){const c={data:null,error:i};return rf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(h){i.push(h)}});if(await Promise.all(c),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await sa(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const i=Uv(o);await sa(this.storage,this.storageKey,i)}else{const o=Uv(n);await sa(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ra);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/ra);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ra}ms, refresh threshold is ${Xf} ticks`),o<=Xf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,c]=await Ko(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:p}=await it(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tk(t.webauthn.credential_response):nk(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:h}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const c=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ZC(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ek(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=sf(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+cC>o)return r;const{data:i,error:c}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,r=i.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:o,payload:i,signature:c,raw:{header:u,payload:h}}=sf(r);n?.allowExpired||AC(i.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:o,signature:c},error:null}}const f=TC(o.alg),m=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,c,yC(`${u}.${h}`)))throw new th("Invalid JWT signature");return{data:{claims:i,header:o,signature:c},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}wi.nextInstanceID=0;const dk=wi;class fk extends dk{constructor(t){super(t)}}var hk=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function u(f){try{p(r.next(f))}catch(m){c(m)}}function h(f){try{p(r.throw(f))}catch(m){c(m)}}function p(f){f.done?i(f.value):o(f.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class mk{constructor(t,n,r){var o,i,c;this.supabaseUrl=t,this.supabaseKey=n;const u=sC(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:Yj,realtime:Qj,auth:Object.assign(Object.assign({},Kj),{storageKey:h}),global:Gj},f=rC(r??{},p);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=f.auth)!==null&&c!==void 0?c:{},this.headers,f.global.fetch),this.fetch=eC(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new uj(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Hj(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ej(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return hk(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:c,flowType:u,lock:h,debug:p},f,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fk({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:c,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:u,lock:h,debug:p,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new kj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pk=(e,t,n)=>new mk(e,t,n);function gk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vk="https://czdzjdujojcjluqcdchq.supabase.co",yk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6ZHpqZHVqb2pjamx1cWNkY2hxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjM2MjksImV4cCI6MjA3NDM5OTYyOX0.kS7ZOxQgPvXW7b1mU3OKcAhsnTVBqWqdDXXvUUxxB2M",Ce=pk(vk,yk);function xk(e,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(e)}function r0(e,t){return new Promise((function(n,r){let o;return wk(e).then((function(i){try{return o=i,n(new Blob([t.slice(0,2),o,t.slice(2)],{type:"image/jpeg"}))}catch(c){return r(c)}}),r)}))}const wk=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:o}})=>{const i=new DataView(o);let c=0;if(i.getUint16(c)!==65496)return n("not a valid JPEG");for(c+=2;;){const u=i.getUint16(c);if(u===65498)break;const h=i.getUint16(c+2);if(u===65505&&i.getUint32(c+4)===1165519206){const p=c+10;let f;switch(i.getUint16(p)){case 18761:f=!0;break;case 19789:f=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(p+2,f)!==42)return n("TIFF header contains invalid version");const m=i.getUint32(p+4,f),v=p+m+2+12*i.getUint16(p+m,f);for(let y=p+m+2;y<v;y+=12)if(i.getUint16(y,f)==274){if(i.getUint16(y+2,f)!==3)return n("Orientation data type is invalid");if(i.getUint32(y+4,f)!==1)return n("Orientation data count is invalid");i.setUint16(y+8,1,f);break}return t(o.slice(c,c+2+h))}c+=2+h}return t(new Blob)})),r.readAsArrayBuffer(e)}));var xc={},bk={get exports(){return xc},set exports(e){xc=e}};(function(e){var t,n,r={};bk.exports=r,r.parse=function(o,i){for(var c=r.bin.readUshort,u=r.bin.readUint,h=0,p={},f=new Uint8Array(o),m=f.length-4;u(f,m)!=101010256;)m--;h=m,h+=4;var v=c(f,h+=4);c(f,h+=2);var y=u(f,h+=2),w=u(f,h+=4);h+=4,h=w;for(var _=0;_<v;_++){u(f,h),h+=4,h+=4,h+=4,u(f,h+=4),y=u(f,h+=4);var N=u(f,h+=4),C=c(f,h+=4),j=c(f,h+2),k=c(f,h+4);h+=6;var R=u(f,h+=8);h+=4,h+=C+j+k,r._readLocal(f,R,p,y,N,i)}return p},r._readLocal=function(o,i,c,u,h,p){var f=r.bin.readUshort,m=r.bin.readUint;m(o,i),f(o,i+=4),f(o,i+=2);var v=f(o,i+=2);m(o,i+=2),m(o,i+=4),i+=4;var y=f(o,i+=8),w=f(o,i+=2);i+=2;var _=r.bin.readUTF8(o,i,y);if(i+=y,i+=w,p)c[_]={size:h,csize:u};else{var N=new Uint8Array(o.buffer,i);if(v==0)c[_]=new Uint8Array(N.buffer.slice(i,i+u));else{if(v!=8)throw"unknown compression method: "+v;var C=new Uint8Array(h);r.inflateRaw(N,C),c[_]=C}}},r.inflateRaw=function(o,i){return r.F.inflate(o,i)},r.inflate=function(o,i){return o[0],o[1],r.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),i)},r.deflate=function(o,i){i==null&&(i={level:6});var c=0,u=new Uint8Array(50+Math.floor(1.1*o.length));u[c]=120,u[c+1]=156,c+=2,c=r.F.deflateRaw(o,u,c,i.level);var h=r.adler(o,0,o.length);return u[c+0]=h>>>24&255,u[c+1]=h>>>16&255,u[c+2]=h>>>8&255,u[c+3]=h>>>0&255,new Uint8Array(u.buffer,0,c+4)},r.deflateRaw=function(o,i){i==null&&(i={level:6});var c=new Uint8Array(50+Math.floor(1.1*o.length)),u=r.F.deflateRaw(o,c,u,i.level);return new Uint8Array(c.buffer,0,u)},r.encode=function(o,i){i==null&&(i=!1);var c=0,u=r.bin.writeUint,h=r.bin.writeUshort,p={};for(var f in o){var m=!r._noNeed(f)&&!i,v=o[f],y=r.crc.crc(v,0,v.length);p[f]={cpr:m,usize:v.length,crc:y,file:m?r.deflateRaw(v):v}}for(var f in p)c+=p[f].file.length+30+46+2*r.bin.sizeUTF8(f);c+=22;var w=new Uint8Array(c),_=0,N=[];for(var f in p){var C=p[f];N.push(_),_=r._writeHeader(w,_,f,C,0)}var j=0,k=_;for(var f in p)C=p[f],N.push(_),_=r._writeHeader(w,_,f,C,1,N[j++]);var R=_-k;return u(w,_,101010256),_+=4,h(w,_+=4,j),h(w,_+=2,j),u(w,_+=2,R),u(w,_+=4,k),_+=4,_+=2,w.buffer},r._noNeed=function(o){var i=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(o,i,c,u,h,p){var f=r.bin.writeUint,m=r.bin.writeUshort,v=u.file;return f(o,i,h==0?67324752:33639248),i+=4,h==1&&(i+=2),m(o,i,20),m(o,i+=2,0),m(o,i+=2,u.cpr?8:0),f(o,i+=2,0),f(o,i+=4,u.crc),f(o,i+=4,v.length),f(o,i+=4,u.usize),m(o,i+=4,r.bin.sizeUTF8(c)),m(o,i+=2,0),i+=2,h==1&&(i+=2,i+=2,f(o,i+=6,p),i+=4),i+=r.bin.writeUTF8(o,i,c),h==0&&(o.set(v,i),i+=v.length),i},r.crc={table:(function(){for(var o=new Uint32Array(256),i=0;i<256;i++){for(var c=i,u=0;u<8;u++)1&c?c=3988292384^c>>>1:c>>>=1;o[i]=c}return o})(),update:function(o,i,c,u){for(var h=0;h<u;h++)o=r.crc.table[255&(o^i[c+h])]^o>>>8;return o},crc:function(o,i,c){return 4294967295^r.crc.update(4294967295,o,i,c)}},r.adler=function(o,i,c){for(var u=1,h=0,p=i,f=i+c;p<f;){for(var m=Math.min(p+5552,f);p<m;)h+=u+=o[p++];u%=65521,h%=65521}return h<<16|u},r.bin={readUshort:function(o,i){return o[i]|o[i+1]<<8},writeUshort:function(o,i,c){o[i]=255&c,o[i+1]=c>>8&255},readUint:function(o,i){return 16777216*o[i+3]+(o[i+2]<<16|o[i+1]<<8|o[i])},writeUint:function(o,i,c){o[i]=255&c,o[i+1]=c>>8&255,o[i+2]=c>>16&255,o[i+3]=c>>24&255},readASCII:function(o,i,c){for(var u="",h=0;h<c;h++)u+=String.fromCharCode(o[i+h]);return u},writeASCII:function(o,i,c){for(var u=0;u<c.length;u++)o[i+u]=c.charCodeAt(u)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,i,c){for(var u,h="",p=0;p<c;p++)h+="%"+r.bin.pad(o[i+p].toString(16));try{u=decodeURIComponent(h)}catch{return r.bin.readASCII(o,i,c)}return u},writeUTF8:function(o,i,c){for(var u=c.length,h=0,p=0;p<u;p++){var f=c.charCodeAt(p);if((4294967168&f)==0)o[i+h]=f,h++;else if((4294965248&f)==0)o[i+h]=192|f>>6,o[i+h+1]=128|f>>0&63,h+=2;else if((4294901760&f)==0)o[i+h]=224|f>>12,o[i+h+1]=128|f>>6&63,o[i+h+2]=128|f>>0&63,h+=3;else{if((4292870144&f)!=0)throw"e";o[i+h]=240|f>>18,o[i+h+1]=128|f>>12&63,o[i+h+2]=128|f>>6&63,o[i+h+3]=128|f>>0&63,h+=4}}return h},sizeUTF8:function(o){for(var i=o.length,c=0,u=0;u<i;u++){var h=o.charCodeAt(u);if((4294967168&h)==0)c++;else if((4294965248&h)==0)c+=2;else if((4294901760&h)==0)c+=3;else{if((4292870144&h)!=0)throw"e";c+=4}}return c}},r.F={},r.F.deflateRaw=function(o,i,c,u){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],p=r.F.U,f=r.F._goodIndex;r.F._hash;var m=r.F._putsE,v=0,y=c<<3,w=0,_=o.length;if(u==0){for(;v<_;)m(i,y,v+(H=Math.min(65535,_-v))==_?1:0),y=r.F._copyExact(o,v,H,i,y+8),v+=H;return y>>>3}var N=p.lits,C=p.strt,j=p.prev,k=0,R=0,F=0,T=0,B=0,E=0;for(_>2&&(C[E=r.F._hash(o,0)]=0),v=0;v<_;v++){if(B=E,v+1<_-2){E=r.F._hash(o,v+1);var I=v+1&32767;j[I]=C[E],C[E]=I}if(w<=v){(k>14e3||R>26697)&&_-v>100&&(w<v&&(N[k]=v-w,k+=2,w=v),y=r.F._writeBlock(v==_-1||w==_?1:0,N,k,T,o,F,v-F,i,y),k=R=T=0,F=v);var $=0;v<_-2&&($=r.F._bestMatch(o,v,j,B,Math.min(h[2],_-v),h[3]));var H=$>>>16,V=65535&$;if($!=0){V=65535&$;var K=f(H=$>>>16,p.of0);p.lhst[257+K]++;var W=f(V,p.df0);p.dhst[W]++,T+=p.exb[K]+p.dxb[W],N[k]=H<<23|v-w,N[k+1]=V<<16|K<<8|W,k+=2,w=v+H}else p.lhst[o[v]]++;R++}}for(F==v&&o.length!=0||(w<v&&(N[k]=v-w,k+=2,w=v),y=r.F._writeBlock(1,N,k,T,o,F,v-F,i,y),k=0,R=0,k=R=T=0,F=v);(7&y)!=0;)y++;return y>>>3},r.F._bestMatch=function(o,i,c,u,h,p){var f=32767&i,m=c[f],v=f-m+32768&32767;if(m==f||u!=r.F._hash(o,i-v))return 0;for(var y=0,w=0,_=Math.min(32767,i);v<=_&&--p!=0&&m!=f;){if(y==0||o[i+y]==o[i+y-v]){var N=r.F._howLong(o,i,v);if(N>y){if(w=v,(y=N)>=h)break;v+2<N&&(N=v+2);for(var C=0,j=0;j<N-2;j++){var k=i-v+j+32768&32767,R=k-c[k]+32768&32767;R>C&&(C=R,m=k)}}}v+=(f=m)-(m=c[f])+32768&32767}return y<<16|w},r.F._howLong=function(o,i,c){if(o[i]!=o[i-c]||o[i+1]!=o[i+1-c]||o[i+2]!=o[i+2-c])return 0;var u=i,h=Math.min(o.length,i+258);for(i+=3;i<h&&o[i]==o[i-c];)i++;return i-u},r.F._hash=function(o,i){return(o[i]<<8|o[i+1])+(o[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(o,i,c,u,h,p,f,m,v){var y,w,_,N,C,j,k,R,F,T=r.F.U,B=r.F._putsF,E=r.F._putsE;T.lhst[256]++,w=(y=r.F.getTrees())[0],_=y[1],N=y[2],C=y[3],j=y[4],k=y[5],R=y[6],F=y[7];var I=32+((v+3&7)==0?0:8-(v+3&7))+(f<<3),$=u+r.F.contSize(T.fltree,T.lhst)+r.F.contSize(T.fdtree,T.dhst),H=u+r.F.contSize(T.ltree,T.lhst)+r.F.contSize(T.dtree,T.dhst);H+=14+3*k+r.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var V=0;V<286;V++)T.lhst[V]=0;for(V=0;V<30;V++)T.dhst[V]=0;for(V=0;V<19;V++)T.ihst[V]=0;var K=I<$&&I<H?0:$<H?1:2;if(B(m,v,o),B(m,v+1,K),v+=3,K==0){for(;(7&v)!=0;)v++;v=r.F._copyExact(h,p,f,m,v)}else{var W,Q;if(K==1&&(W=T.fltree,Q=T.fdtree),K==2){r.F.makeCodes(T.ltree,w),r.F.revCodes(T.ltree,w),r.F.makeCodes(T.dtree,_),r.F.revCodes(T.dtree,_),r.F.makeCodes(T.itree,N),r.F.revCodes(T.itree,N),W=T.ltree,Q=T.dtree,E(m,v,C-257),E(m,v+=5,j-1),E(m,v+=5,k-4),v+=4;for(var A=0;A<k;A++)E(m,v+3*A,T.itree[1+(T.ordr[A]<<1)]);v+=3*k,v=r.F._codeTiny(R,T.itree,m,v),v=r.F._codeTiny(F,T.itree,m,v)}for(var P=p,D=0;D<c;D+=2){for(var z=i[D],L=z>>>23,M=P+(8388607&z);P<M;)v=r.F._writeLit(h[P++],W,m,v);if(L!=0){var U=i[D+1],te=U>>16,J=U>>8&255,ee=255&U;E(m,v=r.F._writeLit(257+J,W,m,v),L-T.of0[J]),v+=T.exb[J],B(m,v=r.F._writeLit(ee,Q,m,v),te-T.df0[ee]),v+=T.dxb[ee],P+=L}}v=r.F._writeLit(256,W,m,v)}return v},r.F._copyExact=function(o,i,c,u,h){var p=h>>>3;return u[p]=c,u[p+1]=c>>>8,u[p+2]=255-u[p],u[p+3]=255-u[p+1],p+=4,u.set(new Uint8Array(o.buffer,i,c),p),h+(c+4<<3)},r.F.getTrees=function(){for(var o=r.F.U,i=r.F._hufTree(o.lhst,o.ltree,15),c=r.F._hufTree(o.dhst,o.dtree,15),u=[],h=r.F._lenCodes(o.ltree,u),p=[],f=r.F._lenCodes(o.dtree,p),m=0;m<u.length;m+=2)o.ihst[u[m]]++;for(m=0;m<p.length;m+=2)o.ihst[p[m]]++;for(var v=r.F._hufTree(o.ihst,o.itree,7),y=19;y>4&&o.itree[1+(o.ordr[y-1]<<1)]==0;)y--;return[i,c,v,h,f,y,u,p]},r.F.getSecond=function(o){for(var i=[],c=0;c<o.length;c+=2)i.push(o[c+1]);return i},r.F.nonZero=function(o){for(var i="",c=0;c<o.length;c+=2)o[c+1]!=0&&(i+=(c>>1)+",");return i},r.F.contSize=function(o,i){for(var c=0,u=0;u<i.length;u++)c+=i[u]*o[1+(u<<1)];return c},r.F._codeTiny=function(o,i,c,u){for(var h=0;h<o.length;h+=2){var p=o[h],f=o[h+1];u=r.F._writeLit(p,i,c,u);var m=p==16?2:p==17?3:7;p>15&&(r.F._putsE(c,u,f,m),u+=m)}return u},r.F._lenCodes=function(o,i){for(var c=o.length;c!=2&&o[c-1]==0;)c-=2;for(var u=0;u<c;u+=2){var h=o[u+1],p=u+3<c?o[u+3]:-1,f=u+5<c?o[u+5]:-1,m=u==0?-1:o[u-1];if(h==0&&p==h&&f==h){for(var v=u+5;v+2<c&&o[v+2]==h;)v+=2;(y=Math.min(v+1-u>>>1,138))<11?i.push(17,y-3):i.push(18,y-11),u+=2*y-2}else if(h==m&&p==h&&f==h){for(v=u+5;v+2<c&&o[v+2]==h;)v+=2;var y=Math.min(v+1-u>>>1,6);i.push(16,y-3),u+=2*y-2}else i.push(h,0)}return c>>>1},r.F._hufTree=function(o,i,c){var u=[],h=o.length,p=i.length,f=0;for(f=0;f<p;f+=2)i[f]=0,i[f+1]=0;for(f=0;f<h;f++)o[f]!=0&&u.push({lit:f,f:o[f]});var m=u.length,v=u.slice(0);if(m==0)return 0;if(m==1){var y=u[0].lit;return v=y==0?1:0,i[1+(y<<1)]=1,i[1+(v<<1)]=1,1}u.sort((function(R,F){return R.f-F.f}));var w=u[0],_=u[1],N=0,C=1,j=2;for(u[0]={lit:-1,f:w.f+_.f,l:w,r:_,d:0};C!=m-1;)w=N!=C&&(j==m||u[N].f<u[j].f)?u[N++]:u[j++],_=N!=C&&(j==m||u[N].f<u[j].f)?u[N++]:u[j++],u[C++]={lit:-1,f:w.f+_.f,l:w,r:_};var k=r.F.setDepth(u[C-1],0);for(k>c&&(r.F.restrictDepth(v,c,k),k=c),f=0;f<m;f++)i[1+(v[f].lit<<1)]=v[f].d;return k},r.F.setDepth=function(o,i){return o.lit!=-1?(o.d=i,i):Math.max(r.F.setDepth(o.l,i+1),r.F.setDepth(o.r,i+1))},r.F.restrictDepth=function(o,i,c){var u=0,h=1<<c-i,p=0;for(o.sort((function(m,v){return v.d==m.d?m.f-v.f:v.d-m.d})),u=0;u<o.length&&o[u].d>i;u++){var f=o[u].d;o[u].d=i,p+=h-(1<<c-f)}for(p>>>=c-i;p>0;)(f=o[u].d)<i?(o[u].d++,p-=1<<i-f-1):u++;for(;u>=0;u--)o[u].d==i&&p<0&&(o[u].d--,p++);p!=0&&console.log("debt left")},r.F._goodIndex=function(o,i){var c=0;return i[16|c]<=o&&(c|=16),i[8|c]<=o&&(c|=8),i[4|c]<=o&&(c|=4),i[2|c]<=o&&(c|=2),i[1|c]<=o&&(c|=1),c},r.F._writeLit=function(o,i,c,u){return r.F._putsF(c,u,i[o<<1]),u+i[1+(o<<1)]},r.F.inflate=function(o,i){var c=Uint8Array;if(o[0]==3&&o[1]==0)return i||new c(0);var u=r.F,h=u._bitsF,p=u._bitsE,f=u._decodeTiny,m=u.makeCodes,v=u.codes2map,y=u._get17,w=u.U,_=i==null;_&&(i=new c(o.length>>>2<<3));for(var N,C,j=0,k=0,R=0,F=0,T=0,B=0,E=0,I=0,$=0;j==0;)if(j=h(o,$,1),k=h(o,$+1,2),$+=3,k!=0){if(_&&(i=r.F._check(i,I+(1<<17))),k==1&&(N=w.flmap,C=w.fdmap,B=511,E=31),k==2){R=p(o,$,5)+257,F=p(o,$+5,5)+1,T=p(o,$+10,4)+4,$+=14;for(var H=0;H<38;H+=2)w.itree[H]=0,w.itree[H+1]=0;var V=1;for(H=0;H<T;H++){var K=p(o,$+3*H,3);w.itree[1+(w.ordr[H]<<1)]=K,K>V&&(V=K)}$+=3*T,m(w.itree,V),v(w.itree,V,w.imap),N=w.lmap,C=w.dmap,$=f(w.imap,(1<<V)-1,R+F,o,$,w.ttree);var W=u._copyOut(w.ttree,0,R,w.ltree);B=(1<<W)-1;var Q=u._copyOut(w.ttree,R,F,w.dtree);E=(1<<Q)-1,m(w.ltree,W),v(w.ltree,W,N),m(w.dtree,Q),v(w.dtree,Q,C)}for(;;){var A=N[y(o,$)&B];$+=15&A;var P=A>>>4;if(!(P>>>8))i[I++]=P;else{if(P==256)break;var D=I+P-254;if(P>264){var z=w.ldef[P-257];D=I+(z>>>3)+p(o,$,7&z),$+=7&z}var L=C[y(o,$)&E];$+=15&L;var M=L>>>4,U=w.ddef[M],te=(U>>>4)+h(o,$,15&U);for($+=15&U,_&&(i=r.F._check(i,I+(1<<17)));I<D;)i[I]=i[I++-te],i[I]=i[I++-te],i[I]=i[I++-te],i[I]=i[I++-te];I=D}}}else{(7&$)!=0&&($+=8-(7&$));var J=4+($>>>3),ee=o[J-4]|o[J-3]<<8;_&&(i=r.F._check(i,I+ee)),i.set(new c(o.buffer,o.byteOffset+J,ee),I),$=J+ee<<3,I+=ee}return i.length==I?i:i.slice(0,I)},r.F._check=function(o,i){var c=o.length;if(i<=c)return o;var u=new Uint8Array(Math.max(c<<1,i));return u.set(o,0),u},r.F._decodeTiny=function(o,i,c,u,h,p){for(var f=r.F._bitsE,m=r.F._get17,v=0;v<c;){var y=o[m(u,h)&i];h+=15&y;var w=y>>>4;if(w<=15)p[v]=w,v++;else{var _=0,N=0;w==16?(N=3+f(u,h,2),h+=2,_=p[v-1]):w==17?(N=3+f(u,h,3),h+=3):w==18&&(N=11+f(u,h,7),h+=7);for(var C=v+N;v<C;)p[v]=_,v++}}return h},r.F._copyOut=function(o,i,c,u){for(var h=0,p=0,f=u.length>>>1;p<c;){var m=o[p+i];u[p<<1]=0,u[1+(p<<1)]=m,m>h&&(h=m),p++}for(;p<f;)u[p<<1]=0,u[1+(p<<1)]=0,p++;return h},r.F.makeCodes=function(o,i){for(var c,u,h,p,f=r.F.U,m=o.length,v=f.bl_count,y=0;y<=i;y++)v[y]=0;for(y=1;y<m;y+=2)v[o[y]]++;var w=f.next_code;for(c=0,v[0]=0,u=1;u<=i;u++)c=c+v[u-1]<<1,w[u]=c;for(h=0;h<m;h+=2)(p=o[h+1])!=0&&(o[h]=w[p],w[p]++)},r.F.codes2map=function(o,i,c){for(var u=o.length,h=r.F.U.rev15,p=0;p<u;p+=2)if(o[p+1]!=0)for(var f=p>>1,m=o[p+1],v=f<<4|m,y=i-m,w=o[p]<<y,_=w+(1<<y);w!=_;)c[h[w]>>>15-i]=v,w++},r.F.revCodes=function(o,i){for(var c=r.F.U.rev15,u=15-i,h=0;h<o.length;h+=2){var p=o[h]<<i-o[h+1];o[h]=c[p]>>>u}},r.F._putsE=function(o,i,c){c<<=7&i;var u=i>>>3;o[u]|=c,o[u+1]|=c>>>8},r.F._putsF=function(o,i,c){c<<=7&i;var u=i>>>3;o[u]|=c,o[u+1]|=c>>>8,o[u+2]|=c>>>16},r.F._bitsE=function(o,i,c){return(o[i>>>3]|o[1+(i>>>3)]<<8)>>>(7&i)&(1<<c)-1},r.F._bitsF=function(o,i,c){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)&(1<<c)-1},r.F._get17=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16|o[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var o=r.F.U,i=0;i<32768;i++){var c=i;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,o.rev15[i]=(c>>>16|c<<16)>>>17}function u(h,p,f){for(;p--!=0;)h.push(0,f)}for(i=0;i<32;i++)o.ldef[i]=o.of0[i]<<3|o.exb[i],o.ddef[i]=o.df0[i]<<4|o.dxb[i];u(o.fltree,144,8),u(o.fltree,112,9),u(o.fltree,24,7),u(o.fltree,8,8),r.F.makeCodes(o.fltree,9),r.F.codes2map(o.fltree,9,o.flmap),r.F.revCodes(o.fltree,9),u(o.fdtree,32,5),r.F.makeCodes(o.fdtree,5),r.F.codes2map(o.fdtree,5,o.fdmap),r.F.revCodes(o.fdtree,5),u(o.itree,19,0),u(o.ltree,286,0),u(o.dtree,30,0),u(o.ttree,320,0)})()})();var _k=xk({__proto__:null,default:xc},[xc]);const rr=(function(){var e={nextZero(f,m){for(;f[m]!=0;)m++;return m},readUshort:(f,m)=>f[m]<<8|f[m+1],writeUshort(f,m,v){f[m]=v>>8&255,f[m+1]=255&v},readUint:(f,m)=>16777216*f[m]+(f[m+1]<<16|f[m+2]<<8|f[m+3]),writeUint(f,m,v){f[m]=v>>24&255,f[m+1]=v>>16&255,f[m+2]=v>>8&255,f[m+3]=255&v},readASCII(f,m,v){let y="";for(let w=0;w<v;w++)y+=String.fromCharCode(f[m+w]);return y},writeASCII(f,m,v){for(let y=0;y<v.length;y++)f[m+y]=v.charCodeAt(y)},readBytes(f,m,v){const y=[];for(let w=0;w<v;w++)y.push(f[m+w]);return y},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,m,v){let y,w="";for(let _=0;_<v;_++)w+=`%${e.pad(f[m+_].toString(16))}`;try{y=decodeURIComponent(w)}catch{return e.readASCII(f,m,v)}return y}};function t(f,m,v,y){const w=m*v,_=i(y),N=Math.ceil(m*_/8),C=new Uint8Array(4*w),j=new Uint32Array(C.buffer),{ctype:k}=y,{depth:R}=y,F=e.readUshort;if(k==6){const z=w<<2;if(R==8)for(var T=0;T<z;T+=4)C[T]=f[T],C[T+1]=f[T+1],C[T+2]=f[T+2],C[T+3]=f[T+3];if(R==16)for(T=0;T<z;T++)C[T]=f[T<<1]}else if(k==2){const z=y.tabs.tRNS;if(z==null){if(R==8)for(T=0;T<w;T++){var B=3*T;j[T]=255<<24|f[B+2]<<16|f[B+1]<<8|f[B]}if(R==16)for(T=0;T<w;T++)B=6*T,j[T]=255<<24|f[B+4]<<16|f[B+2]<<8|f[B]}else{var E=z[0];const L=z[1],M=z[2];if(R==8)for(T=0;T<w;T++){var I=T<<2;B=3*T,j[T]=255<<24|f[B+2]<<16|f[B+1]<<8|f[B],f[B]==E&&f[B+1]==L&&f[B+2]==M&&(C[I+3]=0)}if(R==16)for(T=0;T<w;T++)I=T<<2,B=6*T,j[T]=255<<24|f[B+4]<<16|f[B+2]<<8|f[B],F(f,B)==E&&F(f,B+2)==L&&F(f,B+4)==M&&(C[I+3]=0)}}else if(k==3){const z=y.tabs.PLTE,L=y.tabs.tRNS,M=L?L.length:0;if(R==1)for(var $=0;$<v;$++){var H=$*N,V=$*m;for(T=0;T<m;T++){I=V+T<<2;var K=3*(W=f[H+(T>>3)]>>7-((7&T)<<0)&1);C[I]=z[K],C[I+1]=z[K+1],C[I+2]=z[K+2],C[I+3]=W<M?L[W]:255}}if(R==2)for($=0;$<v;$++)for(H=$*N,V=$*m,T=0;T<m;T++)I=V+T<<2,K=3*(W=f[H+(T>>2)]>>6-((3&T)<<1)&3),C[I]=z[K],C[I+1]=z[K+1],C[I+2]=z[K+2],C[I+3]=W<M?L[W]:255;if(R==4)for($=0;$<v;$++)for(H=$*N,V=$*m,T=0;T<m;T++)I=V+T<<2,K=3*(W=f[H+(T>>1)]>>4-((1&T)<<2)&15),C[I]=z[K],C[I+1]=z[K+1],C[I+2]=z[K+2],C[I+3]=W<M?L[W]:255;if(R==8)for(T=0;T<w;T++){var W;I=T<<2,K=3*(W=f[T]),C[I]=z[K],C[I+1]=z[K+1],C[I+2]=z[K+2],C[I+3]=W<M?L[W]:255}}else if(k==4){if(R==8)for(T=0;T<w;T++){I=T<<2;var Q=f[A=T<<1];C[I]=Q,C[I+1]=Q,C[I+2]=Q,C[I+3]=f[A+1]}if(R==16)for(T=0;T<w;T++){var A;I=T<<2,Q=f[A=T<<2],C[I]=Q,C[I+1]=Q,C[I+2]=Q,C[I+3]=f[A+2]}}else if(k==0)for(E=y.tabs.tRNS?y.tabs.tRNS:-1,$=0;$<v;$++){const z=$*N,L=$*m;if(R==1)for(var P=0;P<m;P++){var D=(Q=255*(f[z+(P>>>3)]>>>7-(7&P)&1))==255*E?0:255;j[L+P]=D<<24|Q<<16|Q<<8|Q}else if(R==2)for(P=0;P<m;P++)D=(Q=85*(f[z+(P>>>2)]>>>6-((3&P)<<1)&3))==85*E?0:255,j[L+P]=D<<24|Q<<16|Q<<8|Q;else if(R==4)for(P=0;P<m;P++)D=(Q=17*(f[z+(P>>>1)]>>>4-((1&P)<<2)&15))==17*E?0:255,j[L+P]=D<<24|Q<<16|Q<<8|Q;else if(R==8)for(P=0;P<m;P++)D=(Q=f[z+P])==E?0:255,j[L+P]=D<<24|Q<<16|Q<<8|Q;else if(R==16)for(P=0;P<m;P++)Q=f[z+(P<<1)],D=F(f,z+(P<<1))==E?0:255,j[L+P]=D<<24|Q<<16|Q<<8|Q}return C}function n(f,m,v,y){const w=i(f),_=Math.ceil(v*w/8),N=new Uint8Array((_+1+f.interlace)*y);return m=f.tabs.CgBI?o(m,N):r(m,N),f.interlace==0?m=c(m,f,0,v,y):f.interlace==1&&(m=(function(j,k){const R=k.width,F=k.height,T=i(k),B=T>>3,E=Math.ceil(R*T/8),I=new Uint8Array(F*E);let $=0;const H=[0,0,4,0,2,0,1],V=[0,4,0,2,0,1,0],K=[8,8,8,4,4,2,2],W=[8,8,4,4,2,2,1];let Q=0;for(;Q<7;){const P=K[Q],D=W[Q];let z=0,L=0,M=H[Q];for(;M<F;)M+=P,L++;let U=V[Q];for(;U<R;)U+=D,z++;const te=Math.ceil(z*T/8);c(j,k,$,z,L);let J=0,ee=H[Q];for(;ee<F;){let le=V[Q],X=$+J*te<<3;for(;le<R;){var A;if(T==1&&(A=(A=j[X>>3])>>7-(7&X)&1,I[ee*E+(le>>3)]|=A<<7-((7&le)<<0)),T==2&&(A=(A=j[X>>3])>>6-(7&X)&3,I[ee*E+(le>>2)]|=A<<6-((3&le)<<1)),T==4&&(A=(A=j[X>>3])>>4-(7&X)&15,I[ee*E+(le>>1)]|=A<<4-((1&le)<<2)),T>=8){const ae=ee*E+le*B;for(let de=0;de<B;de++)I[ae+de]=j[(X>>3)+de]}X+=T,le+=D}J++,ee+=P}z*L!=0&&($+=L*(1+te)),Q+=1}return I})(m,f)),m}function r(f,m){return o(new Uint8Array(f.buffer,2,f.length-6),m)}var o=(function(){const f={H:{}};return f.H.N=function(m,v){const y=Uint8Array;let w,_,N=0,C=0,j=0,k=0,R=0,F=0,T=0,B=0,E=0;if(m[0]==3&&m[1]==0)return v||new y(0);const I=f.H,$=I.b,H=I.e,V=I.R,K=I.n,W=I.A,Q=I.Z,A=I.m,P=v==null;for(P&&(v=new y(m.length>>>2<<5));N==0;)if(N=$(m,E,1),C=$(m,E+1,2),E+=3,C!=0){if(P&&(v=f.H.W(v,B+(1<<17))),C==1&&(w=A.J,_=A.h,F=511,T=31),C==2){j=H(m,E,5)+257,k=H(m,E+5,5)+1,R=H(m,E+10,4)+4,E+=14;let z=1;for(var D=0;D<38;D+=2)A.Q[D]=0,A.Q[D+1]=0;for(D=0;D<R;D++){const U=H(m,E+3*D,3);A.Q[1+(A.X[D]<<1)]=U,U>z&&(z=U)}E+=3*R,K(A.Q,z),W(A.Q,z,A.u),w=A.w,_=A.d,E=V(A.u,(1<<z)-1,j+k,m,E,A.v);const L=I.V(A.v,0,j,A.C);F=(1<<L)-1;const M=I.V(A.v,j,k,A.D);T=(1<<M)-1,K(A.C,L),W(A.C,L,w),K(A.D,M),W(A.D,M,_)}for(;;){const z=w[Q(m,E)&F];E+=15&z;const L=z>>>4;if(!(L>>>8))v[B++]=L;else{if(L==256)break;{let M=B+L-254;if(L>264){const le=A.q[L-257];M=B+(le>>>3)+H(m,E,7&le),E+=7&le}const U=_[Q(m,E)&T];E+=15&U;const te=U>>>4,J=A.c[te],ee=(J>>>4)+$(m,E,15&J);for(E+=15&J;B<M;)v[B]=v[B++-ee],v[B]=v[B++-ee],v[B]=v[B++-ee],v[B]=v[B++-ee];B=M}}}}else{(7&E)!=0&&(E+=8-(7&E));const z=4+(E>>>3),L=m[z-4]|m[z-3]<<8;P&&(v=f.H.W(v,B+L)),v.set(new y(m.buffer,m.byteOffset+z,L),B),E=z+L<<3,B+=L}return v.length==B?v:v.slice(0,B)},f.H.W=function(m,v){const y=m.length;if(v<=y)return m;const w=new Uint8Array(y<<1);return w.set(m,0),w},f.H.R=function(m,v,y,w,_,N){const C=f.H.e,j=f.H.Z;let k=0;for(;k<y;){const R=m[j(w,_)&v];_+=15&R;const F=R>>>4;if(F<=15)N[k]=F,k++;else{let T=0,B=0;F==16?(B=3+C(w,_,2),_+=2,T=N[k-1]):F==17?(B=3+C(w,_,3),_+=3):F==18&&(B=11+C(w,_,7),_+=7);const E=k+B;for(;k<E;)N[k]=T,k++}}return _},f.H.V=function(m,v,y,w){let _=0,N=0;const C=w.length>>>1;for(;N<y;){const j=m[N+v];w[N<<1]=0,w[1+(N<<1)]=j,j>_&&(_=j),N++}for(;N<C;)w[N<<1]=0,w[1+(N<<1)]=0,N++;return _},f.H.n=function(m,v){const y=f.H.m,w=m.length;let _,N,C,j;const k=y.j;for(var R=0;R<=v;R++)k[R]=0;for(R=1;R<w;R+=2)k[m[R]]++;const F=y.K;for(_=0,k[0]=0,N=1;N<=v;N++)_=_+k[N-1]<<1,F[N]=_;for(C=0;C<w;C+=2)j=m[C+1],j!=0&&(m[C]=F[j],F[j]++)},f.H.A=function(m,v,y){const w=m.length,_=f.H.m.r;for(let N=0;N<w;N+=2)if(m[N+1]!=0){const C=N>>1,j=m[N+1],k=C<<4|j,R=v-j;let F=m[N]<<R;const T=F+(1<<R);for(;F!=T;)y[_[F]>>>15-v]=k,F++}},f.H.l=function(m,v){const y=f.H.m.r,w=15-v;for(let _=0;_<m.length;_+=2){const N=m[_]<<v-m[_+1];m[_]=y[N]>>>w}},f.H.M=function(m,v,y){y<<=7&v;const w=v>>>3;m[w]|=y,m[w+1]|=y>>>8},f.H.I=function(m,v,y){y<<=7&v;const w=v>>>3;m[w]|=y,m[w+1]|=y>>>8,m[w+2]|=y>>>16},f.H.e=function(m,v,y){return(m[v>>>3]|m[1+(v>>>3)]<<8)>>>(7&v)&(1<<y)-1},f.H.b=function(m,v,y){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16)>>>(7&v)&(1<<y)-1},f.H.Z=function(m,v){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16)>>>(7&v)},f.H.i=function(m,v){return(m[v>>>3]|m[1+(v>>>3)]<<8|m[2+(v>>>3)]<<16|m[3+(v>>>3)]<<24)>>>(7&v)},f.H.m=(function(){const m=Uint16Array,v=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new m(65536),g:new m(32768)}})(),(function(){const m=f.H.m;for(var v=0;v<32768;v++){let w=v;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,m.r[v]=(w>>>16|w<<16)>>>17}function y(w,_,N){for(;_--!=0;)w.push(0,N)}for(v=0;v<32;v++)m.q[v]=m.S[v]<<3|m.T[v],m.c[v]=m.p[v]<<4|m.z[v];y(m._,144,8),y(m._,112,9),y(m._,24,7),y(m._,8,8),f.H.n(m._,9),f.H.A(m._,9,m.J),f.H.l(m._,9),y(m.$,32,5),f.H.n(m.$,5),f.H.A(m.$,5,m.h),f.H.l(m.$,5),y(m.Q,19,0),y(m.C,286,0),y(m.D,30,0),y(m.v,320,0)})(),f.H.N})();function i(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function c(f,m,v,y,w){let _=i(m);const N=Math.ceil(y*_/8);let C,j;_=Math.ceil(_/8);let k=f[v],R=0;if(k>1&&(f[v]=[0,0,1][k-2]),k==3)for(R=_;R<N;R++)f[R+1]=f[R+1]+(f[R+1-_]>>>1)&255;for(let F=0;F<w;F++)if(C=v+F*N,j=C+F+1,k=f[j-1],R=0,k==0)for(;R<N;R++)f[C+R]=f[j+R];else if(k==1){for(;R<_;R++)f[C+R]=f[j+R];for(;R<N;R++)f[C+R]=f[j+R]+f[C+R-_]}else if(k==2)for(;R<N;R++)f[C+R]=f[j+R]+f[C+R-N];else if(k==3){for(;R<_;R++)f[C+R]=f[j+R]+(f[C+R-N]>>>1);for(;R<N;R++)f[C+R]=f[j+R]+(f[C+R-N]+f[C+R-_]>>>1)}else{for(;R<_;R++)f[C+R]=f[j+R]+u(0,f[C+R-N],0);for(;R<N;R++)f[C+R]=f[j+R]+u(f[C+R-_],f[C+R-N],f[C+R-_-N])}return f}function u(f,m,v){const y=f+m-v,w=y-f,_=y-m,N=y-v;return w*w<=_*_&&w*w<=N*N?f:_*_<=N*N?m:v}function h(f,m,v){v.width=e.readUint(f,m),m+=4,v.height=e.readUint(f,m),m+=4,v.depth=f[m],m++,v.ctype=f[m],m++,v.compress=f[m],m++,v.filter=f[m],m++,v.interlace=f[m],m++}function p(f,m,v,y,w,_,N,C,j){const k=Math.min(m,w),R=Math.min(v,_);let F=0,T=0;for(let Q=0;Q<R;Q++)for(let A=0;A<k;A++)if(N>=0&&C>=0?(F=Q*m+A<<2,T=(C+Q)*w+N+A<<2):(F=(-C+Q)*m-N+A<<2,T=Q*w+A<<2),j==0)y[T]=f[F],y[T+1]=f[F+1],y[T+2]=f[F+2],y[T+3]=f[F+3];else if(j==1){var B=f[F+3]*.00392156862745098,E=f[F]*B,I=f[F+1]*B,$=f[F+2]*B,H=y[T+3]*(1/255),V=y[T]*H,K=y[T+1]*H,W=y[T+2]*H;const P=1-B,D=B+H*P,z=D==0?0:1/D;y[T+3]=255*D,y[T+0]=(E+V*P)*z,y[T+1]=(I+K*P)*z,y[T+2]=($+W*P)*z}else if(j==2)B=f[F+3],E=f[F],I=f[F+1],$=f[F+2],H=y[T+3],V=y[T],K=y[T+1],W=y[T+2],B==H&&E==V&&I==K&&$==W?(y[T]=0,y[T+1]=0,y[T+2]=0,y[T+3]=0):(y[T]=E,y[T+1]=I,y[T+2]=$,y[T+3]=B);else if(j==3){if(B=f[F+3],E=f[F],I=f[F+1],$=f[F+2],H=y[T+3],V=y[T],K=y[T+1],W=y[T+2],B==H&&E==V&&I==K&&$==W)continue;if(B<220&&H>20)return!1}return!0}return{decode:function(m){const v=new Uint8Array(m);let y=8;const w=e,_=w.readUshort,N=w.readUint,C={tabs:{},frames:[]},j=new Uint8Array(v.length);let k,R=0,F=0;const T=[137,80,78,71,13,10,26,10];for(var B=0;B<8;B++)if(v[B]!=T[B])throw"The input is not a PNG file!";for(;y<v.length;){const Q=w.readUint(v,y);y+=4;const A=w.readASCII(v,y,4);if(y+=4,A=="IHDR")h(v,y,C);else if(A=="iCCP"){for(var E=y;v[E]!=0;)E++;w.readASCII(v,y,E-y),v[E+1];const P=v.slice(E+2,y+Q);let D=null;try{D=r(P)}catch{D=o(P)}C.tabs[A]=D}else if(A=="CgBI")C.tabs[A]=v.slice(y,y+4);else if(A=="IDAT"){for(B=0;B<Q;B++)j[R+B]=v[y+B];R+=Q}else if(A=="acTL")C.tabs[A]={num_frames:N(v,y),num_plays:N(v,y+4)},k=new Uint8Array(v.length);else if(A=="fcTL"){F!=0&&((W=C.frames[C.frames.length-1]).data=n(C,k.slice(0,F),W.rect.width,W.rect.height),F=0);const P={x:N(v,y+12),y:N(v,y+16),width:N(v,y+4),height:N(v,y+8)};let D=_(v,y+22);D=_(v,y+20)/(D==0?100:D);const z={rect:P,delay:Math.round(1e3*D),dispose:v[y+24],blend:v[y+25]};C.frames.push(z)}else if(A=="fdAT"){for(B=0;B<Q-4;B++)k[F+B]=v[y+B+4];F+=Q-4}else if(A=="pHYs")C.tabs[A]=[w.readUint(v,y),w.readUint(v,y+4),v[y+8]];else if(A=="cHRM")for(C.tabs[A]=[],B=0;B<8;B++)C.tabs[A].push(w.readUint(v,y+4*B));else if(A=="tEXt"||A=="zTXt"){C.tabs[A]==null&&(C.tabs[A]={});var I=w.nextZero(v,y),$=w.readASCII(v,y,I-y),H=y+Q-I-1;if(A=="tEXt")K=w.readASCII(v,I+1,H);else{var V=r(v.slice(I+2,I+2+H));K=w.readUTF8(V,0,V.length)}C.tabs[A][$]=K}else if(A=="iTXt"){C.tabs[A]==null&&(C.tabs[A]={}),I=0,E=y,I=w.nextZero(v,E),$=w.readASCII(v,E,I-E);const P=v[E=I+1];var K;v[E+1],E+=2,I=w.nextZero(v,E),w.readASCII(v,E,I-E),E=I+1,I=w.nextZero(v,E),w.readUTF8(v,E,I-E),H=Q-((E=I+1)-y),P==0?K=w.readUTF8(v,E,H):(V=r(v.slice(E,E+H)),K=w.readUTF8(V,0,V.length)),C.tabs[A][$]=K}else if(A=="PLTE")C.tabs[A]=w.readBytes(v,y,Q);else if(A=="hIST"){const P=C.tabs.PLTE.length/3;for(C.tabs[A]=[],B=0;B<P;B++)C.tabs[A].push(_(v,y+2*B))}else if(A=="tRNS")C.ctype==3?C.tabs[A]=w.readBytes(v,y,Q):C.ctype==0?C.tabs[A]=_(v,y):C.ctype==2&&(C.tabs[A]=[_(v,y),_(v,y+2),_(v,y+4)]);else if(A=="gAMA")C.tabs[A]=w.readUint(v,y)/1e5;else if(A=="sRGB")C.tabs[A]=v[y];else if(A=="bKGD")C.ctype==0||C.ctype==4?C.tabs[A]=[_(v,y)]:C.ctype==2||C.ctype==6?C.tabs[A]=[_(v,y),_(v,y+2),_(v,y+4)]:C.ctype==3&&(C.tabs[A]=v[y]);else if(A=="IEND")break;y+=Q,w.readUint(v,y),y+=4}var W;return F!=0&&((W=C.frames[C.frames.length-1]).data=n(C,k.slice(0,F),W.rect.width,W.rect.height)),C.data=n(C,j,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(m){const v=m.width,y=m.height;if(m.tabs.acTL==null)return[t(m.data,v,y,m).buffer];const w=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const _=v*y*4,N=new Uint8Array(_),C=new Uint8Array(_),j=new Uint8Array(_);for(let R=0;R<m.frames.length;R++){const F=m.frames[R],T=F.rect.x,B=F.rect.y,E=F.rect.width,I=F.rect.height,$=t(F.data,E,I,m);if(R!=0)for(var k=0;k<_;k++)j[k]=N[k];if(F.blend==0?p($,E,I,N,v,y,T,B,0):F.blend==1&&p($,E,I,N,v,y,T,B,1),w.push(N.buffer.slice(0)),F.dispose!=0){if(F.dispose==1)p(C,E,I,N,v,y,T,B,0);else if(F.dispose==2)for(k=0;k<_;k++)N[k]=j[k]}}return w},_paeth:u,_copyTile:p,_bin:e}})();(function(){const{_copyTile:e}=rr,{_bin:t}=rr,n=rr._paeth;var r={table:(function(){const E=new Uint32Array(256);for(let I=0;I<256;I++){let $=I;for(let H=0;H<8;H++)1&$?$=3988292384^$>>>1:$>>>=1;E[I]=$}return E})(),update(E,I,$,H){for(let V=0;V<H;V++)E=r.table[255&(E^I[$+V])]^E>>>8;return E},crc:(E,I,$)=>4294967295^r.update(4294967295,E,I,$)};function o(E,I,$,H){I[$]+=E[0]*H>>4,I[$+1]+=E[1]*H>>4,I[$+2]+=E[2]*H>>4,I[$+3]+=E[3]*H>>4}function i(E){return Math.max(0,Math.min(255,E))}function c(E,I){const $=E[0]-I[0],H=E[1]-I[1],V=E[2]-I[2],K=E[3]-I[3];return $*$+H*H+V*V+K*K}function u(E,I,$,H,V,K,W){W==null&&(W=1);const Q=H.length,A=[];for(var P=0;P<Q;P++){const ee=H[P];A.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(P=0;P<Q;P++){let ee=4294967295;for(var D=0,z=0;z<Q;z++){var L=c(A[P],A[z]);z!=P&&L<ee&&(ee=L,D=z)}}const M=new Uint32Array(V.buffer),U=new Int16Array(I*$*4),te=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<te.length;P++)te[P]=255*((te[P]+.5)/16-.5);for(let ee=0;ee<$;ee++)for(let le=0;le<I;le++){var J;P=4*(ee*I+le),W!=2?J=[i(E[P]+U[P]),i(E[P+1]+U[P+1]),i(E[P+2]+U[P+2]),i(E[P+3]+U[P+3])]:(L=te[4*(3&ee)+(3&le)],J=[i(E[P]+L),i(E[P+1]+L),i(E[P+2]+L),i(E[P+3]+L)]),D=0;let X=16777215;for(z=0;z<Q;z++){const se=c(J,A[z]);se<X&&(X=se,D=z)}const ae=A[D],de=[J[0]-ae[0],J[1]-ae[1],J[2]-ae[2],J[3]-ae[3]];W==1&&(le!=I-1&&o(de,U,P+4,7),ee!=$-1&&(le!=0&&o(de,U,P+4*I-4,3),o(de,U,P+4*I,5),le!=I-1&&o(de,U,P+4*I+4,1))),K[P>>2]=D,M[P>>2]=H[D]}}function h(E,I,$,H,V){V==null&&(V={});const{crc:K}=r,W=t.writeUint,Q=t.writeUshort,A=t.writeASCII;let P=8;const D=E.frames.length>1;let z,L=!1,M=33+(D?20:0);if(V.sRGB!=null&&(M+=13),V.pHYs!=null&&(M+=21),V.iCCP!=null&&(z=pako.deflate(V.iCCP),M+=21+z.length+4),E.ctype==3){for(var U=E.plte.length,te=0;te<U;te++)E.plte[te]>>>24!=255&&(L=!0);M+=8+3*U+4+(L?8+1*U+4:0)}for(var J=0;J<E.frames.length;J++)D&&(M+=38),M+=(ae=E.frames[J]).cimg.length+12,J!=0&&(M+=4);M+=12;const ee=new Uint8Array(M),le=[137,80,78,71,13,10,26,10];for(te=0;te<8;te++)ee[te]=le[te];if(W(ee,P,13),P+=4,A(ee,P,"IHDR"),P+=4,W(ee,P,I),P+=4,W(ee,P,$),P+=4,ee[P]=E.depth,P++,ee[P]=E.ctype,P++,ee[P]=0,P++,ee[P]=0,P++,ee[P]=0,P++,W(ee,P,K(ee,P-17,17)),P+=4,V.sRGB!=null&&(W(ee,P,1),P+=4,A(ee,P,"sRGB"),P+=4,ee[P]=V.sRGB,P++,W(ee,P,K(ee,P-5,5)),P+=4),V.iCCP!=null){const de=13+z.length;W(ee,P,de),P+=4,A(ee,P,"iCCP"),P+=4,A(ee,P,"ICC profile"),P+=11,P+=2,ee.set(z,P),P+=z.length,W(ee,P,K(ee,P-(de+4),de+4)),P+=4}if(V.pHYs!=null&&(W(ee,P,9),P+=4,A(ee,P,"pHYs"),P+=4,W(ee,P,V.pHYs[0]),P+=4,W(ee,P,V.pHYs[1]),P+=4,ee[P]=V.pHYs[2],P++,W(ee,P,K(ee,P-13,13)),P+=4),D&&(W(ee,P,8),P+=4,A(ee,P,"acTL"),P+=4,W(ee,P,E.frames.length),P+=4,W(ee,P,V.loop!=null?V.loop:0),P+=4,W(ee,P,K(ee,P-12,12)),P+=4),E.ctype==3){for(W(ee,P,3*(U=E.plte.length)),P+=4,A(ee,P,"PLTE"),P+=4,te=0;te<U;te++){const de=3*te,se=E.plte[te],pe=255&se,je=se>>>8&255,et=se>>>16&255;ee[P+de+0]=pe,ee[P+de+1]=je,ee[P+de+2]=et}if(P+=3*U,W(ee,P,K(ee,P-3*U-4,3*U+4)),P+=4,L){for(W(ee,P,U),P+=4,A(ee,P,"tRNS"),P+=4,te=0;te<U;te++)ee[P+te]=E.plte[te]>>>24&255;P+=U,W(ee,P,K(ee,P-U-4,U+4)),P+=4}}let X=0;for(J=0;J<E.frames.length;J++){var ae=E.frames[J];D&&(W(ee,P,26),P+=4,A(ee,P,"fcTL"),P+=4,W(ee,P,X++),P+=4,W(ee,P,ae.rect.width),P+=4,W(ee,P,ae.rect.height),P+=4,W(ee,P,ae.rect.x),P+=4,W(ee,P,ae.rect.y),P+=4,Q(ee,P,H[J]),P+=2,Q(ee,P,1e3),P+=2,ee[P]=ae.dispose,P++,ee[P]=ae.blend,P++,W(ee,P,K(ee,P-30,30)),P+=4);const de=ae.cimg;W(ee,P,(U=de.length)+(J==0?0:4)),P+=4;const se=P;A(ee,P,J==0?"IDAT":"fdAT"),P+=4,J!=0&&(W(ee,P,X++),P+=4),ee.set(de,P),P+=U,W(ee,P,K(ee,se,P-se)),P+=4}return W(ee,P,0),P+=4,A(ee,P,"IEND"),P+=4,W(ee,P,K(ee,P-4,4)),P+=4,ee.buffer}function p(E,I,$){for(let H=0;H<E.frames.length;H++){const V=E.frames[H];V.rect.width;const K=V.rect.height,W=new Uint8Array(K*V.bpl+K);V.cimg=y(V.img,K,V.bpp,V.bpl,W,I,$)}}function f(E,I,$,H,V){const K=V[0],W=V[1],Q=V[2],A=V[3],P=V[4],D=V[5];let z=6,L=8,M=255;for(var U=0;U<E.length;U++){const he=new Uint8Array(E[U]);for(var te=he.length,J=0;J<te;J+=4)M&=he[J+3]}const ee=M!=255,le=(function(ge,ve,me,Se,ze,Qe){const Ie=[];for(var ke=0;ke<ge.length;ke++){const ht=new Uint8Array(ge[ke]),xt=new Uint32Array(ht.buffer);var tt;let Nt=0,_t=0,Y=ve,re=me,Pe=Se?1:0;if(ke!=0){const Oe=Qe||Se||ke==1||Ie[ke-2].dispose!=0?1:2;let Le=0,Ee=1e9;for(let Je=0;Je<Oe;Je++){var Xe=new Uint8Array(ge[ke-1-Je]);const He=new Uint32Array(ge[ke-1-Je]);let ot=ve,Pt=me,Ae=-1,at=-1;for(let pt=0;pt<me;pt++)for(let Ht=0;Ht<ve;Ht++)xt[We=pt*ve+Ht]!=He[We]&&(Ht<ot&&(ot=Ht),Ht>Ae&&(Ae=Ht),pt<Pt&&(Pt=pt),pt>at&&(at=pt));Ae==-1&&(ot=Pt=Ae=at=0),ze&&((1&ot)==1&&ot--,(1&Pt)==1&&Pt--);const jt=(Ae-ot+1)*(at-Pt+1);jt<Ee&&(Ee=jt,Le=Je,Nt=ot,_t=Pt,Y=Ae-ot+1,re=at-Pt+1)}Xe=new Uint8Array(ge[ke-1-Le]),Le==1&&(Ie[ke-1].dispose=2),tt=new Uint8Array(Y*re*4),e(Xe,ve,me,tt,Y,re,-Nt,-_t,0),Pe=e(ht,ve,me,tt,Y,re,-Nt,-_t,3)?1:0,Pe==1?v(ht,ve,me,tt,{x:Nt,y:_t,width:Y,height:re}):e(ht,ve,me,tt,Y,re,-Nt,-_t,0)}else tt=ht.slice(0);Ie.push({rect:{x:Nt,y:_t,width:Y,height:re},img:tt,blend:Pe,dispose:0})}if(Se)for(ke=0;ke<Ie.length;ke++){if((dt=Ie[ke]).blend==1)continue;const ht=dt.rect,xt=Ie[ke-1].rect,Nt=Math.min(ht.x,xt.x),_t=Math.min(ht.y,xt.y),Y={x:Nt,y:_t,width:Math.max(ht.x+ht.width,xt.x+xt.width)-Nt,height:Math.max(ht.y+ht.height,xt.y+xt.height)-_t};Ie[ke-1].dispose=1,ke-1!=0&&m(ge,ve,me,Ie,ke-1,Y,ze),m(ge,ve,me,Ie,ke,Y,ze)}let Ue=0;if(ge.length!=1)for(var We=0;We<Ie.length;We++){var dt;Ue+=(dt=Ie[We]).rect.width*dt.rect.height}return Ie})(E,I,$,K,W,Q),X={},ae=[],de=[];if(H!=0){const he=[];for(J=0;J<le.length;J++)he.push(le[J].img.buffer);const ge=(function(ze){let Qe=0;for(var Ie=0;Ie<ze.length;Ie++)Qe+=ze[Ie].byteLength;const ke=new Uint8Array(Qe);let tt=0;for(Ie=0;Ie<ze.length;Ie++){const Xe=new Uint8Array(ze[Ie]),Ue=Xe.length;for(let We=0;We<Ue;We+=4){let dt=Xe[We],ht=Xe[We+1],xt=Xe[We+2];const Nt=Xe[We+3];Nt==0&&(dt=ht=xt=0),ke[tt+We]=dt,ke[tt+We+1]=ht,ke[tt+We+2]=xt,ke[tt+We+3]=Nt}tt+=Ue}return ke.buffer})(he),ve=_(ge,H);for(J=0;J<ve.plte.length;J++)ae.push(ve.plte[J].est.rgba);let me=0;for(J=0;J<le.length;J++){const Se=(pe=le[J]).img.length;var se=new Uint8Array(ve.inds.buffer,me>>2,Se>>2);de.push(se);const ze=new Uint8Array(ve.abuf,me,Se);D&&u(pe.img,pe.rect.width,pe.rect.height,ae,ze,se),pe.img.set(ze),me+=Se}}else for(U=0;U<le.length;U++){var pe=le[U];const he=new Uint32Array(pe.img.buffer);var je=pe.rect.width;for(te=he.length,se=new Uint8Array(te),de.push(se),J=0;J<te;J++){const ge=he[J];if(J!=0&&ge==he[J-1])se[J]=se[J-1];else if(J>je&&ge==he[J-je])se[J]=se[J-je];else{let ve=X[ge];if(ve==null&&(X[ge]=ve=ae.length,ae.push(ge),ae.length>=300))break;se[J]=ve}}}const et=ae.length;for(et<=256&&P==0&&(L=et<=2?1:et<=4?2:et<=16?4:8,L=Math.max(L,A)),U=0;U<le.length;U++){(pe=le[U]).rect.x,pe.rect.y,je=pe.rect.width;const he=pe.rect.height;let ge=pe.img;new Uint32Array(ge.buffer);let ve=4*je,me=4;if(et<=256&&P==0){ve=Math.ceil(L*je/8);var ue=new Uint8Array(ve*he);const Se=de[U];for(let ze=0;ze<he;ze++){J=ze*ve;const Qe=ze*je;if(L==8)for(var q=0;q<je;q++)ue[J+q]=Se[Qe+q];else if(L==4)for(q=0;q<je;q++)ue[J+(q>>1)]|=Se[Qe+q]<<4-4*(1&q);else if(L==2)for(q=0;q<je;q++)ue[J+(q>>2)]|=Se[Qe+q]<<6-2*(3&q);else if(L==1)for(q=0;q<je;q++)ue[J+(q>>3)]|=Se[Qe+q]<<7-1*(7&q)}ge=ue,z=3,me=1}else if(ee==0&&le.length==1){ue=new Uint8Array(je*he*3);const Se=je*he;for(J=0;J<Se;J++){const ze=3*J,Qe=4*J;ue[ze]=ge[Qe],ue[ze+1]=ge[Qe+1],ue[ze+2]=ge[Qe+2]}ge=ue,z=2,me=3,ve=3*je}pe.img=ge,pe.bpl=ve,pe.bpp=me}return{ctype:z,depth:L,plte:ae,frames:le}}function m(E,I,$,H,V,K,W){const Q=Uint8Array,A=Uint32Array,P=new Q(E[V-1]),D=new A(E[V-1]),z=V+1<E.length?new Q(E[V+1]):null,L=new Q(E[V]),M=new A(L.buffer);let U=I,te=$,J=-1,ee=-1;for(let X=0;X<K.height;X++)for(let ae=0;ae<K.width;ae++){const de=K.x+ae,se=K.y+X,pe=se*I+de,je=M[pe];je==0||H[V-1].dispose==0&&D[pe]==je&&(z==null||z[4*pe+3]!=0)||(de<U&&(U=de),de>J&&(J=de),se<te&&(te=se),se>ee&&(ee=se))}J==-1&&(U=te=J=ee=0),W&&((1&U)==1&&U--,(1&te)==1&&te--),K={x:U,y:te,width:J-U+1,height:ee-te+1};const le=H[V];le.rect=K,le.blend=1,le.img=new Uint8Array(K.width*K.height*4),H[V-1].dispose==0?(e(P,I,$,le.img,K.width,K.height,-K.x,-K.y,0),v(L,I,$,le.img,K)):e(L,I,$,le.img,K.width,K.height,-K.x,-K.y,0)}function v(E,I,$,H,V){e(E,I,$,H,V.width,V.height,-V.x,-V.y,2)}function y(E,I,$,H,V,K,W){const Q=[];let A,P=[0,1,2,3,4];K!=-1?P=[K]:(I*H>5e5||$==1)&&(P=[0]),W&&(A={level:0});const D=_k;for(var z=0;z<P.length;z++){for(let U=0;U<I;U++)w(V,E,U,H,$,P[z]);Q.push(D.deflate(V,A))}let L,M=1e9;for(z=0;z<Q.length;z++)Q[z].length<M&&(L=z,M=Q[z].length);return Q[L]}function w(E,I,$,H,V,K){const W=$*H;let Q=W+$;if(E[Q]=K,Q++,K==0)if(H<500)for(var A=0;A<H;A++)E[Q+A]=I[W+A];else E.set(new Uint8Array(I.buffer,W,H),Q);else if(K==1){for(A=0;A<V;A++)E[Q+A]=I[W+A];for(A=V;A<H;A++)E[Q+A]=I[W+A]-I[W+A-V]+256&255}else if($==0){for(A=0;A<V;A++)E[Q+A]=I[W+A];if(K==2)for(A=V;A<H;A++)E[Q+A]=I[W+A];if(K==3)for(A=V;A<H;A++)E[Q+A]=I[W+A]-(I[W+A-V]>>1)+256&255;if(K==4)for(A=V;A<H;A++)E[Q+A]=I[W+A]-n(I[W+A-V],0,0)+256&255}else{if(K==2)for(A=0;A<H;A++)E[Q+A]=I[W+A]+256-I[W+A-H]&255;if(K==3){for(A=0;A<V;A++)E[Q+A]=I[W+A]+256-(I[W+A-H]>>1)&255;for(A=V;A<H;A++)E[Q+A]=I[W+A]+256-(I[W+A-H]+I[W+A-V]>>1)&255}if(K==4){for(A=0;A<V;A++)E[Q+A]=I[W+A]+256-n(0,I[W+A-H],0)&255;for(A=V;A<H;A++)E[Q+A]=I[W+A]+256-n(I[W+A-V],I[W+A-H],I[W+A-V-H])&255}}}function _(E,I){const $=new Uint8Array(E),H=$.slice(0),V=new Uint32Array(H.buffer),K=N(H,I),W=K[0],Q=K[1],A=$.length,P=new Uint8Array(A>>2);let D;if($.length<2e7)for(var z=0;z<A;z+=4)D=C(W,L=$[z]*(1/255),M=$[z+1]*(1/255),U=$[z+2]*(1/255),te=$[z+3]*(1/255)),P[z>>2]=D.ind,V[z>>2]=D.est.rgba;else for(z=0;z<A;z+=4){var L=$[z]*.00392156862745098,M=$[z+1]*(1/255),U=$[z+2]*(1/255),te=$[z+3]*(1/255);for(D=W;D.left;)D=j(D.est,L,M,U,te)<=0?D.left:D.right;P[z>>2]=D.ind,V[z>>2]=D.est.rgba}return{abuf:H.buffer,inds:P,plte:Q}}function N(E,I,$){$==null&&($=1e-4);const H=new Uint32Array(E.buffer),V={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};V.bst=F(E,V.i0,V.i1),V.est=T(V.bst);const K=[V];for(;K.length<I;){let Q=0,A=0;for(var W=0;W<K.length;W++)K[W].est.L>Q&&(Q=K[W].est.L,A=W);if(Q<$)break;const P=K[A],D=k(E,H,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=D||P.i1<=D){P.est.L=0;continue}const z={i0:P.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};z.bst=F(E,z.i0,z.i1),z.est=T(z.bst);const L={i0:D,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:P.bst.N-z.bst.N},W=0;W<16;W++)L.bst.R[W]=P.bst.R[W]-z.bst.R[W];for(W=0;W<4;W++)L.bst.m[W]=P.bst.m[W]-z.bst.m[W];L.est=T(L.bst),P.left=z,P.right=L,K[A]=z,K.push(L)}for(K.sort(((Q,A)=>A.bst.N-Q.bst.N)),W=0;W<K.length;W++)K[W].ind=W;return[V,K]}function C(E,I,$,H,V){if(E.left==null)return E.tdst=(function(z,L,M,U,te){const J=L-z[0],ee=M-z[1],le=U-z[2],X=te-z[3];return J*J+ee*ee+le*le+X*X})(E.est.q,I,$,H,V),E;const K=j(E.est,I,$,H,V);let W=E.left,Q=E.right;K>0&&(W=E.right,Q=E.left);const A=C(W,I,$,H,V);if(A.tdst<=K*K)return A;const P=C(Q,I,$,H,V);return P.tdst<A.tdst?P:A}function j(E,I,$,H,V){const{e:K}=E;return K[0]*I+K[1]*$+K[2]*H+K[3]*V-E.eMq}function k(E,I,$,H,V,K){for(H-=4;$<H;){for(;R(E,$,V)<=K;)$+=4;for(;R(E,H,V)>K;)H-=4;if($>=H)break;const W=I[$>>2];I[$>>2]=I[H>>2],I[H>>2]=W,$+=4,H-=4}for(;R(E,$,V)>K;)$-=4;return $+4}function R(E,I,$){return E[I]*$[0]+E[I+1]*$[1]+E[I+2]*$[2]+E[I+3]*$[3]}function F(E,I,$){const H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V=[0,0,0,0],K=$-I>>2;for(let W=I;W<$;W+=4){const Q=E[W]*.00392156862745098,A=E[W+1]*(1/255),P=E[W+2]*(1/255),D=E[W+3]*(1/255);V[0]+=Q,V[1]+=A,V[2]+=P,V[3]+=D,H[0]+=Q*Q,H[1]+=Q*A,H[2]+=Q*P,H[3]+=Q*D,H[5]+=A*A,H[6]+=A*P,H[7]+=A*D,H[10]+=P*P,H[11]+=P*D,H[15]+=D*D}return H[4]=H[1],H[8]=H[2],H[9]=H[6],H[12]=H[3],H[13]=H[7],H[14]=H[11],{R:H,m:V,N:K}}function T(E){const{R:I}=E,{m:$}=E,{N:H}=E,V=$[0],K=$[1],W=$[2],Q=$[3],A=H==0?0:1/H,P=[I[0]-V*V*A,I[1]-V*K*A,I[2]-V*W*A,I[3]-V*Q*A,I[4]-K*V*A,I[5]-K*K*A,I[6]-K*W*A,I[7]-K*Q*A,I[8]-W*V*A,I[9]-W*K*A,I[10]-W*W*A,I[11]-W*Q*A,I[12]-Q*V*A,I[13]-Q*K*A,I[14]-Q*W*A,I[15]-Q*Q*A],D=P,z=B;let L=[Math.random(),Math.random(),Math.random(),Math.random()],M=0,U=0;if(H!=0)for(let J=0;J<16&&(L=z.multVec(D,L),U=Math.sqrt(z.dot(L,L)),L=z.sml(1/U,L),!(J!=0&&Math.abs(U-M)<1e-9));J++)M=U;const te=[V*A,K*A,W*A,Q*A];return{Cov:P,q:te,e:L,L:M,eMq255:z.dot(z.sml(255,te),L),eMq:z.dot(L,te),rgba:(Math.round(255*te[3])<<24|Math.round(255*te[2])<<16|Math.round(255*te[1])<<8|Math.round(255*te[0])<<0)>>>0}}var B={multVec:(E,I)=>[E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],E[4]*I[0]+E[5]*I[1]+E[6]*I[2]+E[7]*I[3],E[8]*I[0]+E[9]*I[1]+E[10]*I[2]+E[11]*I[3],E[12]*I[0]+E[13]*I[1]+E[14]*I[2]+E[15]*I[3]],dot:(E,I)=>E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],sml:(E,I)=>[E*I[0],E*I[1],E*I[2],E*I[3]]};rr.encode=function(I,$,H,V,K,W,Q){V==null&&(V=0),Q==null&&(Q=!1);const A=f(I,$,H,V,[!1,!1,!1,0,Q,!1]);return p(A,-1),h(A,$,H,K,W)},rr.encodeLL=function(I,$,H,V,K,W,Q,A){const P={ctype:0+(V==1?0:2)+(K==0?0:4),depth:W,frames:[]},D=(V+K)*W,z=D*$;for(let L=0;L<I.length;L++)P.frames.push({rect:{x:0,y:0,width:$,height:H},img:new Uint8Array(I[L]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(z/8)});return p(P,0,!0),h(P,$,H,Q,A)},rr.encode.compress=f,rr.encode.dither=u,rr.quantize=_,rr.quantize.getKDtree=N,rr.quantize.getNearest=C})();const s0={toArrayBuffer(e,t){const n=e.width,r=e.height,o=n<<2,i=e.getContext("2d").getImageData(0,0,n,r),c=new Uint32Array(i.data.buffer),u=(32*n+31)/32<<2,h=u*r,p=122+h,f=new ArrayBuffer(p),m=new DataView(f),v=1<<20;let y,w,_,N,C=v,j=0,k=0,R=0;function F(E){m.setUint16(k,E,!0),k+=2}function T(E){m.setUint32(k,E,!0),k+=4}function B(E){k+=E}F(19778),T(p),B(4),T(122),T(108),T(n),T(-r>>>0),F(1),F(32),T(3),T(h),T(2835),T(2835),B(8),T(16711680),T(65280),T(255),T(4278190080),T(1466527264),(function E(){for(;j<r&&C>0;){for(N=122+j*u,y=0;y<o;)C--,w=c[R++],_=w>>>24,m.setUint32(N+y,w<<8|_),y+=4;j++}R<c.length?(C=v,setTimeout(E,s0._dly)):t(f)})()},toBlob(e,t){this.toArrayBuffer(e,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var kn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Nk={[kn.CHROME]:16384,[kn.FIREFOX]:11180,[kn.DESKTOP_SAFARI]:16384,[kn.IE]:8192,[kn.IOS]:4096,[kn.ETC]:8192};const Ph=typeof window<"u",o0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,wc=Ph&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Sk=(Ph||o0)&&(wc&&wc.getOriginalSymbol(window,"File")||typeof File<"u"&&File),a0=(Ph||o0)&&(wc&&wc.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Rh(e,t,n=Date.now()){return new Promise((r=>{const o=e.split(","),i=o[0].match(/:(.*?);/)[1],c=globalThis.atob(o[1]);let u=c.length;const h=new Uint8Array(u);for(;u--;)h[u]=c.charCodeAt(u);const p=new Blob([h],{type:i});p.name=t,p.lastModified=n,r(p)}))}function i0(e){return new Promise(((t,n)=>{const r=new a0;r.onload=()=>t(r.result),r.onerror=o=>n(o),r.readAsDataURL(e)}))}function l0(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=o=>n(o),r.src=e}))}function so(){if(so.cachedResult!==void 0)return so.cachedResult;let e=kn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=kn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=kn.IOS:/Safari/i.test(t)?e=kn.DESKTOP_SAFARI:/Firefox/i.test(t)?e=kn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=kn.IE),so.cachedResult=e,so.cachedResult}function c0(e,t){const n=so(),r=Nk[n];let o=e,i=t,c=o*i;const u=o>i?i/o:o/i;for(;c>r*r;){const h=(r+o)/2,p=(r+i)/2;h<p?(i=p,o=p*u):(i=h*u,o=h),c=o*i}return{width:o,height:i}}function $c(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function u0(e,t){const{width:n,height:r}=c0(e.width,e.height),[o,i]=$c(n,r);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height)),i.drawImage(e,0,0,o.width,o.height),o}function ic(){return ic.cachedResult!==void 0||(ic.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ic.cachedResult}function bc(e,t={}){return new Promise((function(n,r){let o,i;var c=function(){try{return i=u0(o,t.fileType||e.type),n([o,i])}catch(h){return r(h)}},u=function(h){try{var p=function(f){try{throw f}catch(m){return r(m)}};try{let f;return i0(e).then((function(m){try{return f=m,l0(f).then((function(v){try{return o=v,(function(){try{return c()}catch(y){return r(y)}})()}catch(y){return p(y)}}),p)}catch(v){return p(v)}}),p)}catch(f){p(f)}}catch(f){return r(f)}};try{if(ic()||[kn.DESKTOP_SAFARI,kn.MOBILE_SAFARI].includes(so()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(h){try{return o=h,c()}catch{return u()}}),u)}catch{u()}}))}function _c(e,t,n,r,o=1){return new Promise((function(i,c){let u;if(t==="image/png"){let p,f,m;return p=e.getContext("2d"),{data:f}=p.getImageData(0,0,e.width,e.height),m=rr.encode([f.buffer],e.width,e.height,4096*o),u=new Blob([m],{type:t}),u.name=n,u.lastModified=r,h.call(this)}{let p=function(){return h.call(this)};if(t==="image/bmp")return new Promise((f=>s0.toBlob(e,f))).then(function(f){try{return u=f,u.name=n,u.lastModified=r,p.call(this)}catch(m){return c(m)}}.bind(this),c);{let f=function(){return p.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then(function(m){try{return u=m,u.name=n,u.lastModified=r,f.call(this)}catch(v){return c(v)}}.bind(this),c);{let m;return m=e.toDataURL(t,o),Rh(m,n,r).then(function(v){try{return u=v,f.call(this)}catch(y){return c(y)}}.bind(this),c)}}}function h(){return i(u)}}))}function wr(e){e.width=0,e.height=0}function oa(){return new Promise((function(e,t){let n,r,o,i;return oa.cachedResult!==void 0?e(oa.cachedResult):Rh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return n=c,bc(n).then((function(u){try{return r=u[1],_c(r,n.type,n.name,n.lastModified).then((function(h){try{return o=h,wr(r),bc(o).then((function(p){try{return i=p[0],oa.cachedResult=i.width===1&&i.height===2,e(oa.cachedResult)}catch(f){return t(f)}}),t)}catch(p){return t(p)}}),t)}catch(h){return t(h)}}),t)}catch(u){return t(u)}}),t)}))}function d0(e){return new Promise(((t,n)=>{const r=new a0;r.onload=o=>{const i=new DataView(o.target.result);if(i.getUint16(0,!1)!=65496)return t(-2);const c=i.byteLength;let u=2;for(;u<c;){if(i.getUint16(u+2,!1)<=8)return t(-1);const h=i.getUint16(u,!1);if(u+=2,h==65505){if(i.getUint32(u+=2,!1)!=1165519206)return t(-1);const p=i.getUint16(u+=6,!1)==18761;u+=i.getUint32(u+4,p);const f=i.getUint16(u,p);u+=2;for(let m=0;m<f;m++)if(i.getUint16(u+12*m,p)==274)return t(i.getUint16(u+12*m+8,p))}else{if((65280&h)!=65280)break;u+=i.getUint16(u,!1)}}return t(-1)},r.onerror=o=>n(o),r.readAsArrayBuffer(e)}))}function f0(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:o}=t;let i,c=e;return isFinite(o)&&(n>o||r>o)&&([c,i]=$c(n,r),n>r?(c.width=o,c.height=r/n*o):(c.width=n/r*o,c.height=o),i.drawImage(e,0,0,c.width,c.height),wr(e)),c}function h0(e,t){const{width:n}=e,{height:r}=e,[o,i]=$c(n,r);switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,r),wr(e),o}function Yv(e,t,n=0){return new Promise((function(r,o){let i,c,u,h,p,f,m,v,y,w,_,N,C,j,k,R,F,T,B,E;function I(H=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=H,t.onProgress(Math.min(i,100))}function $(H){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(H,i),100),t.onProgress(i)}return i=n,c=t.maxIteration||10,u=1024*t.maxSizeMB*1024,I(),bc(e,t).then(function(H){try{return[,h]=H,I(),p=f0(h,t),I(),new Promise((function(V,K){var W;if(!(W=t.exifOrientation))return d0(e).then(function(A){try{return W=A,Q.call(this)}catch(P){return K(P)}}.bind(this),K);function Q(){return V(W)}return Q.call(this)})).then(function(V){try{return f=V,I(),oa().then(function(K){try{return m=K?p:h0(p,f),I(),v=t.initialQuality||1,y=t.fileType||e.type,_c(m,y,e.name,e.lastModified,v).then(function(W){try{{let A=function(){if(c--&&(k>u||k>C)){let D,z;return D=E?.95*B.width:B.width,z=E?.95*B.height:B.height,[F,T]=$c(D,z),T.drawImage(B,0,0,D,z),v*=y==="image/png"?.85:.95,_c(F,y,e.name,e.lastModified,v).then((function(L){try{return R=L,wr(B),B=F,k=R.size,$(Math.min(99,Math.floor((j-k)/(j-u)*100))),A}catch(M){return o(M)}}),o)}return[1]},P=function(){return wr(B),wr(F),wr(p),wr(m),wr(h),$(100),r(R)};if(w=W,I(),_=w.size>u,N=w.size>e.size,!_&&!N)return $(100),r(w);var Q;return C=e.size,j=w.size,k=j,B=m,E=!t.alwaysKeepResolution&&_,(Q=function(D){for(;D;){if(D.then)return void D.then(Q,o);try{if(D.pop){if(D.length)return D.pop()?P.call(this):D;D=A}else D=D.call(this)}catch(z){return o(z)}}}.bind(this))(A)}}catch(A){return o(A)}}.bind(this),o)}catch(W){return o(W)}}.bind(this),o)}catch(K){return o(K)}}.bind(this),o)}catch(V){return o(V)}}.bind(this),o)}))}const jk=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let lf;function Ck(e,t){return new Promise(((n,r)=>{lf||(lf=(function(c){const u=[];return u.push(c),URL.createObjectURL(new Blob(u))})(jk));const o=new Worker(lf);o.addEventListener("message",(function(c){if(t.signal&&t.signal.aborted)o.terminate();else if(c.data.progress===void 0){if(c.data.error)return r(new Error(c.data.error)),void o.terminate();n(c.data.file),o.terminate()}else t.onProgress(c.data.progress)})),o.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function hn(e,t){return new Promise((function(n,r){let o,i,c,u,h,p;if(o={...t},c=0,{onProgress:u}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=y=>{c=y,typeof u=="function"&&u(c)},!(e instanceof Blob||e instanceof Sk))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||p)return Yv(e,o).then(function(y){try{return i=y,v.call(this)}catch(w){return r(w)}}.bind(this),r);var f=function(){try{return v.call(this)}catch(y){return r(y)}}.bind(this),m=function(y){try{return Yv(e,o).then((function(w){try{return i=w,f()}catch(_){return r(_)}}),r)}catch(w){return r(w)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ck(e,o).then((function(y){try{return i=y,f()}catch{return m()}}),m)}catch{m()}function v(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{o.preserveExif&&e.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(i=r0(e,i))}catch{}return n(i)}}))}hn.getDataUrlFromFile=i0,hn.getFilefromDataUrl=Rh,hn.loadImage=l0,hn.drawImageInCanvas=u0,hn.drawFileInCanvas=bc,hn.canvasToFile=_c,hn.getExifOrientation=d0,hn.handleMaxWidthOrHeight=f0,hn.followExifOrientation=h0,hn.cleanupCanvasMemory=wr,hn.isAutoOrientationInBrowser=oa,hn.approximateBelowMaximumCanvasSizeOfBrowser=c0,hn.copyExifWithoutOrientation=r0,hn.getBrowserName=so,hn.version="2.0.2";const kk=e=>({processFiles:async t=>{const n=[];for(const[r,o]of t.entries()){let i=o;try{i=await hn(i,{maxSizeMB:e.maxSizeMB??1.5,maxWidthOrHeight:1600,useWebWorker:!0})}catch{}const c=`${e.prefix}/${Date.now()}-${r}-${i.name}`,{error:u}=await Ce.storage.from(e.bucket).upload(c,i,{cacheControl:"3600",upsert:!1});if(u)throw u;const{data:{publicUrl:h}}=Ce.storage.from(e.bucket).getPublicUrl(c);n.push(h)}return n},remove:async t=>{const n=t.split(`${e.bucket}/`)[1];n&&await Ce.storage.from(e.bucket).remove([n])}}),Ek=({value:e,onChange:t,adapter:n,maxPhotos:r=8,className:o})=>{const i=b.useRef(null),[c,u]=b.useState(!1),h=async f=>{const m=f.target.files;if(m){if(e.length>=r){be.info(`You can only upload up to ${r} photos.`);return}u(!0);try{const v=r-e.length,y=Array.from(m).slice(0,v),w=await n.processFiles(y);w.length>0&&t([...e,...w])}catch(v){console.error(v),be.error("Upload failed. Please try again.")}finally{u(!1),i.current&&(i.current.value="")}}},p=async f=>{const m=e[f];t(e.filter((v,y)=>y!==f));try{n.remove&&await n.remove(m)}catch{console.warn("Failed to remove file:",m)}};return l.jsxs("div",{className:st("space-y-3",o),children:[l.jsxs(rt,{className:"text-[#2d3d1f]",children:["Upload Photos (max ",r,")"]}),e.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.map((f,m)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:f,alt:`photo ${m}`,className:"w-full h-24 object-cover rounded-lg border border-[#a8b892]"}),l.jsx(fe,{type:"button",size:"sm",variant:"destructive",onClick:()=>p(m),className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-100 md:opacity-0 md:group-hover:opacity-100 bg-red-500 hover:bg-red-600",children:l.jsx(Cs,{className:"w-3 h-3"})})]},m))}),e.length<r&&l.jsxs("div",{className:"border-2 border-dashed border-[#a8b892] rounded-lg p-6 text-center bg-white hover:border-[#556B2F] transition-colors",children:[l.jsx(xh,{className:"w-12 h-12 text-[#556B2F] mx-auto mb-4"}),l.jsxs("p",{className:"text-[#3c4f21] mb-2",children:["Add photos of your homestead and class area",e.length>0&&l.jsxs("span",{className:"block text-sm text-[#556B2F] mt-1",children:[e.length,"/",r," uploaded"]})]}),l.jsxs(fe,{type:"button",className:"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]",disabled:c,onClick:()=>!c&&i.current?.click(),children:[l.jsx(bh,{className:"w-4 h-4 mr-2"}),c?"Uploading...":"Choose Photos"]}),l.jsx("input",{ref:i,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:h})]}),e.length>=r&&l.jsx("div",{className:"p-4 bg-[#f8f9f6] border border-[#a8b892] rounded-lg text-center",children:l.jsxs("p",{className:"text-[#3c4f21]",children:["Maximum of ",r," photos reached"]})})]})};function Kv(e,[t,n]){return Math.min(n,Math.max(t,e))}function m0(e){const t=e+"CollectionProvider",[n,r]=Cr(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:N,children:C}=_,j=_e.useRef(null),k=_e.useRef(new Map).current;return l.jsx(o,{scope:N,itemMap:k,collectionRef:j,children:C})};c.displayName=t;const u=e+"CollectionSlot",h=oo(u),p=_e.forwardRef((_,N)=>{const{scope:C,children:j}=_,k=i(u,C),R=Et(N,k.collectionRef);return l.jsx(h,{ref:R,children:j})});p.displayName=u;const f=e+"CollectionItemSlot",m="data-radix-collection-item",v=oo(f),y=_e.forwardRef((_,N)=>{const{scope:C,children:j,...k}=_,R=_e.useRef(null),F=Et(N,R),T=i(f,C);return _e.useEffect(()=>(T.itemMap.set(R,{ref:R,...k}),()=>void T.itemMap.delete(R))),l.jsx(v,{[m]:"",ref:F,children:j})});y.displayName=f;function w(_){const N=i(e+"CollectionConsumer",_);return _e.useCallback(()=>{const j=N.collectionRef.current;if(!j)return[];const k=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((T,B)=>k.indexOf(T.ref.current)-k.indexOf(B.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:p,ItemSlot:y},w,r]}var Pk=b.createContext(void 0);function Ah(e){const t=b.useContext(Pk);return e||t||"ltr"}function Vr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>t.current?.(...n),[])}function Rk(e,t=globalThis?.document){const n=Vr(e);b.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Ak="DismissableLayer",nh="dismissableLayer.update",Tk="dismissableLayer.pointerDownOutside",Ik="dismissableLayer.focusOutside",Qv,p0=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uc=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...h}=e,p=b.useContext(p0),[f,m]=b.useState(null),v=f?.ownerDocument??globalThis?.document,[,y]=b.useState({}),w=Et(t,B=>m(B)),_=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(N),j=f?_.indexOf(f):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,R=j>=C,F=Mk(B=>{const E=B.target,I=[...p.branches].some($=>$.contains(E));!R||I||(o?.(B),c?.(B),B.defaultPrevented||u?.())},v),T=Fk(B=>{const E=B.target;[...p.branches].some($=>$.contains(E))||(i?.(B),c?.(B),B.defaultPrevented||u?.())},v);return Rk(B=>{j===p.layers.size-1&&(r?.(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},v),b.useEffect(()=>{if(f)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Qv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(f)),p.layers.add(f),Jv(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Qv)}},[f,v,n,p]),b.useEffect(()=>()=>{f&&(p.layers.delete(f),p.layersWithOutsidePointerEventsDisabled.delete(f),Jv())},[f,p]),b.useEffect(()=>{const B=()=>y({});return document.addEventListener(nh,B),()=>document.removeEventListener(nh,B)},[]),l.jsx(lt.div,{...h,ref:w,style:{pointerEvents:k?R?"auto":"none":void 0,...e.style},onFocusCapture:ct(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,F.onPointerDownCapture)})});Uc.displayName=Ak;var Ok="DismissableLayerBranch",Dk=b.forwardRef((e,t)=>{const n=b.useContext(p0),r=b.useRef(null),o=Et(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(lt.div,{...e,ref:o})});Dk.displayName=Ok;function Mk(e,t=globalThis?.document){const n=Vr(e),r=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){g0(Tk,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Fk(e,t=globalThis?.document){const n=Vr(e),r=b.useRef(!1);return b.useEffect(()=>{const o=i=>{i.target&&!r.current&&g0(Ik,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jv(){const e=new CustomEvent(nh);document.dispatchEvent(e)}function g0(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?DS(o,i):o.dispatchEvent(i)}var cf=0;function Th(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xv()),document.body.insertAdjacentElement("beforeend",e[1]??Xv()),cf++,()=>{cf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cf--}},[])}function Xv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var uf="focusScope.autoFocusOnMount",df="focusScope.autoFocusOnUnmount",Zv={bubbles:!1,cancelable:!0},Lk="FocusScope",zc=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...c}=e,[u,h]=b.useState(null),p=Vr(o),f=Vr(i),m=b.useRef(null),v=Et(t,_=>h(_)),y=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let _=function(k){if(y.paused||!u)return;const R=k.target;u.contains(R)?m.current=R:bs(m.current,{select:!0})},N=function(k){if(y.paused||!u)return;const R=k.relatedTarget;R!==null&&(u.contains(R)||bs(m.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const F of k)F.removedNodes.length>0&&bs(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const j=new MutationObserver(C);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),j.disconnect()}}},[r,u,y.paused]),b.useEffect(()=>{if(u){ty.add(y);const _=document.activeElement;if(!u.contains(_)){const C=new CustomEvent(uf,Zv);u.addEventListener(uf,p),u.dispatchEvent(C),C.defaultPrevented||(Bk(Hk(v0(u)),{select:!0}),document.activeElement===_&&bs(u))}return()=>{u.removeEventListener(uf,p),setTimeout(()=>{const C=new CustomEvent(df,Zv);u.addEventListener(df,f),u.dispatchEvent(C),C.defaultPrevented||bs(_??document.body,{select:!0}),u.removeEventListener(df,f),ty.remove(y)},0)}}},[u,p,f,y]);const w=b.useCallback(_=>{if(!n&&!r||y.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,C=document.activeElement;if(N&&C){const j=_.currentTarget,[k,R]=$k(j);k&&R?!_.shiftKey&&C===R?(_.preventDefault(),n&&bs(k,{select:!0})):_.shiftKey&&C===k&&(_.preventDefault(),n&&bs(R,{select:!0})):C===j&&_.preventDefault()}},[n,r,y.paused]);return l.jsx(lt.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});zc.displayName=Lk;function Bk(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(bs(r,{select:t}),document.activeElement!==n)return}function $k(e){const t=v0(e),n=ey(t,e),r=ey(t.reverse(),e);return[n,r]}function v0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ey(e,t){for(const n of e)if(!Uk(n,{upTo:t}))return n}function Uk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zk(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zk(e)&&t&&e.select()}}var ty=Wk();function Wk(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=ny(e,t),e.unshift(t)},remove(t){e=ny(e,t),e[0]?.resume()}}}function ny(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Hk(e){return e.filter(t=>t.tagName!=="A")}var Vk=ox[" useId ".trim().toString()]||(()=>{}),qk=0;function Wr(e){const[t,n]=b.useState(Vk());return Xt(()=>{n(r=>r??String(qk++))},[e]),e||(t?`radix-${t}`:"")}const Gk=["top","right","bottom","left"],Es=Math.min,Mn=Math.max,Nc=Math.round,Jl=Math.floor,Nr=e=>({x:e,y:e}),Yk={left:"right",right:"left",bottom:"top",top:"bottom"},Kk={start:"end",end:"start"};function rh(e,t,n){return Mn(e,Es(t,n))}function qr(e,t){return typeof e=="function"?e(t):e}function Gr(e){return e.split("-")[0]}function ba(e){return e.split("-")[1]}function Ih(e){return e==="x"?"y":"x"}function Oh(e){return e==="y"?"height":"width"}const Qk=new Set(["top","bottom"]);function br(e){return Qk.has(Gr(e))?"y":"x"}function Dh(e){return Ih(br(e))}function Jk(e,t,n){n===void 0&&(n=!1);const r=ba(e),o=Dh(e),i=Oh(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Sc(c)),[c,Sc(c)]}function Xk(e){const t=Sc(e);return[sh(e),t,sh(t)]}function sh(e){return e.replace(/start|end/g,t=>Kk[t])}const ry=["left","right"],sy=["right","left"],Zk=["top","bottom"],eE=["bottom","top"];function tE(e,t,n){switch(e){case"top":case"bottom":return n?t?sy:ry:t?ry:sy;case"left":case"right":return t?Zk:eE;default:return[]}}function nE(e,t,n,r){const o=ba(e);let i=tE(Gr(e),n==="start",r);return o&&(i=i.map(c=>c+"-"+o),t&&(i=i.concat(i.map(sh)))),i}function Sc(e){return e.replace(/left|right|bottom|top/g,t=>Yk[t])}function rE(e){return{top:0,right:0,bottom:0,left:0,...e}}function y0(e){return typeof e!="number"?rE(e):{top:e,right:e,bottom:e,left:e}}function jc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function oy(e,t,n){let{reference:r,floating:o}=e;const i=br(t),c=Dh(t),u=Oh(c),h=Gr(t),p=i==="y",f=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,v=r[u]/2-o[u]/2;let y;switch(h){case"top":y={x:f,y:r.y-o.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-o.width,y:m};break;default:y={x:r.x,y:r.y}}switch(ba(t)){case"start":y[c]-=v*(n&&p?-1:1);break;case"end":y[c]+=v*(n&&p?-1:1);break}return y}const sE=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:c}=n,u=i.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:m}=oy(p,r,h),v=r,y={},w=0;for(let _=0;_<u.length;_++){const{name:N,fn:C}=u[_],{x:j,y:k,data:R,reset:F}=await C({x:f,y:m,initialPlacement:r,placement:v,strategy:o,middlewareData:y,rects:p,platform:c,elements:{reference:e,floating:t}});f=j??f,m=k??m,y={...y,[N]:{...y[N],...R}},F&&w<=50&&(w++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(p=F.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):F.rects),{x:f,y:m}=oy(p,v,h)),_=-1)}return{x:f,y:m,placement:v,strategy:o,middlewareData:y}};async function bi(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:c,elements:u,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=qr(t,e),w=y0(y),N=u[v?m==="floating"?"reference":"floating":m],C=jc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:f,strategy:h})),j=m==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),R=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},F=jc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:k,strategy:h}):j);return{top:(C.top-F.top+w.top)/R.y,bottom:(F.bottom-C.bottom+w.bottom)/R.y,left:(C.left-F.left+w.left)/R.x,right:(F.right-C.right+w.right)/R.x}}const oE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:c,elements:u,middlewareData:h}=t,{element:p,padding:f=0}=qr(e,t)||{};if(p==null)return{};const m=y0(f),v={x:n,y:r},y=Dh(o),w=Oh(y),_=await c.getDimensions(p),N=y==="y",C=N?"top":"left",j=N?"bottom":"right",k=N?"clientHeight":"clientWidth",R=i.reference[w]+i.reference[y]-v[y]-i.floating[w],F=v[y]-i.reference[y],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let B=T?T[k]:0;(!B||!await(c.isElement==null?void 0:c.isElement(T)))&&(B=u.floating[k]||i.floating[w]);const E=R/2-F/2,I=B/2-_[w]/2-1,$=Es(m[C],I),H=Es(m[j],I),V=$,K=B-_[w]-H,W=B/2-_[w]/2+E,Q=rh(V,W,K),A=!h.arrow&&ba(o)!=null&&W!==Q&&i.reference[w]/2-(W<V?$:H)-_[w]/2<0,P=A?W<V?W-V:W-K:0;return{[y]:v[y]+P,data:{[y]:Q,centerOffset:W-Q-P,...A&&{alignmentOffset:P}},reset:A}}}),aE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:c,initialPlacement:u,platform:h,elements:p}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...N}=qr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Gr(o),j=br(u),k=Gr(u)===u,R=await(h.isRTL==null?void 0:h.isRTL(p.floating)),F=v||(k||!_?[Sc(u)]:Xk(u)),T=w!=="none";!v&&T&&F.push(...nE(u,_,w,R));const B=[u,...F],E=await bi(t,N),I=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&I.push(E[C]),m){const W=Jk(o,c,R);I.push(E[W[0]],E[W[1]])}if($=[...$,{placement:o,overflows:I}],!I.every(W=>W<=0)){var H,V;const W=(((H=i.flip)==null?void 0:H.index)||0)+1,Q=B[W];if(Q&&(!(m==="alignment"?j!==br(Q):!1)||$.every(D=>br(D.placement)===j?D.overflows[0]>0:!0)))return{data:{index:W,overflows:$},reset:{placement:Q}};let A=(V=$.filter(P=>P.overflows[0]<=0).sort((P,D)=>P.overflows[1]-D.overflows[1])[0])==null?void 0:V.placement;if(!A)switch(y){case"bestFit":{var K;const P=(K=$.filter(D=>{if(T){const z=br(D.placement);return z===j||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,L)=>z+L,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:K[0];P&&(A=P);break}case"initialPlacement":A=u;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function ay(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iy(e){return Gk.some(t=>e[t]>=0)}const iE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=qr(e,t);switch(r){case"referenceHidden":{const i=await bi(t,{...o,elementContext:"reference"}),c=ay(i,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:iy(c)}}}case"escaped":{const i=await bi(t,{...o,altBoundary:!0}),c=ay(i,n.floating);return{data:{escapedOffsets:c,escaped:iy(c)}}}default:return{}}}}},x0=new Set(["left","top"]);async function lE(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Gr(n),u=ba(n),h=br(n)==="y",p=x0.has(c)?-1:1,f=i&&h?-1:1,m=qr(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(y=u==="end"?w*-1:w),h?{x:y*f,y:v*p}:{x:v*p,y:y*f}}const cE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:c,middlewareData:u}=t,h=await lE(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:i+h.y,data:{...h,placement:c}}}}},uE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:u={fn:N=>{let{x:C,y:j}=N;return{x:C,y:j}}},...h}=qr(e,t),p={x:n,y:r},f=await bi(t,h),m=br(Gr(o)),v=Ih(m);let y=p[v],w=p[m];if(i){const N=v==="y"?"top":"left",C=v==="y"?"bottom":"right",j=y+f[N],k=y-f[C];y=rh(j,y,k)}if(c){const N=m==="y"?"top":"left",C=m==="y"?"bottom":"right",j=w+f[N],k=w-f[C];w=rh(j,w,k)}const _=u.fn({...t,[v]:y,[m]:w});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[v]:i,[m]:c}}}}}},dE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=qr(e,t),f={x:n,y:r},m=br(o),v=Ih(m);let y=f[v],w=f[m];const _=qr(u,t),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const k=v==="y"?"height":"width",R=i.reference[v]-i.floating[k]+N.mainAxis,F=i.reference[v]+i.reference[k]-N.mainAxis;y<R?y=R:y>F&&(y=F)}if(p){var C,j;const k=v==="y"?"width":"height",R=x0.has(Gr(o)),F=i.reference[m]-i.floating[k]+(R&&((C=c.offset)==null?void 0:C[m])||0)+(R?0:N.crossAxis),T=i.reference[m]+i.reference[k]+(R?0:((j=c.offset)==null?void 0:j[m])||0)-(R?N.crossAxis:0);w<F?w=F:w>T&&(w=T)}return{[v]:y,[m]:w}}}},fE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:c,elements:u}=t,{apply:h=()=>{},...p}=qr(e,t),f=await bi(t,p),m=Gr(o),v=ba(o),y=br(o)==="y",{width:w,height:_}=i.floating;let N,C;m==="top"||m==="bottom"?(N=m,C=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=m,N=v==="end"?"top":"bottom");const j=_-f.top-f.bottom,k=w-f.left-f.right,R=Es(_-f[N],j),F=Es(w-f[C],k),T=!t.middlewareData.shift;let B=R,E=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=j),T&&!v){const $=Mn(f.left,0),H=Mn(f.right,0),V=Mn(f.top,0),K=Mn(f.bottom,0);y?E=w-2*($!==0||H!==0?$+H:Mn(f.left,f.right)):B=_-2*(V!==0||K!==0?V+K:Mn(f.top,f.bottom))}await h({...t,availableWidth:E,availableHeight:B});const I=await c.getDimensions(u.floating);return w!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function Wc(){return typeof window<"u"}function _a(e){return w0(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kr(e){var t;return(t=(w0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w0(e){return Wc()?e instanceof Node||e instanceof Fn(e).Node:!1}function lr(e){return Wc()?e instanceof Element||e instanceof Fn(e).Element:!1}function Sr(e){return Wc()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function ly(e){return!Wc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}const hE=new Set(["inline","contents"]);function Ei(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hE.has(o)}const mE=new Set(["table","td","th"]);function pE(e){return mE.has(_a(e))}const gE=[":popover-open",":modal"];function Hc(e){return gE.some(t=>{try{return e.matches(t)}catch{return!1}})}const vE=["transform","translate","scale","rotate","perspective"],yE=["transform","translate","scale","rotate","perspective","filter"],xE=["paint","layout","strict","content"];function Mh(e){const t=Fh(),n=lr(e)?cr(e):e;return vE.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||yE.some(r=>(n.willChange||"").includes(r))||xE.some(r=>(n.contain||"").includes(r))}function wE(e){let t=Ps(e);for(;Sr(t)&&!ha(t);){if(Mh(t))return t;if(Hc(t))return null;t=Ps(t)}return null}function Fh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bE=new Set(["html","body","#document"]);function ha(e){return bE.has(_a(e))}function cr(e){return Fn(e).getComputedStyle(e)}function Vc(e){return lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ps(e){if(_a(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ly(e)&&e.host||kr(e);return ly(t)?t.host:t}function b0(e){const t=Ps(e);return ha(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sr(t)&&Ei(t)?t:b0(t)}function _i(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=b0(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),c=Fn(o);if(i){const u=oh(c);return t.concat(c,c.visualViewport||[],Ei(o)?o:[],u&&n?_i(u):[])}return t.concat(o,_i(o,[],n))}function oh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _0(e){const t=cr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Sr(e),i=o?e.offsetWidth:n,c=o?e.offsetHeight:r,u=Nc(n)!==i||Nc(r)!==c;return u&&(n=i,r=c),{width:n,height:r,$:u}}function Lh(e){return lr(e)?e:e.contextElement}function ia(e){const t=Lh(e);if(!Sr(t))return Nr(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=_0(t);let c=(i?Nc(n.width):n.width)/r,u=(i?Nc(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const _E=Nr(0);function N0(e){const t=Fn(e);return!Fh()||!t.visualViewport?_E:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function lo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Lh(e);let c=Nr(1);t&&(r?lr(r)&&(c=ia(r)):c=ia(e));const u=NE(i,n,r)?N0(i):Nr(0);let h=(o.left+u.x)/c.x,p=(o.top+u.y)/c.y,f=o.width/c.x,m=o.height/c.y;if(i){const v=Fn(i),y=r&&lr(r)?Fn(r):r;let w=v,_=oh(w);for(;_&&r&&y!==w;){const N=ia(_),C=_.getBoundingClientRect(),j=cr(_),k=C.left+(_.clientLeft+parseFloat(j.paddingLeft))*N.x,R=C.top+(_.clientTop+parseFloat(j.paddingTop))*N.y;h*=N.x,p*=N.y,f*=N.x,m*=N.y,h+=k,p+=R,w=Fn(_),_=oh(w)}}return jc({width:f,height:m,x:h,y:p})}function qc(e,t){const n=Vc(e).scrollLeft;return t?t.left+n:lo(kr(e)).left+n}function S0(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-qc(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function SE(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",c=kr(r),u=t?Hc(t.floating):!1;if(r===c||u&&i)return n;let h={scrollLeft:0,scrollTop:0},p=Nr(1);const f=Nr(0),m=Sr(r);if((m||!m&&!i)&&((_a(r)!=="body"||Ei(c))&&(h=Vc(r)),Sr(r))){const y=lo(r);p=ia(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const v=c&&!m&&!i?S0(c,h):Nr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+f.x+v.x,y:n.y*p.y-h.scrollTop*p.y+f.y+v.y}}function jE(e){return Array.from(e.getClientRects())}function CE(e){const t=kr(e),n=Vc(e),r=e.ownerDocument.body,o=Mn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Mn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+qc(e);const u=-n.scrollTop;return cr(r).direction==="rtl"&&(c+=Mn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:c,y:u}}const cy=25;function kE(e,t){const n=Fn(e),r=kr(e),o=n.visualViewport;let i=r.clientWidth,c=r.clientHeight,u=0,h=0;if(o){i=o.width,c=o.height;const f=Fh();(!f||f&&t==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}const p=qc(r);if(p<=0){const f=r.ownerDocument,m=f.body,v=getComputedStyle(m),y=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-y);w<=cy&&(i-=w)}else p<=cy&&(i+=p);return{width:i,height:c,x:u,y:h}}const EE=new Set(["absolute","fixed"]);function PE(e,t){const n=lo(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Sr(e)?ia(e):Nr(1),c=e.clientWidth*i.x,u=e.clientHeight*i.y,h=o*i.x,p=r*i.y;return{width:c,height:u,x:h,y:p}}function uy(e,t,n){let r;if(t==="viewport")r=kE(e,n);else if(t==="document")r=CE(kr(e));else if(lr(t))r=PE(t,n);else{const o=N0(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return jc(r)}function j0(e,t){const n=Ps(e);return n===t||!lr(n)||ha(n)?!1:cr(n).position==="fixed"||j0(n,t)}function RE(e,t){const n=t.get(e);if(n)return n;let r=_i(e,[],!1).filter(u=>lr(u)&&_a(u)!=="body"),o=null;const i=cr(e).position==="fixed";let c=i?Ps(e):e;for(;lr(c)&&!ha(c);){const u=cr(c),h=Mh(c);!h&&u.position==="fixed"&&(o=null),(i?!h&&!o:!h&&u.position==="static"&&!!o&&EE.has(o.position)||Ei(c)&&!h&&j0(e,c))?r=r.filter(f=>f!==c):o=u,c=Ps(c)}return t.set(e,r),r}function AE(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?Hc(t)?[]:RE(t,this._c):[].concat(n),r],u=c[0],h=c.reduce((p,f)=>{const m=uy(t,f,o);return p.top=Mn(m.top,p.top),p.right=Es(m.right,p.right),p.bottom=Es(m.bottom,p.bottom),p.left=Mn(m.left,p.left),p},uy(t,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function TE(e){const{width:t,height:n}=_0(e);return{width:t,height:n}}function IE(e,t,n){const r=Sr(t),o=kr(t),i=n==="fixed",c=lo(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const h=Nr(0);function p(){h.x=qc(o)}if(r||!r&&!i)if((_a(t)!=="body"||Ei(o))&&(u=Vc(t)),r){const y=lo(t,!0,i,t);h.x=y.x+t.clientLeft,h.y=y.y+t.clientTop}else o&&p();i&&!r&&o&&p();const f=o&&!r&&!i?S0(o,u):Nr(0),m=c.left+u.scrollLeft-h.x-f.x,v=c.top+u.scrollTop-h.y-f.y;return{x:m,y:v,width:c.width,height:c.height}}function ff(e){return cr(e).position==="static"}function dy(e,t){if(!Sr(e)||cr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kr(e)===n&&(n=n.ownerDocument.body),n}function C0(e,t){const n=Fn(e);if(Hc(e))return n;if(!Sr(e)){let o=Ps(e);for(;o&&!ha(o);){if(lr(o)&&!ff(o))return o;o=Ps(o)}return n}let r=dy(e,t);for(;r&&pE(r)&&ff(r);)r=dy(r,t);return r&&ha(r)&&ff(r)&&!Mh(r)?n:r||wE(e)||n}const OE=async function(e){const t=this.getOffsetParent||C0,n=this.getDimensions,r=await n(e.floating);return{reference:IE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DE(e){return cr(e).direction==="rtl"}const ME={convertOffsetParentRelativeRectToViewportRelativeRect:SE,getDocumentElement:kr,getClippingRect:AE,getOffsetParent:C0,getElementRects:OE,getClientRects:jE,getDimensions:TE,getScale:ia,isElement:lr,isRTL:DE};function k0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FE(e,t){let n=null,r;const o=kr(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const p=e.getBoundingClientRect(),{left:f,top:m,width:v,height:y}=p;if(u||t(),!v||!y)return;const w=Jl(m),_=Jl(o.clientWidth-(f+v)),N=Jl(o.clientHeight-(m+y)),C=Jl(f),k={rootMargin:-w+"px "+-_+"px "+-N+"px "+-C+"px",threshold:Mn(0,Es(1,h))||1};let R=!0;function F(T){const B=T[0].intersectionRatio;if(B!==h){if(!R)return c();B?c(!1,B):r=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!k0(p,e.getBoundingClientRect())&&c(),R=!1}try{n=new IntersectionObserver(F,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(F,k)}n.observe(e)}return c(!0),i}function LE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Lh(e),f=o||i?[...p?_i(p):[],..._i(t)]:[];f.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const m=p&&u?FE(p,n):null;let v=-1,y=null;c&&(y=new ResizeObserver(C=>{let[j]=C;j&&j.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(t)})),n()}),p&&!h&&y.observe(p),y.observe(t));let w,_=h?lo(e):null;h&&N();function N(){const C=lo(e);_&&!k0(_,C)&&n(),_=C,w=requestAnimationFrame(N)}return n(),()=>{var C;f.forEach(j=>{o&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),m?.(),(C=y)==null||C.disconnect(),y=null,h&&cancelAnimationFrame(w)}}const BE=cE,$E=uE,UE=aE,zE=fE,WE=iE,fy=oE,HE=dE,VE=(e,t,n)=>{const r=new Map,o={platform:ME,...n},i={...o.platform,_c:r};return sE(e,t,{...o,platform:i})};var qE=typeof document<"u",GE=function(){},lc=qE?b.useLayoutEffect:GE;function Cc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Cc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Cc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function E0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hy(e,t){const n=E0(e);return Math.round(t*n)/n}function hf(e){const t=b.useRef(e);return lc(()=>{t.current=e}),t}function YE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:c}={},transform:u=!0,whileElementsMounted:h,open:p}=e,[f,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=b.useState(r);Cc(v,r)||y(r);const[w,_]=b.useState(null),[N,C]=b.useState(null),j=b.useCallback(D=>{D!==T.current&&(T.current=D,_(D))},[]),k=b.useCallback(D=>{D!==B.current&&(B.current=D,C(D))},[]),R=i||w,F=c||N,T=b.useRef(null),B=b.useRef(null),E=b.useRef(f),I=h!=null,$=hf(h),H=hf(o),V=hf(p),K=b.useCallback(()=>{if(!T.current||!B.current)return;const D={placement:t,strategy:n,middleware:v};H.current&&(D.platform=H.current),VE(T.current,B.current,D).then(z=>{const L={...z,isPositioned:V.current!==!1};W.current&&!Cc(E.current,L)&&(E.current=L,Ci.flushSync(()=>{m(L)}))})},[v,t,n,H,V]);lc(()=>{p===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[p]);const W=b.useRef(!1);lc(()=>(W.current=!0,()=>{W.current=!1}),[]),lc(()=>{if(R&&(T.current=R),F&&(B.current=F),R&&F){if($.current)return $.current(R,F,K);K()}},[R,F,K,$,I]);const Q=b.useMemo(()=>({reference:T,floating:B,setReference:j,setFloating:k}),[j,k]),A=b.useMemo(()=>({reference:R,floating:F}),[R,F]),P=b.useMemo(()=>{const D={position:n,left:0,top:0};if(!A.floating)return D;const z=hy(A.floating,f.x),L=hy(A.floating,f.y);return u?{...D,transform:"translate("+z+"px, "+L+"px)",...E0(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:L}},[n,u,A.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:K,refs:Q,elements:A,floatingStyles:P}),[f,K,Q,A,P])}const KE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fy({element:r.current,padding:o}).fn(n):{}:r?fy({element:r,padding:o}).fn(n):{}}}},QE=(e,t)=>({...BE(e),options:[e,t]}),JE=(e,t)=>({...$E(e),options:[e,t]}),XE=(e,t)=>({...HE(e),options:[e,t]}),ZE=(e,t)=>({...UE(e),options:[e,t]}),e5=(e,t)=>({...zE(e),options:[e,t]}),t5=(e,t)=>({...WE(e),options:[e,t]}),n5=(e,t)=>({...KE(e),options:[e,t]});var r5="Arrow",P0=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return l.jsx(lt.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});P0.displayName=r5;var s5=P0,Bh="Popper",[R0,Gc]=Cr(Bh),[o5,A0]=R0(Bh),T0=e=>{const{__scopePopper:t,children:n}=e,[r,o]=b.useState(null);return l.jsx(o5,{scope:t,anchor:r,onAnchorChange:o,children:n})};T0.displayName=Bh;var I0="PopperAnchor",O0=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=A0(I0,n),c=b.useRef(null),u=Et(t,c),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=r?.current||c.current,p!==h.current&&i.onAnchorChange(h.current)}),r?null:l.jsx(lt.div,{...o,ref:u})});O0.displayName=I0;var $h="PopperContent",[a5,i5]=R0($h),D0=b.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,..._}=e,N=A0($h,n),[C,j]=b.useState(null),k=Et(t,X=>j(X)),[R,F]=b.useState(null),T=Nh(R),B=T?.width??0,E=T?.height??0,I=r+(i!=="center"?"-"+i:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},H=Array.isArray(p)?p:[p],V=H.length>0,K={padding:$,boundary:H.filter(c5),altBoundary:V},{refs:W,floatingStyles:Q,placement:A,isPositioned:P,middlewareData:D}=YE({strategy:"fixed",placement:I,whileElementsMounted:(...X)=>LE(...X,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[QE({mainAxis:o+E,alignmentAxis:c}),h&&JE({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XE():void 0,...K}),h&&ZE({...K}),e5({...K,apply:({elements:X,rects:ae,availableWidth:de,availableHeight:se})=>{const{width:pe,height:je}=ae.reference,et=X.floating.style;et.setProperty("--radix-popper-available-width",`${de}px`),et.setProperty("--radix-popper-available-height",`${se}px`),et.setProperty("--radix-popper-anchor-width",`${pe}px`),et.setProperty("--radix-popper-anchor-height",`${je}px`)}}),R&&n5({element:R,padding:u}),u5({arrowWidth:B,arrowHeight:E}),v&&t5({strategy:"referenceHidden",...K})]}),[z,L]=L0(A),M=Vr(w);Xt(()=>{P&&M?.()},[P,M]);const U=D.arrow?.x,te=D.arrow?.y,J=D.arrow?.centerOffset!==0,[ee,le]=b.useState();return Xt(()=>{C&&le(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:P?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(a5,{scope:n,placedSide:z,onArrowChange:F,arrowX:U,arrowY:te,shouldHideArrow:J,children:l.jsx(lt.div,{"data-side":z,"data-align":L,..._,ref:k,style:{..._.style,animation:P?void 0:"none"}})})})});D0.displayName=$h;var M0="PopperArrow",l5={top:"bottom",right:"left",bottom:"top",left:"right"},F0=b.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=i5(M0,r),c=l5[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(s5,{...o,ref:n,style:{...o.style,display:"block"}})})});F0.displayName=M0;function c5(e){return e!==null}var u5=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[p,f]=L0(n),m={start:"0%",center:"50%",end:"100%"}[f],v=(o.arrow?.x??0)+u/2,y=(o.arrow?.y??0)+h/2;let w="",_="";return p==="bottom"?(w=c?m:`${v}px`,_=`${-h}px`):p==="top"?(w=c?m:`${v}px`,_=`${r.floating.height+h}px`):p==="right"?(w=`${-h}px`,_=c?m:`${y}px`):p==="left"&&(w=`${r.floating.width+h}px`,_=c?m:`${y}px`),{data:{x:w,y:_}}}});function L0(e){const[t,n="center"]=e.split("-");return[t,n]}var B0=T0,Uh=O0,$0=D0,U0=F0,d5="Portal",Yc=b.forwardRef((e,t)=>{const{container:n,...r}=e,[o,i]=b.useState(!1);Xt(()=>i(!0),[]);const c=n||o&&globalThis?.document?.body;return c?Cx.createPortal(l.jsx(lt.div,{...r,ref:t}),c):null});Yc.displayName=d5;var z0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f5="VisuallyHidden",W0=b.forwardRef((e,t)=>l.jsx(lt.span,{...e,ref:t,style:{...z0,...e.style}}));W0.displayName=f5;var h5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zo=new WeakMap,Xl=new WeakMap,Zl={},mf=0,H0=function(e){return e&&(e.host||H0(e.parentNode))},m5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=H0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},p5=function(e,t,n,r){var o=m5(t,Array.isArray(e)?e:[e]);Zl[n]||(Zl[n]=new WeakMap);var i=Zl[n],c=[],u=new Set,h=new Set(o),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};o.forEach(p);var f=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))f(v);else try{var y=v.getAttribute(r),w=y!==null&&y!=="false",_=(Zo.get(v)||0)+1,N=(i.get(v)||0)+1;Zo.set(v,_),i.set(v,N),c.push(v),_===1&&w&&Xl.set(v,!0),N===1&&v.setAttribute(n,"true"),w||v.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return f(t),u.clear(),mf++,function(){c.forEach(function(m){var v=Zo.get(m)-1,y=i.get(m)-1;Zo.set(m,v),i.set(m,y),v||(Xl.has(m)||m.removeAttribute(r),Xl.delete(m)),y||m.removeAttribute(n)}),mf--,mf||(Zo=new WeakMap,Zo=new WeakMap,Xl=new WeakMap,Zl={})}},zh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=h5(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),p5(r,o,n,"aria-hidden")):function(){return null}},ah=function(e,t){return ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ah(e,t)};function g5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ah(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tt=function(){return Tt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tt.apply(this,arguments)};function V0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function v5(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var cc="right-scroll-bar-position",uc="width-before-scroll-bar",y5="with-scroll-bars-hidden",x5="--removed-body-scroll-bar-size";function pf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w5(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var b5=typeof window<"u"?b.useLayoutEffect:b.useEffect,my=new WeakMap;function _5(e,t){var n=w5(null,function(r){return e.forEach(function(o){return pf(o,r)})});return b5(function(){var r=my.get(n);if(r){var o=new Set(r),i=new Set(e),c=n.current;o.forEach(function(u){i.has(u)||pf(u,null)}),i.forEach(function(u){o.has(u)||pf(u,c)})}my.set(n,e)},[e]),n}function N5(e){return e}function S5(e,t){t===void 0&&(t=N5);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(i){for(r=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(i),c=n}var h=function(){var f=c;c=[],f.forEach(i)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(f){c.push(f),p()},filter:function(f){return c=c.filter(f),n}}}};return o}function j5(e){e===void 0&&(e={});var t=S5(null);return t.options=Tt({async:!0,ssr:!1},e),t}var q0=function(e){var t=e.sideCar,n=V0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Tt({},n))};q0.isSideCarExport=!0;function C5(e,t){return e.useMedium(t),q0}var G0=j5(),gf=function(){},Kc=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:gf,onWheelCapture:gf,onTouchMoveCapture:gf}),o=r[0],i=r[1],c=e.forwardProps,u=e.children,h=e.className,p=e.removeScrollBar,f=e.enabled,m=e.shards,v=e.sideCar,y=e.noRelative,w=e.noIsolation,_=e.inert,N=e.allowPinchZoom,C=e.as,j=C===void 0?"div":C,k=e.gapMode,R=V0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=v,T=_5([n,t]),B=Tt(Tt({},R),o);return b.createElement(b.Fragment,null,f&&b.createElement(F,{sideCar:G0,removeScrollBar:p,shards:m,noRelative:y,noIsolation:w,inert:_,setCallbacks:i,allowPinchZoom:!!N,lockRef:n,gapMode:k}),c?b.cloneElement(b.Children.only(u),Tt(Tt({},B),{ref:T})):b.createElement(j,Tt({},B,{className:h,ref:T}),u))});Kc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kc.classNames={fullWidth:uc,zeroRight:cc};var k5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=k5();return t&&e.setAttribute("nonce",t),e}function P5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=E5())&&(P5(t,n),R5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},T5=function(){var e=A5();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Y0=function(){var e=T5(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},I5={left:0,top:0,right:0,gap:0},vf=function(e){return parseInt(e||"",10)||0},O5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[vf(n),vf(r),vf(o)]},D5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return I5;var t=O5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},M5=Y0(),la="data-scroll-locked",F5=function(e,t,n,r){var o=e.left,i=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(y5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(la,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(la,`] {
    `).concat(x5,": ").concat(u,`px;
  }
`)},py=function(){var e=parseInt(document.body.getAttribute(la)||"0",10);return isFinite(e)?e:0},L5=function(){b.useEffect(function(){return document.body.setAttribute(la,(py()+1).toString()),function(){var e=py()-1;e<=0?document.body.removeAttribute(la):document.body.setAttribute(la,e.toString())}},[])},B5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;L5();var i=b.useMemo(function(){return D5(o)},[o]);return b.createElement(M5,{styles:F5(i,!t,o,n?"":"!important")})},ih=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return ih=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{ih=!1}var ea=ih?{passive:!1}:!1,$5=function(e){return e.tagName==="TEXTAREA"},K0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$5(e)&&n[t]==="visible")},U5=function(e){return K0(e,"overflowY")},z5=function(e){return K0(e,"overflowX")},gy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Q0(e,r);if(o){var i=J0(e,r),c=i[1],u=i[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},H5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Q0=function(e,t){return e==="v"?U5(t):z5(t)},J0=function(e,t){return e==="v"?W5(t):H5(t)},V5=function(e,t){return e==="h"&&t==="rtl"?-1:1},q5=function(e,t,n,r,o){var i=V5(e,window.getComputedStyle(t).direction),c=i*r,u=n.target,h=t.contains(u),p=!1,f=c>0,m=0,v=0;do{if(!u)break;var y=J0(e,u),w=y[0],_=y[1],N=y[2],C=_-N-i*w;(w||C)&&Q0(e,u)&&(m+=C,v+=w);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(f&&Math.abs(m)<1||!f&&Math.abs(v)<1)&&(p=!0),p},tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vy=function(e){return[e.deltaX,e.deltaY]},yy=function(e){return e&&"current"in e?e.current:e},G5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Y5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K5=0,ta=[];function Q5(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),o=b.useState(K5++)[0],i=b.useState(Y0)[0],c=b.useRef(e);b.useEffect(function(){c.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var _=v5([e.lockRef.current],(e.shards||[]).map(yy),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var C=tc(_),j=n.current,k="deltaX"in _?_.deltaX:j[0]-C[0],R="deltaY"in _?_.deltaY:j[1]-C[1],F,T=_.target,B=Math.abs(k)>Math.abs(R)?"h":"v";if("touches"in _&&B==="h"&&T.type==="range")return!1;var E=gy(B,T);if(!E)return!0;if(E?F=B:(F=B==="v"?"h":"v",E=gy(B,T)),!E)return!1;if(!r.current&&"changedTouches"in _&&(k||R)&&(r.current=F),!F)return!0;var I=r.current||F;return q5(I,N,_,I==="h"?k:R)},[]),h=b.useCallback(function(_){var N=_;if(!(!ta.length||ta[ta.length-1]!==i)){var C="deltaY"in N?vy(N):tc(N),j=t.current.filter(function(F){return F.name===N.type&&(F.target===N.target||N.target===F.shadowParent)&&G5(F.delta,C)})[0];if(j&&j.should){N.cancelable&&N.preventDefault();return}if(!j){var k=(c.current.shards||[]).map(yy).filter(Boolean).filter(function(F){return F.contains(N.target)}),R=k.length>0?u(N,k[0]):!c.current.noIsolation;R&&N.cancelable&&N.preventDefault()}}},[]),p=b.useCallback(function(_,N,C,j){var k={name:_,delta:N,target:C,should:j,shadowParent:J5(C)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(R){return R!==k})},1)},[]),f=b.useCallback(function(_){n.current=tc(_),r.current=void 0},[]),m=b.useCallback(function(_){p(_.type,vy(_),_.target,u(_,e.lockRef.current))},[]),v=b.useCallback(function(_){p(_.type,tc(_),_.target,u(_,e.lockRef.current))},[]);b.useEffect(function(){return ta.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",h,ea),document.addEventListener("touchmove",h,ea),document.addEventListener("touchstart",f,ea),function(){ta=ta.filter(function(_){return _!==i}),document.removeEventListener("wheel",h,ea),document.removeEventListener("touchmove",h,ea),document.removeEventListener("touchstart",f,ea)}},[]);var y=e.removeScrollBar,w=e.inert;return b.createElement(b.Fragment,null,w?b.createElement(i,{styles:Y5(o)}):null,y?b.createElement(B5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function J5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const X5=C5(G0,Q5);var Qc=b.forwardRef(function(e,t){return b.createElement(Kc,Tt({},e,{ref:t,sideCar:X5}))});Qc.classNames=Kc.classNames;var Z5=[" ","Enter","ArrowUp","ArrowDown"],eP=[" ","Enter"],co="Select",[Jc,Xc,tP]=m0(co),[Na]=Cr(co,[tP,Gc]),Zc=Gc(),[nP,Os]=Na(co),[rP,sP]=Na(co),X0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:c,defaultValue:u,onValueChange:h,dir:p,name:f,autoComplete:m,disabled:v,required:y,form:w}=e,_=Zc(t),[N,C]=b.useState(null),[j,k]=b.useState(null),[R,F]=b.useState(!1),T=Ah(p),[B,E]=ks({prop:r,defaultProp:o??!1,onChange:i,caller:co}),[I,$]=ks({prop:c,defaultProp:u,onChange:h,caller:co}),H=b.useRef(null),V=N?w||!!N.closest("form"):!0,[K,W]=b.useState(new Set),Q=Array.from(K).map(A=>A.props.value).join(";");return l.jsx(B0,{..._,children:l.jsxs(nP,{required:y,scope:t,trigger:N,onTriggerChange:C,valueNode:j,onValueNodeChange:k,valueNodeHasChildren:R,onValueNodeHasChildrenChange:F,contentId:Wr(),value:I,onValueChange:$,open:B,onOpenChange:E,dir:T,triggerPointerDownPosRef:H,disabled:v,children:[l.jsx(Jc.Provider,{scope:t,children:l.jsx(rP,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(A=>{W(P=>new Set(P).add(A))},[]),onNativeOptionRemove:b.useCallback(A=>{W(P=>{const D=new Set(P);return D.delete(A),D})},[]),children:n})}),V?l.jsxs(ww,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:I,onChange:A=>$(A.target.value),disabled:v,form:w,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(K)]},Q):null]})})};X0.displayName=co;var Z0="SelectTrigger",ew=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=Zc(n),c=Os(Z0,n),u=c.disabled||r,h=Et(t,c.onTriggerChange),p=Xc(n),f=b.useRef("touch"),[m,v,y]=_w(_=>{const N=p().filter(k=>!k.disabled),C=N.find(k=>k.value===c.value),j=Nw(N,_,C);j!==void 0&&c.onValueChange(j.value)}),w=_=>{u||(c.onOpenChange(!0),y()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return l.jsx(Uh,{asChild:!0,...i,children:l.jsx(lt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":bw(c.value)?"":void 0,...o,ref:h,onClick:ct(o.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&w(_)}),onPointerDown:ct(o.onPointerDown,_=>{f.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(w(_),_.preventDefault())}),onKeyDown:ct(o.onKeyDown,_=>{const N=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&v(_.key),!(N&&_.key===" ")&&Z5.includes(_.key)&&(w(),_.preventDefault())})})})});ew.displayName=Z0;var tw="SelectValue",nw=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:c="",...u}=e,h=Os(tw,n),{onValueNodeHasChildrenChange:p}=h,f=i!==void 0,m=Et(t,h.onValueNodeChange);return Xt(()=>{p(f)},[p,f]),l.jsx(lt.span,{...u,ref:m,style:{pointerEvents:"none"},children:bw(h.value)?l.jsx(l.Fragment,{children:c}):i})});nw.displayName=tw;var oP="SelectIcon",rw=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return l.jsx(lt.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});rw.displayName=oP;var aP="SelectPortal",sw=e=>l.jsx(Yc,{asChild:!0,...e});sw.displayName=aP;var uo="SelectContent",ow=b.forwardRef((e,t)=>{const n=Os(uo,e.__scopeSelect),[r,o]=b.useState();if(Xt(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Ci.createPortal(l.jsx(aw,{scope:e.__scopeSelect,children:l.jsx(Jc.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(iw,{...e,ref:t})});ow.displayName=uo;var sr=10,[aw,Ds]=Na(uo),iP="SelectContentImpl",lP=oo("SelectContent.RemoveScroll"),iw=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:c,side:u,sideOffset:h,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:_,avoidCollisions:N,...C}=e,j=Os(uo,n),[k,R]=b.useState(null),[F,T]=b.useState(null),B=Et(t,X=>R(X)),[E,I]=b.useState(null),[$,H]=b.useState(null),V=Xc(n),[K,W]=b.useState(!1),Q=b.useRef(!1);b.useEffect(()=>{if(k)return zh(k)},[k]),Th();const A=b.useCallback(X=>{const[ae,...de]=V().map(je=>je.ref.current),[se]=de.slice(-1),pe=document.activeElement;for(const je of X)if(je===pe||(je?.scrollIntoView({block:"nearest"}),je===ae&&F&&(F.scrollTop=0),je===se&&F&&(F.scrollTop=F.scrollHeight),je?.focus(),document.activeElement!==pe))return},[V,F]),P=b.useCallback(()=>A([E,k]),[A,E,k]);b.useEffect(()=>{K&&P()},[K,P]);const{onOpenChange:D,triggerPointerDownPosRef:z}=j;b.useEffect(()=>{if(k){let X={x:0,y:0};const ae=se=>{X={x:Math.abs(Math.round(se.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(se.pageY)-(z.current?.y??0))}},de=se=>{X.x<=10&&X.y<=10?se.preventDefault():k.contains(se.target)||D(!1),document.removeEventListener("pointermove",ae),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",de,{capture:!0})}}},[k,D,z]),b.useEffect(()=>{const X=()=>D(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[D]);const[L,M]=_w(X=>{const ae=V().filter(pe=>!pe.disabled),de=ae.find(pe=>pe.ref.current===document.activeElement),se=Nw(ae,X,de);se&&setTimeout(()=>se.ref.current.focus())}),U=b.useCallback((X,ae,de)=>{const se=!Q.current&&!de;(j.value!==void 0&&j.value===ae||se)&&(I(X),se&&(Q.current=!0))},[j.value]),te=b.useCallback(()=>k?.focus(),[k]),J=b.useCallback((X,ae,de)=>{const se=!Q.current&&!de;(j.value!==void 0&&j.value===ae||se)&&H(X)},[j.value]),ee=r==="popper"?lh:lw,le=ee===lh?{side:u,sideOffset:h,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:_,avoidCollisions:N}:{};return l.jsx(aw,{scope:n,content:k,viewport:F,onViewportChange:T,itemRefCallback:U,selectedItem:E,onItemLeave:te,itemTextRefCallback:J,focusSelectedItem:P,selectedItemText:$,position:r,isPositioned:K,searchRef:L,children:l.jsx(Qc,{as:lP,allowPinchZoom:!0,children:l.jsx(zc,{asChild:!0,trapped:j.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ct(o,X=>{j.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:l.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:l.jsx(ee,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:X=>X.preventDefault(),...C,...le,onPlaced:()=>W(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ct(C.onKeyDown,X=>{const ae=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ae&&X.key.length===1&&M(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let se=V().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const pe=X.target,je=se.indexOf(pe);se=se.slice(je+1)}setTimeout(()=>A(se)),X.preventDefault()}})})})})})})});iw.displayName=iP;var cP="SelectItemAlignedPosition",lw=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Os(uo,n),c=Ds(uo,n),[u,h]=b.useState(null),[p,f]=b.useState(null),m=Et(t,B=>f(B)),v=Xc(n),y=b.useRef(!1),w=b.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:C,focusSelectedItem:j}=c,k=b.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&p&&_&&N&&C){const B=i.trigger.getBoundingClientRect(),E=p.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),$=C.getBoundingClientRect();if(i.dir!=="rtl"){const pe=$.left-E.left,je=I.left-pe,et=B.left-je,ue=B.width+et,q=Math.max(ue,E.width),he=window.innerWidth-sr,ge=Kv(je,[sr,Math.max(sr,he-q)]);u.style.minWidth=ue+"px",u.style.left=ge+"px"}else{const pe=E.right-$.right,je=window.innerWidth-I.right-pe,et=window.innerWidth-B.right-je,ue=B.width+et,q=Math.max(ue,E.width),he=window.innerWidth-sr,ge=Kv(je,[sr,Math.max(sr,he-q)]);u.style.minWidth=ue+"px",u.style.right=ge+"px"}const H=v(),V=window.innerHeight-sr*2,K=_.scrollHeight,W=window.getComputedStyle(p),Q=parseInt(W.borderTopWidth,10),A=parseInt(W.paddingTop,10),P=parseInt(W.borderBottomWidth,10),D=parseInt(W.paddingBottom,10),z=Q+A+K+D+P,L=Math.min(N.offsetHeight*5,z),M=window.getComputedStyle(_),U=parseInt(M.paddingTop,10),te=parseInt(M.paddingBottom,10),J=B.top+B.height/2-sr,ee=V-J,le=N.offsetHeight/2,X=N.offsetTop+le,ae=Q+A+X,de=z-ae;if(ae<=J){const pe=H.length>0&&N===H[H.length-1].ref.current;u.style.bottom="0px";const je=p.clientHeight-_.offsetTop-_.offsetHeight,et=Math.max(ee,le+(pe?te:0)+je+P),ue=ae+et;u.style.height=ue+"px"}else{const pe=H.length>0&&N===H[0].ref.current;u.style.top="0px";const et=Math.max(J,Q+_.offsetTop+(pe?U:0)+le)+de;u.style.height=et+"px",_.scrollTop=ae-J+_.offsetTop}u.style.margin=`${sr}px 0`,u.style.minHeight=L+"px",u.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[v,i.trigger,i.valueNode,u,p,_,N,C,i.dir,r]);Xt(()=>k(),[k]);const[R,F]=b.useState();Xt(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const T=b.useCallback(B=>{B&&w.current===!0&&(k(),j?.(),w.current=!1)},[k,j]);return l.jsx(dP,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(lt.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});lw.displayName=cP;var uP="SelectPopperPosition",lh=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=sr,...i}=e,c=Zc(n);return l.jsx($0,{...c,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lh.displayName=uP;var[dP,Wh]=Na(uo,{}),ch="SelectViewport",cw=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=Ds(ch,n),c=Wh(ch,n),u=Et(t,i.onViewportChange),h=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Jc.Slot,{scope:n,children:l.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ct(o.onScroll,p=>{const f=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=c;if(v?.current&&m){const y=Math.abs(h.current-f.scrollTop);if(y>0){const w=window.innerHeight-sr*2,_=parseFloat(m.style.minHeight),N=parseFloat(m.style.height),C=Math.max(_,N);if(C<w){const j=C+y,k=Math.min(w,j),R=j-k;m.style.height=k+"px",m.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,m.style.justifyContent="flex-end")}}}h.current=f.scrollTop})})})]})});cw.displayName=ch;var uw="SelectGroup",[fP,hP]=Na(uw),mP=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Wr();return l.jsx(fP,{scope:n,id:o,children:l.jsx(lt.div,{role:"group","aria-labelledby":o,...r,ref:t})})});mP.displayName=uw;var dw="SelectLabel",pP=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=hP(dw,n);return l.jsx(lt.div,{id:o.id,...r,ref:t})});pP.displayName=dw;var kc="SelectItem",[gP,fw]=Na(kc),hw=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...c}=e,u=Os(kc,n),h=Ds(kc,n),p=u.value===r,[f,m]=b.useState(i??""),[v,y]=b.useState(!1),w=Et(t,j=>h.itemRefCallback?.(j,r,o)),_=Wr(),N=b.useRef("touch"),C=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(gP,{scope:n,value:r,disabled:o,textId:_,isSelected:p,onItemTextChange:b.useCallback(j=>{m(k=>k||(j?.textContent??"").trim())},[]),children:l.jsx(Jc.ItemSlot,{scope:n,value:r,disabled:o,textValue:f,children:l.jsx(lt.div,{role:"option","aria-labelledby":_,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:w,onFocus:ct(c.onFocus,()=>y(!0)),onBlur:ct(c.onBlur,()=>y(!1)),onClick:ct(c.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:ct(c.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:ct(c.onPointerDown,j=>{N.current=j.pointerType}),onPointerMove:ct(c.onPointerMove,j=>{N.current=j.pointerType,o?h.onItemLeave?.():N.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ct(c.onPointerLeave,j=>{j.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:ct(c.onKeyDown,j=>{h.searchRef?.current!==""&&j.key===" "||(eP.includes(j.key)&&C(),j.key===" "&&j.preventDefault())})})})})});hw.displayName=kc;var mi="SelectItemText",mw=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,c=Os(mi,n),u=Ds(mi,n),h=fw(mi,n),p=sP(mi,n),[f,m]=b.useState(null),v=Et(t,C=>m(C),h.onItemTextChange,C=>u.itemTextRefCallback?.(C,h.value,h.disabled)),y=f?.textContent,w=b.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:y},h.value),[h.disabled,h.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=p;return Xt(()=>(_(w),()=>N(w)),[_,N,w]),l.jsxs(l.Fragment,{children:[l.jsx(lt.span,{id:h.textId,...i,ref:v}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ci.createPortal(i.children,c.valueNode):null]})});mw.displayName=mi;var pw="SelectItemIndicator",gw=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return fw(pw,n).isSelected?l.jsx(lt.span,{"aria-hidden":!0,...r,ref:t}):null});gw.displayName=pw;var uh="SelectScrollUpButton",vw=b.forwardRef((e,t)=>{const n=Ds(uh,e.__scopeSelect),r=Wh(uh,e.__scopeSelect),[o,i]=b.useState(!1),c=Et(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;i(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?l.jsx(xw,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});vw.displayName=uh;var dh="SelectScrollDownButton",yw=b.forwardRef((e,t)=>{const n=Ds(dh,e.__scopeSelect),r=Wh(dh,e.__scopeSelect),[o,i]=b.useState(!1),c=Et(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,f=Math.ceil(h.scrollTop)<p;i(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?l.jsx(xw,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});yw.displayName=dh;var xw=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=Ds("SelectScrollButton",n),c=b.useRef(null),u=Xc(n),h=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),Xt(()=>{u().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),l.jsx(lt.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ct(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:ct(o.onPointerMove,()=>{i.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:ct(o.onPointerLeave,()=>{h()})})}),vP="SelectSeparator",yP=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(lt.div,{"aria-hidden":!0,...r,ref:t})});yP.displayName=vP;var fh="SelectArrow",xP=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Zc(n),i=Os(fh,n),c=Ds(fh,n);return i.open&&c.position==="popper"?l.jsx(U0,{...o,...r,ref:t}):null});xP.displayName=fh;var wP="SelectBubbleInput",ww=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=b.useRef(null),i=Et(r,o),c=_h(t);return b.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==t&&f){const m=new Event("change",{bubbles:!0});f.call(u,t),u.dispatchEvent(m)}},[c,t]),l.jsx(lt.select,{...n,style:{...z0,...n.style},ref:i,defaultValue:t})});ww.displayName=wP;function bw(e){return e===""||e===void 0}function _w(e){const t=Vr(e),n=b.useRef(""),r=b.useRef(0),o=b.useCallback(c=>{const u=n.current+c;t(u),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function Nw(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let c=bP(e,Math.max(i,0));o.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function bP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _P=X0,NP=ew,SP=nw,jP=rw,CP=sw,kP=ow,EP=cw,PP=hw,RP=mw,AP=gw,TP=vw,IP=yw;function Hh({...e}){return l.jsx(_P,{"data-slot":"select",...e})}function Vh({...e}){return l.jsx(SP,{"data-slot":"select-value",...e})}function qh({className:e,size:t="default",children:n,...r}){return l.jsxs(NP,{"data-slot":"select-trigger","data-size":t,className:st("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,l.jsx(jP,{asChild:!0,children:l.jsx(_x,{className:"size-4 opacity-50"})})]})}function Gh({className:e,children:t,position:n="popper",...r}){return l.jsx(CP,{children:l.jsxs(kP,{"data-slot":"select-content",className:st("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[var(--radix-select-content-available-height)] min-w-[8rem] origin-[var(--radix-select-content-transform-origin)] overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(OP,{}),l.jsx(EP,{className:st("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(DP,{})]})})}function Yh({className:e,children:t,...n}){return l.jsxs(PP,{"data-slot":"select-item",className:st("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(AP,{children:l.jsx(io,{className:"size-4"})})}),l.jsx(RP,{children:t})]})}function OP({className:e,...t}){return l.jsx(TP,{"data-slot":"select-scroll-up-button",className:st("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(_N,{className:"size-4"})})}function DP({className:e,...t}){return l.jsx(IP,{"data-slot":"select-scroll-down-button",className:st("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(_x,{className:"size-4"})})}const MP=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];function FP({value:e,onChange:t}){const n=(o,i)=>t({...e,[o]:i}),r="mt-1 h-10 bg-white text-[#1f2b15] border-[0.5px] border-[#d1d5db] px-3 focus:border-black focus:ring-0 focus-visible:ring-4 focus-visible:ring-[#c54a2c]/30 focus-visible:ring-offset-2 focus-visible:ring-offset-white";return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{children:"Street Address"}),l.jsx(St,{className:r,value:e.street,onChange:o=>n("street",o.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"City"}),l.jsx(St,{className:r,value:e.city,onChange:o=>n("city",o.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"State"}),l.jsxs(Hh,{value:e.state,onValueChange:o=>n("state",o),children:[l.jsx(qh,{className:st(r,"[&>span]:truncate"),children:l.jsx(Vh,{placeholder:"State"})}),l.jsx(Gh,{children:MP.map(o=>l.jsxs(Yh,{value:o.code,children:[o.code," - ",o.name]},o.code))})]})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"ZIP/Postal Code"}),l.jsx(St,{className:r,value:e.zipCode,onChange:o=>n("zipCode",o.target.value),required:!0})]})]})}function yt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Bn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yn(e,t){const n=yt(e);return isNaN(t)?Bn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ur(e,t){const n=yt(e);if(isNaN(t))return Bn(e,NaN);if(!t)return n;const r=n.getDate(),o=Bn(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const i=o.getDate();return r>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}const Kh=6048e5,LP=864e5;let BP={};function Pi(){return BP}function jr(e,t){const n=Pi(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=yt(e),i=o.getDay(),c=(i<r?7:0)+i-r;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function fo(e){return jr(e,{weekStartsOn:1})}function Sw(e){const t=yt(e),n=t.getFullYear(),r=Bn(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=fo(r),i=Bn(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=fo(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function ma(e){const t=yt(e);return t.setHours(0,0,0,0),t}function Ec(e){const t=yt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _r(e,t){const n=ma(e),r=ma(t),o=+n-Ec(n),i=+r-Ec(r);return Math.round((o-i)/LP)}function $P(e){const t=Sw(e),n=Bn(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fo(n)}function hh(e,t){const n=t*7;return yn(e,n)}function UP(e,t){return ur(e,t*12)}function zP(e){let t;return e.forEach(function(n){const r=yt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function WP(e){let t;return e.forEach(n=>{const r=yt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function En(e,t){const n=ma(e),r=ma(t);return+n==+r}function Qh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function HP(e){if(!Qh(e)&&typeof e!="number")return!1;const t=yt(e);return!isNaN(Number(t))}function Ni(e,t){const n=yt(e),r=yt(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function VP(e,t,n){const r=jr(e,n),o=jr(t,n),i=+r-Ec(r),c=+o-Ec(o);return Math.round((i-c)/Kh)}function Jh(e){const t=yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Pn(e){const t=yt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jw(e){const t=yt(e),n=Bn(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Xh(e,t){const n=Pi(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=yt(e),i=o.getDay(),c=(i<r?-7:0)+6-(i-r);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}function Cw(e){return Xh(e,{weekStartsOn:1})}const qP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GP=(e,t,n)=>{let r;const o=qP[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function yf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const YP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JP={date:yf({formats:YP,defaultWidth:"full"}),time:yf({formats:KP,defaultWidth:"full"}),dateTime:yf({formats:QP,defaultWidth:"full"})},XP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZP=(e,t,n,r)=>XP[e];function ii(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):c;o=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;o=e.values[u]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const e4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},o4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},i4={ordinalNumber:a4,era:ii({values:e4,defaultWidth:"wide"}),quarter:ii({values:t4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ii({values:n4,defaultWidth:"wide"}),day:ii({values:r4,defaultWidth:"wide"}),dayPeriod:ii({values:s4,defaultWidth:"wide",formattingValues:o4,defaultFormattingWidth:"wide"})};function li(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const c=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(u)?c4(u,m=>m.test(c)):l4(u,m=>m.test(c));let p;p=e.valueCallback?e.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const f=t.slice(c.length);return{value:p,rest:f}}}function l4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function c4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function u4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}const d4=/^(\d+)(th|st|nd|rd)?/i,f4=/\d+/i,h4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m4={any:[/^b/i,/^(a|c)/i]},p4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g4={any:[/1/i,/2/i,/3/i,/4/i]},v4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},x4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N4={ordinalNumber:u4({matchPattern:d4,parsePattern:f4,valueCallback:e=>parseInt(e,10)}),era:li({matchPatterns:h4,defaultMatchWidth:"wide",parsePatterns:m4,defaultParseWidth:"any"}),quarter:li({matchPatterns:p4,defaultMatchWidth:"wide",parsePatterns:g4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:li({matchPatterns:v4,defaultMatchWidth:"wide",parsePatterns:y4,defaultParseWidth:"any"}),day:li({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:w4,defaultParseWidth:"any"}),dayPeriod:li({matchPatterns:b4,defaultMatchWidth:"any",parsePatterns:_4,defaultParseWidth:"any"})},kw={code:"en-US",formatDistance:GP,formatLong:JP,formatRelative:ZP,localize:i4,match:N4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S4(e){const t=yt(e);return _r(t,jw(t))+1}function Ew(e){const t=yt(e),n=+fo(t)-+$P(t);return Math.round(n/Kh)+1}function Pw(e,t){const n=yt(e),r=n.getFullYear(),o=Pi(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=Bn(e,0);c.setFullYear(r+1,0,i),c.setHours(0,0,0,0);const u=jr(c,t),h=Bn(e,0);h.setFullYear(r,0,i),h.setHours(0,0,0,0);const p=jr(h,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function j4(e,t){const n=Pi(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Pw(e,t),i=Bn(e,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),jr(i,t)}function Rw(e,t){const n=yt(e),r=+jr(n,t)-+j4(n,t);return Math.round(r/Kh)+1}function kt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const xs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return kt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):kt(n+1,2)},d(e,t){return kt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return kt(e.getHours()%12||12,t.length)},H(e,t){return kt(e.getHours(),t.length)},m(e,t){return kt(e.getMinutes(),t.length)},s(e,t){return kt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return kt(o,t.length)}},na={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xy={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return xs.y(e,t)},Y:function(e,t,n,r){const o=Pw(e,r),i=o>0?o:1-o;if(t==="YY"){const c=i%100;return kt(c,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):kt(i,t.length)},R:function(e,t){const n=Sw(e);return kt(n,t.length)},u:function(e,t){const n=e.getFullYear();return kt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return xs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Rw(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):kt(o,t.length)},I:function(e,t,n){const r=Ew(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):kt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xs.d(e,t)},D:function(e,t,n){const r=S4(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return kt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=na.noon:r===0?o=na.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=na.evening:r>=12?o=na.afternoon:r>=4?o=na.morning:o=na.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xs.s(e,t)},S:function(e,t){return xs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return by(r);case"XXXX":case"XX":return eo(r);case"XXXXX":case"XXX":default:return eo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return by(r);case"xxxx":case"xx":return eo(r);case"xxxxx":case"xxx":default:return eo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wy(r,":");case"OOOO":default:return"GMT"+eo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wy(r,":");case"zzzz":default:return"GMT"+eo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return kt(r,t.length)},T:function(e,t,n){const r=e.getTime();return kt(r,t.length)}};function wy(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+t+kt(i,2)}function by(e,t){return e%60===0?(e>0?"-":"+")+kt(Math.abs(e)/60,2):eo(e,t)}function eo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=kt(Math.trunc(r/60),2),i=kt(r%60,2);return n+o+t+i}const _y=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Aw=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},C4=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return _y(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",_y(r,t)).replace("{{time}}",Aw(o,t))},k4={p:Aw,P:C4},E4=/^D+$/,P4=/^Y+$/,R4=["D","DD","YY","YYYY"];function A4(e){return E4.test(e)}function T4(e){return P4.test(e)}function I4(e,t,n){const r=O4(e,t,n);if(console.warn(r),R4.includes(e))throw new RangeError(r)}function O4(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const D4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F4=/^'([^]*?)'?$/,L4=/''/g,B4=/[a-zA-Z]/;function vo(e,t,n){const r=Pi(),o=n?.locale??r.locale??kw,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=yt(e);if(!HP(u))throw new RangeError("Invalid time value");let h=t.match(M4).map(f=>{const m=f[0];if(m==="p"||m==="P"){const v=k4[m];return v(f,o.formatLong)}return f}).join("").match(D4).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:$4(f)};if(xy[m])return{isToken:!0,value:f};if(m.match(B4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(h=o.localize.preprocessor(u,h));const p={firstWeekContainsDate:i,weekStartsOn:c,locale:o};return h.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!n?.useAdditionalWeekYearTokens&&T4(m)||!n?.useAdditionalDayOfYearTokens&&A4(m))&&I4(m,t,String(e));const v=xy[m[0]];return v(u,m,o.localize,p)}).join("")}function $4(e){const t=e.match(F4);return t?t[1].replace(L4,"'"):e}function U4(e){const t=yt(e),n=t.getFullYear(),r=t.getMonth(),o=Bn(e,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function z4(e){return Math.trunc(+yt(e)/1e3)}function W4(e){const t=yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function H4(e,t){return VP(W4(e),Pn(e),t)+1}function mh(e,t){const n=yt(e),r=yt(t);return n.getTime()>r.getTime()}function Tw(e,t){const n=yt(e),r=yt(t);return+n<+r}function Zh(e,t){const n=yt(e),r=yt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function V4(e,t){const n=yt(e),r=yt(t);return n.getFullYear()===r.getFullYear()}function xf(e,t){return yn(e,-t)}function wf(e,t){const n=yt(e),r=n.getFullYear(),o=n.getDate(),i=Bn(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const c=U4(i);return n.setMonth(t,Math.min(o,c)),n}function Ny(e,t){const n=yt(e);return isNaN(+n)?Bn(e,NaN):(n.setFullYear(t),n)}var Ze=function(){return Ze=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ze.apply(this,arguments)};function q4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Iw(e,t,n){for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Ri(e){return e.mode==="multiple"}function Ai(e){return e.mode==="range"}function eu(e){return e.mode==="single"}var G4={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Y4(e,t){return vo(e,"LLLL y",t)}function K4(e,t){return vo(e,"d",t)}function Q4(e,t){return vo(e,"LLLL",t)}function J4(e){return"".concat(e)}function X4(e,t){return vo(e,"cccccc",t)}function Z4(e,t){return vo(e,"yyyy",t)}var eR=Object.freeze({__proto__:null,formatCaption:Y4,formatDay:K4,formatMonthCaption:Q4,formatWeekNumber:J4,formatWeekdayName:X4,formatYearCaption:Z4}),tR=function(e,t,n){return vo(e,"do MMMM (EEEE)",n)},nR=function(){return"Month: "},rR=function(){return"Go to next month"},sR=function(){return"Go to previous month"},oR=function(e,t){return vo(e,"cccc",t)},aR=function(e){return"Week n. ".concat(e)},iR=function(){return"Year: "},lR=Object.freeze({__proto__:null,labelDay:tR,labelMonthDropdown:nR,labelNext:rR,labelPrevious:sR,labelWeekNumber:aR,labelWeekday:oR,labelYearDropdown:iR});function cR(){var e="buttons",t=G4,n=kw,r={},o={},i=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:eR,labels:lR,locale:n,modifiersClassNames:r,modifiers:o,numberOfMonths:i,styles:c,today:u,mode:"default"}}function uR(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,o=e.toMonth,i=e.fromDate,c=e.toDate;return r?i=Pn(r):t&&(i=new Date(t,0,1)),o?c=Jh(o):n&&(c=new Date(n,11,31)),{fromDate:i?ma(i):void 0,toDate:c?ma(c):void 0}}var Ow=b.createContext(void 0);function dR(e){var t,n=e.initialProps,r=cR(),o=uR(n),i=o.fromDate,c=o.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!i||!c)&&(u="buttons");var h;(eu(n)||Ri(n)||Ai(n))&&(h=n.onSelect);var p=Ze(Ze(Ze({},r),n),{captionLayout:u,classNames:Ze(Ze({},r.classNames),n.classNames),components:Ze({},n.components),formatters:Ze(Ze({},r.formatters),n.formatters),fromDate:i,labels:Ze(Ze({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ze(Ze({},r.modifiers),n.modifiers),modifiersClassNames:Ze(Ze({},r.modifiersClassNames),n.modifiersClassNames),onSelect:h,styles:Ze(Ze({},r.styles),n.styles),toDate:c});return l.jsx(Ow.Provider,{value:p,children:e.children})}function It(){var e=b.useContext(Ow);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Dw(e){var t=It(),n=t.locale,r=t.classNames,o=t.styles,i=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function fR(e){return l.jsx("svg",Ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mw(e){var t,n,r=e.onChange,o=e.value,i=e.children,c=e.caption,u=e.className,h=e.style,p=It(),f=(n=(t=p.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:fR;return l.jsxs("div",{className:u,style:h,children:[l.jsx("span",{className:p.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:o,onChange:r,children:i}),l.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[c,l.jsx(f,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function hR(e){var t,n=It(),r=n.fromDate,o=n.toDate,i=n.styles,c=n.locale,u=n.formatters.formatMonthCaption,h=n.classNames,p=n.components,f=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});var m=[];if(V4(r,o))for(var v=Pn(r),y=r.getMonth();y<=o.getMonth();y++)m.push(wf(v,y));else for(var v=Pn(new Date),y=0;y<=11;y++)m.push(wf(v,y));var w=function(N){var C=Number(N.target.value),j=wf(Pn(e.displayMonth),C);e.onChange(j)},_=(t=p?.Dropdown)!==null&&t!==void 0?t:Mw;return l.jsx(_,{name:"months","aria-label":f(),className:h.dropdown_month,style:i.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:m.map(function(N){return l.jsx("option",{value:N.getMonth(),children:u(N,{locale:c})},N.getMonth())})})}function mR(e){var t,n=e.displayMonth,r=It(),o=r.fromDate,i=r.toDate,c=r.locale,u=r.styles,h=r.classNames,p=r.components,f=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,v=[];if(!o)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var y=o.getFullYear(),w=i.getFullYear(),_=y;_<=w;_++)v.push(Ny(jw(new Date),_));var N=function(j){var k=Ny(Pn(n),Number(j.target.value));e.onChange(k)},C=(t=p?.Dropdown)!==null&&t!==void 0?t:Mw;return l.jsx(C,{name:"years","aria-label":m(),className:h.dropdown_year,style:u.dropdown_year,onChange:N,value:n.getFullYear(),caption:f(n,{locale:c}),children:v.map(function(j){return l.jsx("option",{value:j.getFullYear(),children:f(j,{locale:c})},j.getFullYear())})})}function pR(e,t){var n=b.useState(e),r=n[0],o=n[1],i=t===void 0?r:t;return[i,o]}function gR(e){var t=e.month,n=e.defaultMonth,r=e.today,o=t||n||r||new Date,i=e.toDate,c=e.fromDate,u=e.numberOfMonths,h=u===void 0?1:u;if(i&&Ni(i,o)<0){var p=-1*(h-1);o=ur(i,p)}return c&&Ni(o,c)<0&&(o=c),Pn(o)}function vR(){var e=It(),t=gR(e),n=pR(t,e.month),r=n[0],o=n[1],i=function(c){var u;if(!e.disableNavigation){var h=Pn(c);o(h),(u=e.onMonthChange)===null||u===void 0||u.call(e,h)}};return[r,i]}function yR(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,o=Pn(e),i=Pn(ur(o,r)),c=Ni(i,o),u=[],h=0;h<c;h++){var p=ur(o,h);u.push(p)}return n&&(u=u.reverse()),u}function xR(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,c=r?i:1,u=Pn(e);if(!n)return ur(u,c);var h=Ni(n,e);if(!(h<i))return ur(u,c)}}function wR(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,c=r?i:1,u=Pn(e);if(!n)return ur(u,-c);var h=Ni(u,n);if(!(h<=0))return ur(u,-c)}}var Fw=b.createContext(void 0);function bR(e){var t=It(),n=vR(),r=n[0],o=n[1],i=yR(r,t),c=xR(r,t),u=wR(r,t),h=function(m){return i.some(function(v){return Zh(m,v)})},p=function(m,v){h(m)||(v&&Tw(m,v)?o(ur(m,1+t.numberOfMonths*-1)):o(m))},f={currentMonth:r,displayMonths:i,goToMonth:o,goToDate:p,previousMonth:u,nextMonth:c,isDateDisplayed:h};return l.jsx(Fw.Provider,{value:f,children:e.children})}function Ti(){var e=b.useContext(Fw);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Sy(e){var t,n=It(),r=n.classNames,o=n.styles,i=n.components,c=Ti().goToMonth,u=function(f){c(ur(f,e.displayIndex?-e.displayIndex:0))},h=(t=i?.CaptionLabel)!==null&&t!==void 0?t:Dw,p=l.jsx(h,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:o.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:p}),l.jsx(hR,{onChange:u,displayMonth:e.displayMonth}),l.jsx(mR,{onChange:u,displayMonth:e.displayMonth})]})}function _R(e){return l.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NR(e){return l.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Pc=b.forwardRef(function(e,t){var n=It(),r=n.classNames,o=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var c=i.join(" "),u=Ze(Ze({},o.button_reset),o.button);return e.style&&Object.assign(u,e.style),l.jsx("button",Ze({},e,{ref:t,type:"button",className:c,style:u}))});function SR(e){var t,n,r=It(),o=r.dir,i=r.locale,c=r.classNames,u=r.styles,h=r.labels,p=h.labelPrevious,f=h.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var v=p(e.previousMonth,{locale:i}),y=[c.nav_button,c.nav_button_previous].join(" "),w=f(e.nextMonth,{locale:i}),_=[c.nav_button,c.nav_button_next].join(" "),N=(t=m?.IconRight)!==null&&t!==void 0?t:NR,C=(n=m?.IconLeft)!==null&&n!==void 0?n:_R;return l.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&l.jsx(Pc,{name:"previous-month","aria-label":v,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?l.jsx(N,{className:c.nav_icon,style:u.nav_icon}):l.jsx(C,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&l.jsx(Pc,{name:"next-month","aria-label":w,className:_,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?l.jsx(C,{className:c.nav_icon,style:u.nav_icon}):l.jsx(N,{className:c.nav_icon,style:u.nav_icon})})]})}function jy(e){var t=It().numberOfMonths,n=Ti(),r=n.previousMonth,o=n.nextMonth,i=n.goToMonth,c=n.displayMonths,u=c.findIndex(function(w){return Zh(e.displayMonth,w)}),h=u===0,p=u===c.length-1,f=t>1&&(h||!p),m=t>1&&(p||!h),v=function(){r&&i(r)},y=function(){o&&i(o)};return l.jsx(SR,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:o,previousMonth:r,onPreviousClick:v,onNextClick:y})}function jR(e){var t,n=It(),r=n.classNames,o=n.disableNavigation,i=n.styles,c=n.captionLayout,u=n.components,h=(t=u?.CaptionLabel)!==null&&t!==void 0?t:Dw,p;return o?p=l.jsx(h,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?p=l.jsx(Sy,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?p=l.jsxs(l.Fragment,{children:[l.jsx(Sy,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(jy,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):p=l.jsxs(l.Fragment,{children:[l.jsx(h,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(jy,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:i.caption,children:p})}function CR(e){var t=It(),n=t.footer,r=t.styles,o=t.classNames.tfoot;return n?l.jsx("tfoot",{className:o,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function kR(e,t,n){for(var r=n?fo(new Date):jr(new Date,{locale:e,weekStartsOn:t}),o=[],i=0;i<7;i++){var c=yn(r,i);o.push(c)}return o}function ER(){var e=It(),t=e.classNames,n=e.styles,r=e.showWeekNumber,o=e.locale,i=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,h=e.labels.labelWeekday,p=kR(o,i,c);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),p.map(function(f,m){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":h(f,{locale:o}),children:u(f,{locale:o})},m)})]})}function PR(){var e,t=It(),n=t.classNames,r=t.styles,o=t.components,i=(e=o?.HeadRow)!==null&&e!==void 0?e:ER;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(i,{})})}function RR(e){var t=It(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var em=b.createContext(void 0);function AR(e){if(!Ri(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(em.Provider,{value:t,children:e.children})}return l.jsx(TR,{initialProps:e.initialProps,children:e.children})}function TR(e){var t=e.initialProps,n=e.children,r=t.selected,o=t.min,i=t.max,c=function(p,f,m){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,p,f,m);var w=!!(f.selected&&o&&r?.length===o);if(!w){var _=!!(!f.selected&&i&&r?.length===i);if(!_){var N=r?Iw([],r):[];if(f.selected){var C=N.findIndex(function(j){return En(p,j)});N.splice(C,1)}else N.push(p);(y=t.onSelect)===null||y===void 0||y.call(t,N,p,f,m)}}},u={disabled:[]};r&&u.disabled.push(function(p){var f=i&&r.length>i-1,m=r.some(function(v){return En(v,p)});return!!(f&&!m)});var h={selected:r,onDayClick:c,modifiers:u};return l.jsx(em.Provider,{value:h,children:n})}function tm(){var e=b.useContext(em);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function IR(e,t){var n=t||{},r=n.from,o=n.to;return r&&o?En(o,e)&&En(r,e)?void 0:En(o,e)?{from:o,to:void 0}:En(r,e)?void 0:mh(r,e)?{from:e,to:o}:{from:r,to:e}:o?mh(e,o)?{from:o,to:e}:{from:e,to:o}:r?Tw(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var nm=b.createContext(void 0);function OR(e){if(!Ai(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(nm.Provider,{value:t,children:e.children})}return l.jsx(DR,{initialProps:e.initialProps,children:e.children})}function DR(e){var t=e.initialProps,n=e.children,r=t.selected,o=r||{},i=o.from,c=o.to,u=t.min,h=t.max,p=function(y,w,_){var N,C;(N=t.onDayClick)===null||N===void 0||N.call(t,y,w,_);var j=IR(y,r);(C=t.onSelect)===null||C===void 0||C.call(t,j,y,w,_)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],c?(f.range_end=[c],En(i,c)||(f.range_middle=[{after:i,before:c}])):f.range_end=[i]):c&&(f.range_start=[c],f.range_end=[c]),u&&(i&&!c&&f.disabled.push({after:xf(i,u-1),before:yn(i,u-1)}),i&&c&&f.disabled.push({after:i,before:yn(i,u-1)}),!i&&c&&f.disabled.push({after:xf(c,u-1),before:yn(c,u-1)})),h){if(i&&!c&&(f.disabled.push({before:yn(i,-h+1)}),f.disabled.push({after:yn(i,h-1)})),i&&c){var m=_r(c,i)+1,v=h-m;f.disabled.push({before:xf(i,v)}),f.disabled.push({after:yn(c,v)})}!i&&c&&(f.disabled.push({before:yn(c,-h+1)}),f.disabled.push({after:yn(c,h-1)}))}return l.jsx(nm.Provider,{value:{selected:r,onDayClick:p,modifiers:f},children:n})}function rm(){var e=b.useContext(nm);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function dc(e){return Array.isArray(e)?Iw([],e):e!==void 0?[e]:[]}function MR(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],o=n[1];t[r]=dc(o)}),t}var dr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(dr||(dr={}));var FR=dr.Selected,Lr=dr.Disabled,LR=dr.Hidden,BR=dr.Today,bf=dr.RangeEnd,_f=dr.RangeMiddle,Nf=dr.RangeStart,$R=dr.Outside;function UR(e,t,n){var r,o=(r={},r[FR]=dc(e.selected),r[Lr]=dc(e.disabled),r[LR]=dc(e.hidden),r[BR]=[e.today],r[bf]=[],r[_f]=[],r[Nf]=[],r[$R]=[],r);return e.fromDate&&o[Lr].push({before:e.fromDate}),e.toDate&&o[Lr].push({after:e.toDate}),Ri(e)?o[Lr]=o[Lr].concat(t.modifiers[Lr]):Ai(e)&&(o[Lr]=o[Lr].concat(n.modifiers[Lr]),o[Nf]=n.modifiers[Nf],o[_f]=n.modifiers[_f],o[bf]=n.modifiers[bf]),o}var Lw=b.createContext(void 0);function zR(e){var t=It(),n=tm(),r=rm(),o=UR(t,n,r),i=MR(t.modifiers),c=Ze(Ze({},o),i);return l.jsx(Lw.Provider,{value:c,children:e.children})}function Bw(){var e=b.useContext(Lw);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function WR(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function HR(e){return!!(e&&typeof e=="object"&&"from"in e)}function VR(e){return!!(e&&typeof e=="object"&&"after"in e)}function qR(e){return!!(e&&typeof e=="object"&&"before"in e)}function GR(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function YR(e,t){var n,r=t.from,o=t.to;if(r&&o){var i=_r(o,r)<0;i&&(n=[o,r],r=n[0],o=n[1]);var c=_r(e,r)>=0&&_r(o,e)>=0;return c}return o?En(o,e):r?En(r,e):!1}function KR(e){return Qh(e)}function QR(e){return Array.isArray(e)&&e.every(Qh)}function JR(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(KR(n))return En(e,n);if(QR(n))return n.includes(e);if(HR(n))return YR(e,n);if(GR(n))return n.dayOfWeek.includes(e.getDay());if(WR(n)){var r=_r(n.before,e),o=_r(n.after,e),i=r>0,c=o<0,u=mh(n.before,n.after);return u?c&&i:i||c}return VR(n)?_r(e,n.after)>0:qR(n)?_r(n.before,e)>0:typeof n=="function"?n(e):!1})}function sm(e,t,n){var r=Object.keys(t).reduce(function(i,c){var u=t[c];return JR(e,u)&&i.push(c),i},[]),o={};return r.forEach(function(i){return o[i]=!0}),n&&!Zh(e,n)&&(o.outside=!0),o}function XR(e,t){for(var n=Pn(e[0]),r=Jh(e[e.length-1]),o,i,c=n;c<=r;){var u=sm(c,t),h=!u.disabled&&!u.hidden;if(!h){c=yn(c,1);continue}if(u.selected)return c;u.today&&!i&&(i=c),o||(o=c),c=yn(c,1)}return i||o}var ZR=365;function $w(e,t){var n=t.moveBy,r=t.direction,o=t.context,i=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,h=o.weekStartsOn,p=o.fromDate,f=o.toDate,m=o.locale,v={day:yn,week:hh,month:ur,year:UP,startOfWeek:function(N){return o.ISOWeek?fo(N):jr(N,{locale:m,weekStartsOn:h})},endOfWeek:function(N){return o.ISOWeek?Cw(N):Xh(N,{locale:m,weekStartsOn:h})}},y=v[n](e,r==="after"?1:-1);r==="before"&&p?y=zP([p,y]):r==="after"&&f&&(y=WP([f,y]));var w=!0;if(i){var _=sm(y,i);w=!_.disabled&&!_.hidden}return w?y:u.count>ZR?u.lastFocused:$w(y,{moveBy:n,direction:r,context:o,modifiers:i,retry:Ze(Ze({},u),{count:u.count+1})})}var Uw=b.createContext(void 0);function eA(e){var t=Ti(),n=Bw(),r=b.useState(),o=r[0],i=r[1],c=b.useState(),u=c[0],h=c[1],p=XR(t.displayMonths,n),f=o??(u&&t.isDateDisplayed(u))?u:p,m=function(){h(o),i(void 0)},v=function(N){i(N)},y=It(),w=function(N,C){if(o){var j=$w(o,{moveBy:N,direction:C,context:y,modifiers:n});En(o,j)||(t.goToDate(j,o),v(j))}},_={focusedDay:o,focusTarget:f,blur:m,focus:v,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(Uw.Provider,{value:_,children:e.children})}function om(){var e=b.useContext(Uw);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function tA(e,t){var n=Bw(),r=sm(e,n,t);return r}var am=b.createContext(void 0);function nA(e){if(!eu(e.initialProps)){var t={selected:void 0};return l.jsx(am.Provider,{value:t,children:e.children})}return l.jsx(rA,{initialProps:e.initialProps,children:e.children})}function rA(e){var t=e.initialProps,n=e.children,r=function(i,c,u){var h,p,f;if((h=t.onDayClick)===null||h===void 0||h.call(t,i,c,u),c.selected&&!t.required){(p=t.onSelect)===null||p===void 0||p.call(t,void 0,i,c,u);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,c,u)},o={selected:t.selected,onDayClick:r};return l.jsx(am.Provider,{value:o,children:n})}function zw(){var e=b.useContext(am);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function sA(e,t){var n=It(),r=zw(),o=tm(),i=rm(),c=om(),u=c.focusDayAfter,h=c.focusDayBefore,p=c.focusWeekAfter,f=c.focusWeekBefore,m=c.blur,v=c.focus,y=c.focusMonthBefore,w=c.focusMonthAfter,_=c.focusYearBefore,N=c.focusYearAfter,C=c.focusStartOfWeek,j=c.focusEndOfWeek,k=function(P){var D,z,L,M;eu(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,P):Ri(n)?(z=o.onDayClick)===null||z===void 0||z.call(o,e,t,P):Ai(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,P):(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,P)},R=function(P){var D;v(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,P)},F=function(P){var D;m(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,P)},T=function(P){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,P)},B=function(P){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,P)},E=function(P){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,P)},I=function(P){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,P)},$=function(P){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,P)},H=function(P){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,P)},V=function(P){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,P)},K=function(P){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,P)},W=function(P){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,P)},Q=function(P){var D;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?u():h();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?h():u();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),p();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),f();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?_():y();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?N():w();break;case"Home":P.preventDefault(),P.stopPropagation(),C();break;case"End":P.preventDefault(),P.stopPropagation(),j();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,P)},A={onClick:k,onFocus:R,onBlur:F,onKeyDown:Q,onKeyUp:W,onMouseEnter:T,onMouseLeave:B,onPointerEnter:E,onPointerLeave:I,onTouchCancel:$,onTouchEnd:H,onTouchMove:V,onTouchStart:K};return A}function oA(){var e=It(),t=zw(),n=tm(),r=rm(),o=eu(e)?t.selected:Ri(e)?n.selected:Ai(e)?r.selected:void 0;return o}function aA(e){return Object.values(dr).includes(e)}function iA(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var o=e.modifiersClassNames[r];if(o)n.push(o);else if(aA(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function lA(e,t){var n=Ze({},e.styles.day);return Object.keys(t).forEach(function(r){var o;n=Ze(Ze({},n),(o=e.modifiersStyles)===null||o===void 0?void 0:o[r])}),n}function cA(e,t,n){var r,o,i,c=It(),u=om(),h=tA(e,t),p=sA(e,h),f=oA(),m=!!(c.onDayClick||c.mode!=="default");b.useEffect(function(){var T;h.outside||u.focusedDay&&m&&En(u.focusedDay,e)&&((T=n.current)===null||T===void 0||T.focus())},[u.focusedDay,e,n,m,h.outside]);var v=iA(c,h).join(" "),y=lA(c,h),w=!!(h.outside&&!c.showOutsideDays||h.hidden),_=(i=(o=c.components)===null||o===void 0?void 0:o.DayContent)!==null&&i!==void 0?i:RR,N=l.jsx(_,{date:e,displayMonth:t,activeModifiers:h}),C={style:y,className:v,children:N,role:"gridcell"},j=u.focusTarget&&En(u.focusTarget,e)&&!h.outside,k=u.focusedDay&&En(u.focusedDay,e),R=Ze(Ze(Ze({},C),(r={disabled:h.disabled,role:"gridcell"},r["aria-selected"]=h.selected,r.tabIndex=k||j?0:-1,r)),p),F={isButton:m,isHidden:w,activeModifiers:h,selectedDays:f,buttonProps:R,divProps:C};return F}function uA(e){var t=b.useRef(null),n=cA(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(Pc,Ze({name:"day",ref:t},n.buttonProps)):l.jsx("div",Ze({},n.divProps))}function dA(e){var t=e.number,n=e.dates,r=It(),o=r.onWeekNumberClick,i=r.styles,c=r.classNames,u=r.locale,h=r.labels.labelWeekNumber,p=r.formatters.formatWeekNumber,f=p(Number(t),{locale:u});if(!o)return l.jsx("span",{className:c.weeknumber,style:i.weeknumber,children:f});var m=h(Number(t),{locale:u}),v=function(y){o(t,n,y)};return l.jsx(Pc,{name:"week-number","aria-label":m,className:c.weeknumber,style:i.weeknumber,onClick:v,children:f})}function fA(e){var t,n,r=It(),o=r.styles,i=r.classNames,c=r.showWeekNumber,u=r.components,h=(t=u?.Day)!==null&&t!==void 0?t:uA,p=(n=u?.WeekNumber)!==null&&n!==void 0?n:dA,f;return c&&(f=l.jsx("td",{className:i.cell,style:o.cell,children:l.jsx(p,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:o.row,children:[f,e.dates.map(function(m){return l.jsx("td",{className:i.cell,style:o.cell,role:"presentation",children:l.jsx(h,{displayMonth:e.displayMonth,date:m})},z4(m))})]})}function Cy(e,t,n){for(var r=n?.ISOWeek?Cw(t):Xh(t,n),o=n?.ISOWeek?fo(e):jr(e,n),i=_r(r,o),c=[],u=0;u<=i;u++)c.push(yn(o,u));var h=c.reduce(function(p,f){var m=n?.ISOWeek?Ew(f):Rw(f,n),v=p.find(function(y){return y.weekNumber===m});return v?(v.dates.push(f),p):(p.push({weekNumber:m,dates:[f]}),p)},[]);return h}function hA(e,t){var n=Cy(Pn(e),Jh(e),t);if(t?.useFixedWeeks){var r=H4(e,t);if(r<6){var o=n[n.length-1],i=o.dates[o.dates.length-1],c=hh(i,6-r),u=Cy(hh(i,1),c,t);n.push.apply(n,u)}}return n}function mA(e){var t,n,r,o=It(),i=o.locale,c=o.classNames,u=o.styles,h=o.hideHead,p=o.fixedWeeks,f=o.components,m=o.weekStartsOn,v=o.firstWeekContainsDate,y=o.ISOWeek,w=hA(e.displayMonth,{useFixedWeeks:!!p,ISOWeek:y,locale:i,weekStartsOn:m,firstWeekContainsDate:v}),_=(t=f?.Head)!==null&&t!==void 0?t:PR,N=(n=f?.Row)!==null&&n!==void 0?n:fA,C=(r=f?.Footer)!==null&&r!==void 0?r:CR;return l.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!h&&l.jsx(_,{}),l.jsx("tbody",{className:c.tbody,style:u.tbody,children:w.map(function(j){return l.jsx(N,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),l.jsx(C,{displayMonth:e.displayMonth})]})}function pA(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gA=pA()?b.useLayoutEffect:b.useEffect,Sf=!1,vA=0;function ky(){return"react-day-picker-".concat(++vA)}function yA(e){var t,n=e??(Sf?ky():null),r=b.useState(n),o=r[0],i=r[1];return gA(function(){o===null&&i(ky())},[]),b.useEffect(function(){Sf===!1&&(Sf=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function xA(e){var t,n,r=It(),o=r.dir,i=r.classNames,c=r.styles,u=r.components,h=Ti().displayMonths,p=yA(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],v=c.month,y=e.displayIndex===0,w=e.displayIndex===h.length-1,_=!y&&!w;o==="rtl"&&(t=[y,w],w=t[0],y=t[1]),y&&(m.push(i.caption_start),v=Ze(Ze({},v),c.caption_start)),w&&(m.push(i.caption_end),v=Ze(Ze({},v),c.caption_end)),_&&(m.push(i.caption_between),v=Ze(Ze({},v),c.caption_between));var N=(n=u?.Caption)!==null&&n!==void 0?n:jR;return l.jsxs("div",{className:m.join(" "),style:v,children:[l.jsx(N,{id:p,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(mA,{id:f,"aria-labelledby":p,displayMonth:e.displayMonth})]},e.displayIndex)}function wA(e){var t=It(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function bA(e){var t,n,r=e.initialProps,o=It(),i=om(),c=Ti(),u=b.useState(!1),h=u[0],p=u[1];b.useEffect(function(){o.initialFocus&&i.focusTarget&&(h||(i.focus(i.focusTarget),p(!0)))},[o.initialFocus,h,i.focus,i.focusTarget,i]);var f=[o.classNames.root,o.className];o.numberOfMonths>1&&f.push(o.classNames.multiple_months),o.showWeekNumber&&f.push(o.classNames.with_weeknumber);var m=Ze(Ze({},o.styles.root),o.style),v=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,_){var N;return Ze(Ze({},w),(N={},N[_]=r[_],N))},{}),y=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:wA;return l.jsx("div",Ze({className:f.join(" "),style:m,dir:o.dir,id:o.id,nonce:r.nonce,title:r.title,lang:r.lang},v,{children:l.jsx(y,{children:c.displayMonths.map(function(w,_){return l.jsx(xA,{displayIndex:_,displayMonth:w},_)})})}))}function _A(e){var t=e.children,n=q4(e,["children"]);return l.jsx(dR,{initialProps:n,children:l.jsx(bR,{children:l.jsx(nA,{initialProps:n,children:l.jsx(AR,{initialProps:n,children:l.jsx(OR,{initialProps:n,children:l.jsx(zR,{children:l.jsx(eA,{children:t})})})})})})})}function NA(e){return l.jsx(_A,Ze({},e,{children:l.jsx(bA,{initialProps:e})}))}function SA({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(NA,{showOutsideDays:n,className:st("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:st(zf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:st("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:st(zf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:o,...i})=>l.jsx(Oc,{className:st("size-4",o),...i}),IconRight:({className:o,...i})=>l.jsx(Dc,{className:st("size-4",o),...i})},...r})}var tu="Popover",[Ww]=Cr(tu,[Gc]),Ii=Gc(),[jA,Ms]=Ww(tu),Hw=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:c=!1}=e,u=Ii(t),h=b.useRef(null),[p,f]=b.useState(!1),[m,v]=ks({prop:r,defaultProp:o??!1,onChange:i,caller:tu});return l.jsx(B0,{...u,children:l.jsx(jA,{scope:t,contentId:Wr(),triggerRef:h,open:m,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:p,onCustomAnchorAdd:b.useCallback(()=>f(!0),[]),onCustomAnchorRemove:b.useCallback(()=>f(!1),[]),modal:c,children:n})})};Hw.displayName=tu;var Vw="PopoverAnchor",CA=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ms(Vw,n),i=Ii(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return b.useEffect(()=>(c(),()=>u()),[c,u]),l.jsx(Uh,{...i,...r,ref:t})});CA.displayName=Vw;var qw="PopoverTrigger",Gw=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ms(qw,n),i=Ii(n),c=Et(t,o.triggerRef),u=l.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Xw(o.open),...r,ref:c,onClick:ct(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:l.jsx(Uh,{asChild:!0,...i,children:u})});Gw.displayName=qw;var im="PopoverPortal",[kA,EA]=Ww(im,{forceMount:void 0}),Yw=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Ms(im,t);return l.jsx(kA,{scope:t,forceMount:n,children:l.jsx(As,{present:n||i.open,children:l.jsx(Yc,{asChild:!0,container:o,children:r})})})};Yw.displayName=im;var pa="PopoverContent",Kw=b.forwardRef((e,t)=>{const n=EA(pa,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Ms(pa,e.__scopePopover);return l.jsx(As,{present:r||i.open,children:i.modal?l.jsx(RA,{...o,ref:t}):l.jsx(AA,{...o,ref:t})})});Kw.displayName=pa;var PA=oo("PopoverContent.RemoveScroll"),RA=b.forwardRef((e,t)=>{const n=Ms(pa,e.__scopePopover),r=b.useRef(null),o=Et(t,r),i=b.useRef(!1);return b.useEffect(()=>{const c=r.current;if(c)return zh(c)},[]),l.jsx(Qc,{as:PA,allowPinchZoom:!0,children:l.jsx(Qw,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(e.onCloseAutoFocus,c=>{c.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ct(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;i.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:ct(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),AA=b.forwardRef((e,t)=>{const n=Ms(pa,e.__scopePopover),r=b.useRef(!1),o=b.useRef(!1);return l.jsx(Qw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=i.target;n.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Qw=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,...m}=e,v=Ms(pa,n),y=Ii(n);return Th(),l.jsx(zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:l.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>v.onOpenChange(!1),children:l.jsx($0,{"data-state":Xw(v.open),role:"dialog",id:v.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jw="PopoverClose",TA=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ms(Jw,n);return l.jsx(lt.button,{type:"button",...r,ref:t,onClick:ct(e.onClick,()=>o.onOpenChange(!1))})});TA.displayName=Jw;var IA="PopoverArrow",OA=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ii(n);return l.jsx(U0,{...o,...r,ref:t})});OA.displayName=IA;function Xw(e){return e?"open":"closed"}var DA=Hw,MA=Gw,FA=Yw,LA=Kw;function Ey({...e}){return l.jsx(DA,{"data-slot":"popover",...e})}function Py({...e}){return l.jsx(MA,{"data-slot":"popover-trigger",...e})}function Ry({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(FA,{children:l.jsx(LA,{"data-slot":"popover-content",align:t,sideOffset:n,className:st("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const Zw={weekday:"long",year:"numeric",month:"long",day:"numeric"},BA={year:"numeric",month:"short",day:"numeric"},$A=e=>{if(!e)return null;const[t,n,r]=e.split("-"),o=Number(t),i=Number(n),c=Number(r);return Number.isNaN(o)||Number.isNaN(i)||Number.isNaN(c)?null:new Date(o,i-1,c)},Ay=(e,t=Zw,n="en-US")=>{const r=$A(e);return r?r.toLocaleDateString(n,t):""},Oi=(e,t,n=Zw,r="en-US")=>{const o=Ay(e,n,r);if(!o)return"";const i=Ay(t,n,r);return!i||!t||t===e?o:`${o}  ${i}`},ca=(e,t,n="en-US")=>Oi(e,t,BA,n),nu=e=>{if(!e)return"Select time";const[t,n]=e.split(":").map(Number),r=new Date;return r.setHours(t,n),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},UA=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`,o=nu(r);e.push({value:r,display:o})}return e},zA=({date:e,onDateChange:t,time:n,onTimeChange:r,minDate:o})=>{const[i,c]=b.useState(!1),[u,h]=b.useState(!1),f=(v=>{if(!v)return;const[y,w,_]=v.split("-").map(Number);return new Date(y,w-1,_)})(e),m=v=>v?v.split("-").reverse().join("/"):"Select a date";return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{className:"text-[#2d3d1f]",children:"Start Date"}),l.jsxs(Ey,{open:i,onOpenChange:c,children:[l.jsx(Py,{asChild:!0,children:l.jsxs(fe,{variant:"outline",className:st("w-full justify-start text-left font-normal mt-1 bg-white text-[#1f2b15]",!e&&"text-muted-foreground"),children:[l.jsx(mn,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:m(e)})]})}),l.jsx(Ry,{className:"w-auto p-0",align:"start",children:l.jsx(SA,{mode:"single",selected:f,onSelect:v=>{if(!v)return;const y=v.getFullYear(),w=String(v.getMonth()+1).padStart(2,"0"),_=String(v.getDate()).padStart(2,"0");t(`${y}-${w}-${_}`),c(!1)},disabled:v=>!!o&&v<o})})]})]}),l.jsxs("div",{children:[l.jsx(rt,{className:"text-[#2d3d1f]",children:"Start Time"}),l.jsxs(Ey,{open:u,onOpenChange:h,children:[l.jsx(Py,{asChild:!0,children:l.jsxs(fe,{variant:"outline",className:st("w-full justify-start text-left font-normal mt-1 bg-white text-[#1f2b15]",!n&&"text-muted-foreground"),children:[l.jsx(xa,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:nu(n)})]})}),l.jsx(Ry,{className:"w-64 p-0",align:"start",children:l.jsx("div",{className:"max-h-60 overflow-y-auto grid gap-1 p-2",children:UA().map(v=>l.jsx(fe,{variant:n===v.value?"default":"ghost",className:st("justify-start font-normal",n===v.value?"bg-[#556B2F] text-white hover:bg-[#3c4f21]":"hover:bg-[#f8f9f6]"),onClick:()=>{r(v.value),h(!1)},children:v.display},v.value))})})]})]})]})},ph=(e,t)=>{if(!e)return"";const n=typeof t=="string"?parseInt(t,10):Math.trunc(t),r=Number.isFinite(n)&&n>0?n:1,[o,i,c]=e.split("-"),u=Number(o),h=Number(i),p=Number(c);if(Number.isNaN(u)||Number.isNaN(h)||Number.isNaN(p)||h<1||h>12||p<1||p>31)return e;const f=new Date(Date.UTC(u,h-1,p));return f.setUTCDate(f.getUTCDate()+(r-1)),f.toISOString().slice(0,10)},Ty=(e,t)=>{const n=t?.startDate??"",r=t?.numberOfDays??1,o=t?.endDate??(n?ph(n,r):"");return{title:t?.title??"",shortSummary:t?.shortSummary??"",startDate:n,startTime:t?.startTime??"",endDate:o,numberOfDays:String(r??1),hoursPerDay:t?.hoursPerDay?String(t.hoursPerDay):"",pricePerPerson:t?.pricePerPerson?(t.pricePerPerson/100).toFixed(2):"",maxStudents:String(t?.maxStudents??1),address:{street:t?.address?.street??"",city:t?.address?.city??"",state:t?.address?.state??"",zipCode:t?.address?.zipCode??""},instructorName:t?.instructorName??e?.name??"",minimumAge:String(t?.minimumAge??0),instructorBio:t?.instructorBio??e?.bio??"",advisories:t?.advisories??"",houseRules:t?.houseRules??"",photos:Array.isArray(t?.photos)?t.photos:[],auto_approve:t?.auto_approve??!1,hostId:t?.hostId??e?.id??"",host_id:t?.host_id??t?.hostId??e?.id??"",hostName:t?.hostName??e?.name??""}};function Iy({onSubmit:e,onCancel:t,user:n,initialData:r=null,mode:o="create"}){const i=o==="relaunch",[c,u]=b.useState(()=>Ty(n,r)),[h,p]=b.useState(!1);b.useEffect(()=>{u(Ty(n,r))},[r,n?.id,n?.name,n?.bio]);const f=(N,C)=>u(j=>{const k={...j,[N]:C};return(N==="startDate"||N==="numberOfDays")&&(k.endDate=ph(k.startDate,k.numberOfDays)),k}),m=N=>{if(N.preventDefault(),h)return be.info("Please wait for photos to finish uploading.");const C=JS(c,{requireFutureDate:i});if(C)return be.warning(C);const j=Number(c.numberOfDays),k=Number(c.maxStudents),R=Ts(c.pricePerPerson.trim()),F=Number(c.minimumAge||0),T=c.endDate||(c.startDate?ph(c.startDate,c.numberOfDays):""),B={...c,endDate:T,numberOfDays:j,hoursPerDay:c.hoursPerDay?Number(c.hoursPerDay):void 0,maxStudents:k,pricePerPerson:R,minimumAge:F};o==="edit"&&r?.id&&(B.id=r.id),e(B)},v=new Date;v.setDate(v.getDate()+1);const y=o==="edit"?void 0:v,w=kk({bucket:"class-photos",prefix:c.hostId||n?.id||"anonymous"}),_="mt-1 w-full";return l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs(Ve,{className:"bg-white border-[#a8b892] shadow-lg",children:[l.jsxs(bt,{className:"bg-[#556B2F] text-[#f8f9f6] rounded-t-lg",children:[l.jsx(vt,{className:"text-2xl text-white",children:o==="edit"?"Edit Class":i?"Relaunch Class":"Create a Class"}),l.jsx("p",{className:"text-[#a8b892]",children:o==="edit"?"Update your class details to keep students informed.":i?"We copied your class detailsset a new future date before relaunching.":"Share your homesteading knowledge with the community"})]}),l.jsxs(qe,{className:"p-6",children:[i&&l.jsx("div",{className:"mb-6 rounded-md border border-yellow-300 bg-yellow-50 p-4 text-sm text-yellow-900",children:"Choose a new future start date and time before submitting to relaunch this class."}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"title",className:"text-[#2d3d1f]",children:"Title"}),l.jsx(St,{id:"title",type:"text",value:c.title,onChange:N=>f("title",N.target.value),required:!0,className:_,placeholder:"e.g., Intro to Permaculture"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"shortSummary",children:"Description (max 500 characters)"}),l.jsx(Gn,{id:"shortSummary",value:c.shortSummary,onChange:N=>f("shortSummary",N.target.value),maxLength:500,required:!0,className:_,placeholder:"What will students learn in this class?"}),l.jsxs("p",{className:"text-sm text-[#3c4f21] mt-1",children:[c.shortSummary.length,"/500 characters"]})]}),l.jsx(zA,{date:c.startDate,onDateChange:N=>f("startDate",N),time:c.startTime,onTimeChange:N=>f("startTime",N),minDate:y}),c.startDate&&c.endDate&&l.jsxs("p",{className:"text-sm text-[#556B2F]",children:["Your class runs from ",Oi(c.startDate,c.endDate),"."]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"numberOfDays",children:"Number of Days"}),l.jsx(St,{id:"numberOfDays",type:"number",min:"1",value:c.numberOfDays,onChange:N=>f("numberOfDays",N.target.value),required:!0,className:_})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"hoursPerDay",children:"Hours per Day (optional)"}),l.jsx(St,{id:"hoursPerDay",type:"number",min:"1",max:"12",step:"0.5",value:c.hoursPerDay,onChange:N=>f("hoursPerDay",N.target.value),className:_,placeholder:"e.g., 4"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"pricePerPerson",children:"Price per Person (USD)"}),l.jsx(St,{id:"pricePerPerson",type:"number",step:"0.01",value:c.pricePerPerson,onChange:N=>f("pricePerPerson",N.target.value),required:!0,className:_})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"maxStudents",children:"Max Students"}),l.jsx(St,{id:"maxStudents",type:"number",min:"1",value:c.maxStudents,onChange:N=>f("maxStudents",N.target.value),required:!0,className:_})]})]}),l.jsxs("div",{children:[l.jsx(rt,{className:"text-[#2d3d1f] mb-3 block",children:"Class Location"}),l.jsx("p",{className:"text-sm text-[#556B2F] mb-3 italic",children:"Only city and state will be shown publicly. Full address is shared with confirmed students."}),l.jsx(FP,{value:c.address,onChange:N=>f("address",N)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"instructorName",children:"Instructor Name"}),l.jsx(St,{id:"instructorName",value:c.instructorName,onChange:N=>f("instructorName",N.target.value),required:!0,className:_})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"minimumAge",children:"Minimum Age"}),l.jsx(St,{id:"minimumAge",type:"number",min:"0",value:c.minimumAge,onChange:N=>f("minimumAge",N.target.value),className:_})]})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"instructorBio",children:"Instructor Bio"}),l.jsx(Gn,{id:"instructorBio",value:c.instructorBio,onChange:N=>f("instructorBio",N.target.value),className:_})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"advisories",children:"Advisories"}),l.jsx(Gn,{id:"advisories",value:c.advisories,onChange:N=>f("advisories",N.target.value),className:_})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"houseRules",children:"House Rules"}),l.jsx(Gn,{id:"houseRules",value:c.houseRules,onChange:N=>f("houseRules",N.target.value),className:_})]})]}),l.jsx(Ek,{value:c.photos,onChange:N=>f("photos",N),adapter:w,maxPhotos:8}),l.jsxs("div",{className:"border-t border-[#a8b892] pt-6",children:[l.jsx(rt,{className:"mb-4 block",children:"Booking Settings"}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Mx,{id:"auto_approve",checked:c.auto_approve,onCheckedChange:N=>f("auto_approve",N===!0),className:"mt-1 border border-black data-[state=checked]:bg-[#556B2F]"}),l.jsxs("div",{className:"space-y-1 text-sm text-[#556B2F]",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"When enabled:"})," Students book instantly with automatic confirmation."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"When disabled:"})," You must manually approve or decline bookings."]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-[#a8b892]",children:[l.jsx(fe,{type:"submit",className:"flex-1 bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",disabled:h,children:o==="edit"?"Save Changes":"Create Class"}),l.jsx(fe,{type:"button",variant:"outline",onClick:t,className:"flex-1 border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",children:"Cancel"})]})]})]})]})})}const WA=ux("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function an({className:e,variant:t,asChild:n=!1,...r}){const o=n?ix:"span";return l.jsx(o,{"data-slot":"badge",className:st(WA({variant:t}),e),...r})}const HA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Yn(e){const[t,n]=b.useState(!1),r=()=>{n(!0)},{src:o,alt:i,style:c,className:u,...h}=e;return t?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${u??""}`,style:c,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:HA,alt:"Error loading image",...h,"data-original-url":o})})}):l.jsx("img",{src:o,alt:i,className:u,style:c,...h,onError:r})}async function VA(e,t,n,r){const{data:o,error:i}=await Ce.functions.invoke("create-checkout-session",{body:{class_id:e,user_id:t,qty:n,student_names:r}});if(i)throw new Error(i.message||"Could not start checkout");const c=o?.url;if(!c)throw new Error("Checkout URL missing from response");window.location.href=c}function eb({classData:e,user:t,onClose:n,onBookingSuccess:r,initialAvailableSpots:o}){const[i,c]=b.useState(1),[u,h]=b.useState([""]),[p,f]=b.useState(!1),[m,v]=b.useState(!1),[y,w]=b.useState(null),[_,N]=b.useState(typeof o=="number"?Math.max(0,o):null),[C,j]=b.useState(!1),k=8,R=Ts(e.pricePerPerson),F=R*i,T=Math.round(F*(k/100)),B=F+T,E=A=>(Number(A||0)/100).toFixed(2),I=(()=>{const A=_;return typeof A=="number"?Math.max(0,Math.min(A,e.maxStudents)):e.maxStudents})(),$=I>0,H=A=>{h(P=>{const D=[...P];for(;D.length<A;)D.push("");for(;D.length>A;)D.pop();return D})},V=A=>{if(!$)return;const P=Math.max(1,Math.min(A,I));c(P),H(P)};b.useEffect(()=>{if(_!=null){if(!$){c(1),H(1);return}c(A=>{const P=Math.max(1,Math.min(A,I));return P!==A&&H(P),P})}},[_,$,I]),b.useEffect(()=>{let A=!1;return(async()=>{try{j(!0);const{data:D,error:z}=await Ce.rpc("available_spots",{class_uuid:e.id});A||(z?(console.warn("Failed to load available spots:",z),N(null)):N(typeof D=="number"?Math.max(0,D):null))}catch(D){A||(console.warn("Failed to load available spots:",D),N(null))}finally{A||j(!1)}})(),()=>{A=!0}},[e.id]);const K=(A,P)=>{const D=[...u];D[A]=P,h(D)},W=()=>$&&i>0&&i<=I&&u.every(A=>A.trim().length>0)&&p,Q=async()=>{if(W()){v(!0),w(null);try{const{data:{session:A},error:P}=await Ce.auth.getSession();if(P||!A?.user)throw new Error("Authentication required. Please sign in again.");const D=A.user.id,z=u.map(L=>L.trim()).filter(Boolean).slice(0,i);if(!$){w("This class is fully booked.");return}if(i>I){w(I===1?"Only 1 seat remains for this class.":`Only ${I} seats remain for this class.`);return}await VA(e.id,D,i,z)}catch(A){console.error("Booking error:",A),w(A?.message||"An error occurred while starting your checkout. Please try again.")}finally{v(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx(bt,{className:"bg-[#556B2F] text-[#f8f9f6]",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs(vt,{className:"text-xl mb-2 text-[#f8f9f6]",children:["Book: ",e.title]}),l.jsxs("p",{className:"text-[#a8b892]",children:["with ",e.instructorName]})]}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"text-[#f8f9f6] hover:bg-[#6B7F3F]",children:l.jsx(Ln,{className:"w-4 h-4"})})]})}),l.jsxs(qe,{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-[#f8f9f6] rounded-lg p-4 space-y-2",children:[l.jsx("h4",{className:"font-semibold text-[#2d3d1f] mb-3",children:"Class Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4 text-[#556B2F]"}),l.jsx("span",{children:Oi(e.startDate,e.endDate)})]}),e.startTime&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xa,{className:"w-4 h-4 text-[#556B2F]"}),l.jsx("span",{children:nu(e.startTime)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yi,{className:"w-4 h-4 text-[#556B2F]"}),l.jsxs("span",{children:["$",E(R)," per person"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ji,{className:"w-4 h-4 text-[#556B2F]"}),l.jsxs("span",{children:[e.address.city,", ",e.address.state]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-[#2d3d1f]",children:"Student Information"}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"studentCount",children:"Number of Students"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:()=>V(i-1),disabled:!$||i<=1,className:"w-8 h-8 p-0",children:"-"}),l.jsx(St,{id:"studentCount",type:"number",min:"1",max:Math.max(1,I),value:i,onChange:A=>V(parseInt(A.target.value)||1),className:"w-20 text-center",disabled:!$}),l.jsx(fe,{type:"button",variant:"outline",size:"sm",onClick:()=>V(i+1),disabled:!$||i>=I,className:"w-8 h-8 p-0",children:"+"}),l.jsx("span",{className:"text-sm text-[#556B2F] ml-2",children:C?"Checking availability...":$?I===1?"Only 1 seat left":`${I} seats left`:"No seats remaining"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(rt,{children:"Student Names"}),u.map((A,P)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#556B2F]"}),l.jsx(St,{placeholder:`Student ${P+1} name`,value:A,onChange:D=>K(P,D.target.value),className:"flex-1",required:!0})]},P))]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-[#2d3d1f]",children:"Cost Breakdown"}),l.jsxs("div",{className:"bg-[#f8f9f6] rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["Class fee (",i,"  $",E(R),")"]}),l.jsxs("span",{children:["$",E(F)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["HERD service fee (",k,"%)"]}),l.jsxs("span",{children:["$",E(T)]})]}),l.jsxs("div",{className:"border-t border-[#a8b892] pt-2 flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",E(B)]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-[#2d3d1f]",children:"Liability Agreement"}),l.jsx("div",{className:"bg-[#fff8e1] border border-[#f9cc33] rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(nS,{className:"w-5 h-5 text-[#f39c12] flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Mx,{id:"liability",checked:p,onCheckedChange:A=>f(A===!0),className:"mt-1"}),l.jsx(rt,{htmlFor:"liability",className:"text-sm cursor-pointer",children:"By checking this box, I acknowledge that I understand the risks involved in this homesteading class and release both HERD and the class host from any liability for injuries or damages that may occur during the class activities. I participate at my own risk and agree to follow all safety instructions provided by the host."})]})})]})})]}),y&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-800 text-sm",children:y})}),l.jsx("div",{className:"pt-4 border-t border-[#a8b892]",children:l.jsx(fe,{onClick:Q,disabled:!W()||m,className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",size:"lg",children:m?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):e.auto_approve?`Book Now - $${E(B)}`:`Request Booking - $${E(B)}`})})]})]})})}function qA({classes:e,onNavigate:t,user:n,onRequireAuth:r,onSelectClass:o,favorites:i,onToggleFavorite:c}){const[u,h]=b.useState(""),[p,f]=b.useState(null),m=Date.now(),v=j=>{const k=j.endDate||j.startDate;if(!k)return!1;const R=new Date(`${k}T${j.startTime||"00:00:00"}`);return Number.isNaN(R.getTime())?!1:(R.setHours(23,59,59,999),R.getTime()<m)},y=e.filter(j=>!v(j)).filter(j=>j.title.toLowerCase().includes(u.toLowerCase())||j.shortSummary.toLowerCase().includes(u.toLowerCase())||j.instructorName.toLowerCase().includes(u.toLowerCase())),w=j=>ca(j.startDate,j.endDate)||"Date TBD",_=j=>typeof j=="string"?j:`${j.city}, ${j.state}`,N=()=>{f(null)},C=({cls:j})=>{const k=i.includes(j.id),R=E=>{E.stopPropagation(),c(j.id)},F=j.hostRatingCount??j.hostProfile?.ratingCount??0,T=(()=>{if(typeof j.hostRatingAverage=="number")return j.hostRatingAverage;const E=j.hostProfile?.ratingAverage;return typeof E=="number"?E:null})(),B=T!==null&&Number.isFinite(T)&&F>0;return l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] shadow-lg hover:shadow-xl transition-all cursor-pointer overflow-hidden",onClick:()=>o(j),children:[l.jsxs("div",{className:"relative w-full h-48 md:h-52 bg-gray-100",children:[j.photos&&j.photos.length>0?l.jsx(Yn,{src:j.photos[0],alt:j.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm opacity-70",children:"No photo available"})]})}),l.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:[l.jsx(an,{className:"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#556B2F]",children:ir(j.pricePerPerson,{withCurrency:!0})}),l.jsx(fe,{type:"button",variant:"ghost",size:"icon",onClick:R,className:"h-9 w-9 rounded-full bg-white/80 text-[#c54a2c] hover:bg-white","aria-pressed":k,"aria-label":k?"Remove from favorites":"Add to favorites",children:k?l.jsx(Ns,{className:"h-5 w-5 fill-current"}):l.jsx(Ns,{className:"h-5 w-5"})})]})]}),l.jsx(bt,{className:"pb-3",children:l.jsx(vt,{className:"text-lg text-[#2d3d1f] leading-tight",children:j.title})}),l.jsxs(qe,{className:"space-y-3",children:[l.jsx("p",{className:"text-[#3c4f21] text-sm line-clamp-2",children:j.shortSummary}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-[#3c4f21]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4 text-[#556B2F] flex-shrink-0"}),l.jsx("span",{className:"truncate",children:w(j)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xa,{className:"w-4 h-4 text-[#556B2F] flex-shrink-0"}),l.jsx("span",{className:"truncate",children:j.startTime?nu(j.startTime):`${j.numberOfDays} day${j.numberOfDays>1?"s":""}`})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#556B2F] flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:["Max ",j.maxStudents," students"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ji,{className:"w-4 h-4 text-[#556B2F] flex-shrink-0"}),l.jsx("span",{className:"truncate",children:_(j.address)})]})]}),l.jsxs("div",{className:"pt-2 border-t border-[#a8b892] space-y-1",children:[l.jsxs("p",{className:"text-sm text-[#3c4f21] truncate",children:[l.jsx("span",{className:"font-medium",children:"Instructor:"})," ",j.instructorName]}),B?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#3c4f21]",children:[l.jsx(Fc,{className:"w-4 h-4 text-[#f2b01e]"}),l.jsxs("span",{children:[T.toFixed(1)," (",F," review",F===1?"":"s",")"]})]}):l.jsx("p",{className:"text-sm text-[#6b7c5b]",children:"No reviews yet"})]})]})]})};return l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-[#2d3d1f] mb-2",children:"Homesteading Classes"}),l.jsx("p",{className:"text-[#3c4f21]",children:"Discover hands-on learning opportunities in your community"})]}),l.jsxs(fe,{onClick:()=>{n?n.stripeConnected?t("create-class"):(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),t("profile")):r()},className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),n?n.stripeConnected?"Create Class":"Setup Stripe to Teach":"Sign In to Teach"]})]})}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(jx,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-[#556B2F] h-4 w-4"}),l.jsx(St,{type:"text",placeholder:"Search classes...",value:u,onChange:j=>h(j.target.value),className:"pl-12 !pl-12 pr-4 bg-[#ffffff] border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]"})]})}),y.length===0?l.jsx(Ve,{className:"bg-[#ffffff] border-[#a8b892] p-12 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl text-[#2d3d1f]",children:e.length===0?"No classes available yet":"No classes match your search"}),l.jsx("p",{className:"text-[#3c4f21]",children:e.length===0?"Be the first to create a class and share your homesteading knowledge!":"Try adjusting your search terms or browse all available classes."}),l.jsxs(fe,{onClick:()=>{n?n.stripeConnected?t("create-class"):(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),t("profile")):r()},className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),n?n.stripeConnected?"Create the First Class":"Setup Stripe to Create Class":"Sign In to Create Class"]})]})}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(j=>l.jsx(C,{cls:j},j.id))}),p&&n&&l.jsx(eb,{classData:p,user:n,onClose:()=>f(null),onBookingSuccess:N})]})}function GA({classData:e,user:t,onClose:n,onMessageSent:r}){const[o,i]=b.useState(""),[c,u]=b.useState(!1),h=async()=>{if(o.trim()){u(!0);try{const{data:{user:p},error:f}=await Ce.auth.getUser();if(f||!p){be.warning("Please log in to send messages.");return}const m=e.id;let v=e.hostId||e.host_id;const y=p.id;if(!v){console.log(" host_id missing, fetching from classes table...");const{data:k,error:R}=await Ce.from("classes").select("host_id").eq("id",m).single();if(R||!k?.host_id){console.error(" Could not fetch host_id:",R),be.error("Could not determine the host for this class."),u(!1);return}v=k.host_id,console.log(" host_id fetched:",v)}if(!v||!y){console.error(" hostId or guestId still undefined",{hostId:v,guestId:y}),be.error("Internal error: missing user or host ID."),u(!1);return}const w=`and(host_id.eq.${v},guest_id.eq.${y}),and(host_id.eq.${y},guest_id.eq.${v})`;console.log(" Querying conversations with filter:",w);const{data:_,error:N}=await Ce.from("conversations").select("id").eq("class_id",m).or(w).limit(1).maybeSingle();if(N)throw N;let C=_?.id;if(!C){console.log(" Creating new conversation...");const{data:k,error:R}=await Ce.from("conversations").insert({class_id:m,host_id:v,guest_id:y,last_message_at:new Date().toISOString()}).select("id").single();if(R)throw R;C=k.id,console.log(" Conversation created:",C)}C&&window.dispatchEvent(new CustomEvent("herd-conversation-ready",{detail:{conversationId:C,classId:m}}));const{error:j}=await Ce.from("messages").insert({conversation_id:C,sender_id:p.id,content:o.trim()});if(j)throw j;console.log(" Message sent successfully"),window.dispatchEvent(new CustomEvent("herd-message-sent")),r(),n()}catch(p){console.error(" Error sending message:",p),be.error("Failed to send message. Please try again.")}finally{u(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs(Ve,{className:"w-full max-w-lg bg-white",children:[l.jsxs(bt,{className:"border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(vt,{className:"text-[#3c4f21] flex items-center gap-2",children:[l.jsx(pn,{className:"h-5 w-5"}),"Message ",e.hostName||e.instructorName||"Host"]}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",children:l.jsx(Ln,{className:"h-4 w-4"})})]}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:["Re: ",e.title]})]}),l.jsx(qe,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-[#3c4f21] mb-2",children:"Your message:"}),l.jsx(Gn,{placeholder:"Type your message here...",value:o,onChange:p=>i(p.target.value),rows:4,className:"w-full resize-none",disabled:c})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(fe,{variant:"outline",onClick:n,disabled:c,children:"Cancel"}),l.jsx(fe,{onClick:h,disabled:!o.trim()||c,className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mc,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})})]})})}var ru="Dialog",[tb]=Cr(ru),[YA,fr]=tb(ru),nb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,u=b.useRef(null),h=b.useRef(null),[p,f]=ks({prop:r,defaultProp:o??!1,onChange:i,caller:ru});return l.jsx(YA,{scope:t,triggerRef:u,contentRef:h,contentId:Wr(),titleId:Wr(),descriptionId:Wr(),open:p,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),modal:c,children:n})};nb.displayName=ru;var rb="DialogTrigger",sb=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fr(rb,n),i=Et(t,o.triggerRef);return l.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":um(o.open),...r,ref:i,onClick:ct(e.onClick,o.onOpenToggle)})});sb.displayName=rb;var lm="DialogPortal",[KA,ob]=tb(lm,{forceMount:void 0}),ab=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=fr(lm,t);return l.jsx(KA,{scope:t,forceMount:n,children:b.Children.map(r,c=>l.jsx(As,{present:n||i.open,children:l.jsx(Yc,{asChild:!0,container:o,children:c})}))})};ab.displayName=lm;var Rc="DialogOverlay",ib=b.forwardRef((e,t)=>{const n=ob(Rc,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=fr(Rc,e.__scopeDialog);return i.modal?l.jsx(As,{present:r||i.open,children:l.jsx(JA,{...o,ref:t})}):null});ib.displayName=Rc;var QA=oo("DialogOverlay.RemoveScroll"),JA=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fr(Rc,n);return l.jsx(Qc,{as:QA,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(lt.div,{"data-state":um(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ho="DialogContent",lb=b.forwardRef((e,t)=>{const n=ob(ho,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=fr(ho,e.__scopeDialog);return l.jsx(As,{present:r||i.open,children:i.modal?l.jsx(XA,{...o,ref:t}):l.jsx(ZA,{...o,ref:t})})});lb.displayName=ho;var XA=b.forwardRef((e,t)=>{const n=fr(ho,e.__scopeDialog),r=b.useRef(null),o=Et(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return zh(i)},[]),l.jsx(cb,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ct(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:ct(e.onFocusOutside,i=>i.preventDefault())})}),ZA=b.forwardRef((e,t)=>{const n=fr(ho,e.__scopeDialog),r=b.useRef(!1),o=b.useRef(!1);return l.jsx(cb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=i.target;n.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),cb=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...c}=e,u=fr(ho,n),h=b.useRef(null),p=Et(t,h);return Th(),l.jsxs(l.Fragment,{children:[l.jsx(zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:l.jsx(Uc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":um(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(eT,{titleId:u.titleId}),l.jsx(nT,{contentRef:h,descriptionId:u.descriptionId})]})]})}),cm="DialogTitle",ub=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fr(cm,n);return l.jsx(lt.h2,{id:o.titleId,...r,ref:t})});ub.displayName=cm;var db="DialogDescription",fb=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fr(db,n);return l.jsx(lt.p,{id:o.descriptionId,...r,ref:t})});fb.displayName=db;var hb="DialogClose",mb=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fr(hb,n);return l.jsx(lt.button,{type:"button",...r,ref:t,onClick:ct(e.onClick,()=>o.onOpenChange(!1))})});mb.displayName=hb;function um(e){return e?"open":"closed"}var pb="DialogTitleWarning",[MO,gb]=LS(pb,{contentName:ho,titleName:cm,docsSlug:"dialog"}),eT=({titleId:e})=>{const t=gb(pb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tT="DialogDescriptionWarning",nT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gb(tT).contentName}}.`;return b.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vb=nb,rT=sb,yb=ab,xb=ib,wb=lb,bb=ub,_b=fb,Nb=mb;function sT({...e}){return l.jsx(vb,{"data-slot":"dialog",...e})}function oT({...e}){return l.jsx(yb,{"data-slot":"dialog-portal",...e})}const Sb=b.forwardRef(({className:e,...t},n)=>l.jsx(xb,{ref:n,"data-slot":"dialog-overlay",className:st("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Sb.displayName="DialogOverlay";const jb=b.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(oT,{"data-slot":"dialog-portal",children:[l.jsx(Sb,{}),l.jsxs(wb,{ref:r,"data-slot":"dialog-content",className:st("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,l.jsxs(Nb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Ln,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jb.displayName="DialogContent";function aT({className:e,...t}){return l.jsx(bb,{"data-slot":"dialog-title",className:st("text-lg leading-none font-semibold",e),...t})}function iT({className:e,...t}){return l.jsx(_b,{"data-slot":"dialog-description",className:st("text-muted-foreground text-sm",e),...t})}const nc=(e,t)=>e.length?t<0?e.length-1:t>=e.length?0:t:0;function Cb({photos:e,open:t,startIndex:n=0,onClose:r,title:o,onIndexChange:i}){const c=b.useMemo(()=>Array.isArray(e)?e.filter(Boolean):[],[e]),[u,h]=b.useState(()=>nc(c,n));b.useLayoutEffect(()=>{t&&h(nc(c,n))},[t,n,c]);const p=b.useCallback(()=>{h(y=>nc(c,y+1))},[c]),f=b.useCallback(()=>{h(y=>nc(c,y-1))},[c]);if(b.useEffect(()=>{if(!t)return;const y=w=>{c.length&&(w.key==="ArrowRight"?(w.preventDefault(),p()):w.key==="ArrowLeft"&&(w.preventDefault(),f()))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t,p,f,c.length]),b.useEffect(()=>{!i||!t||i(u)},[u,i,t]),!c.length)return null;const m=c[u]??c[0],v=c.length>1;return l.jsx(sT,{open:t,onOpenChange:y=>y?void 0:r(),children:l.jsxs(jb,{className:"max-w-[90vw] sm:max-w-[85vw] md:max-w-[80vw] lg:max-w-[70vw] xl:max-w-[65vw] w-full border-none bg-transparent p-0 shadow-none [&>button]:text-white","aria-describedby":void 0,children:[l.jsxs(W0,{children:[l.jsx(aT,{children:o||"Photo Lightbox"}),l.jsx(iT,{children:"Use arrow keys or buttons to navigate between photos."})]}),l.jsxs("div",{className:"relative flex h-[80vh] w-full items-center justify-center overflow-hidden rounded-lg bg-black",children:[v&&l.jsx(fe,{variant:"ghost",size:"icon",onClick:f,className:"absolute left-4 z-10 size-10 rounded-full bg-black/50 text-white transition hover:bg-black/70",children:l.jsx(Oc,{className:"size-6"})}),l.jsx("img",{src:m,alt:o?`${o} photo ${u+1}`:`Photo ${u+1}`,className:"max-h-full max-w-full object-contain"},`${u}-${m}`),v&&l.jsx(fe,{variant:"ghost",size:"icon",onClick:p,className:"absolute right-4 z-10 size-10 rounded-full bg-black/50 text-white transition hover:bg-black/70",children:l.jsx(Dc,{className:"size-6"})}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 rounded-full bg-black/60 px-4 py-1 text-xs font-medium text-white",children:[u+1," / ",c.length]})]})]})})}function lT(e,t){const[n,r]=b.useState(null),[o,i]=b.useState(!1),c=b.useCallback(async()=>{if(!e||!t){r(null);return}i(!0);try{let u=null;const{data:h,error:p,status:f}=await Ce.from("conversations").select("id").eq("class_id",e).eq("guest_id",t).limit(1).maybeSingle();if(p&&f!==406&&console.warn("useExistingConversation guest lookup error",p),h?.id&&(u=h.id),!u){const{data:m,error:v,status:y}=await Ce.from("conversations").select("id").eq("class_id",e).eq("host_id",t).limit(1).maybeSingle();v&&y!==406&&console.warn("useExistingConversation host lookup error",v),m?.id&&(u=m.id)}r(u)}catch(u){console.error("useExistingConversation failed",u),r(null)}finally{i(!1)}},[e,t]);return b.useEffect(()=>{c()},[c]),b.useEffect(()=>{if(!e)return;const u=h=>{const p=h;p.detail?.classId===e&&p.detail?.conversationId&&r(p.detail.conversationId)};return window.addEventListener("herd-conversation-ready",u),()=>window.removeEventListener("herd-conversation-ready",u)},[e]),{conversationId:n,loading:o,refresh:c}}function cT({classData:e,user:t,onNavigate:n,onRequireAuth:r,onViewHost:o,favorites:i,onToggleFavorite:c,onOpenConversation:u}){const[h,p]=b.useState(0),[f,m]=b.useState(null),[v,y]=b.useState(null),[w,_]=b.useState(!0),[N,C]=b.useState(!1),[j,k]=b.useState(null),[R,F]=b.useState(!1),T=Ts(e.pricePerPerson),B=ir(T,{withCurrency:!0}),E=se=>{if(!se)return"";const[pe,je]=se.split(":"),et=parseInt(pe),ue=et>=12?"PM":"AM";return`${et%12||12}:${je} ${ue}`},I=se=>typeof se=="string"?se:`${se.city}, ${se.state}`,$=se=>{t?m(se):r()},H=()=>{m(null),ae()},V=e.hostId||e.host_id||e.instructorId,{conversationId:K,refresh:W}=lT(e.id,t?.id),Q=se=>{if(!t){r();return}C(!0)},A=()=>{be.success(`Message sent to ${e.instructorName}! You can continue the conversation in your dashboard messages.`),W(),setTimeout(()=>{W()},500)};b.useEffect(()=>{const se=()=>{W(),setTimeout(()=>{W()},500)};return window.addEventListener("herd-message-sent",se),()=>window.removeEventListener("herd-message-sent",se)},[W]);const P=()=>{e.photos&&e.photos.length>1&&p(se=>se===e.photos.length-1?0:se+1)},D=()=>{e.photos&&e.photos.length>1&&p(se=>se===0?e.photos.length-1:se-1)},z=se=>p(se),L=e.photos&&e.photos.length>1,M=i.includes(e.id),U=()=>{c(e.id)},te=se=>{p(se),F(!0)},J=e.hostRatingCount??e.hostProfile?.ratingCount??0,ee=(()=>{if(typeof e.hostRatingAverage=="number")return e.hostRatingAverage;const se=e.hostProfile?.ratingAverage;return typeof se=="number"?se:null})(),le=ee!==null&&Number.isFinite(ee)&&J>0,X=se=>{(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),te(h))},ae=b.useCallback(async()=>{try{_(!0);const{data:se,error:pe}=await Ce.rpc("available_spots",{class_uuid:e.id});if(pe)throw pe;y(typeof se=="number"?se:null)}catch(se){console.warn("Failed to fetch available spots (RPC):",se?.message||se),y(null)}finally{_(!1)}},[e.id]);b.useEffect(()=>{ae()},[ae,e.maxStudents]),b.useEffect(()=>{let se=!1;const pe=e.instructorAvatar;return(async()=>{if(!pe){se||k(null);return}if(/^https?:\/\//i.test(pe)){se||k(pe);return}const{data:et,error:ue}=await Ce.storage.from("avatars").createSignedUrl(pe,3600*24*7);se||(ue?(console.error("Failed to create signed URL for instructor avatar:",ue.message??ue),k(null)):k(et?.signedUrl??null))})(),()=>{se=!0}},[e.instructorAvatar]);const de=()=>{e?.instructorId&&o?.(e.instructorId,e)};return l.jsxs("div",{className:"min-h-screen bg-[#f8f9f6]",children:[l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(fe,{variant:"ghost",onClick:()=>n("classes"),className:"text-[#556B2F] hover:bg-[#e8e9e6] hover:text-[#3c4f21]",children:[l.jsx(Si,{className:"w-4 h-4 mr-2"}),"Back to Classes"]})}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:e.photos&&e.photos.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative w-full h-64 md:h-96 cursor-zoom-in outline-none",role:"button",tabIndex:0,"aria-label":"Open photo gallery",onClick:()=>te(h),onKeyDown:X,children:[l.jsx(Yn,{src:e.photos[h],alt:`${e.title} - Image ${h+1}`,className:"w-full h-full object-cover"}),L&&l.jsxs(l.Fragment,{children:[l.jsx(fe,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),D()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",children:l.jsx(Oc,{className:"w-5 h-5"})}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),P()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",children:l.jsx(Dc,{className:"w-5 h-5"})})]}),L&&l.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[h+1," / ",e.photos.length]}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(an,{className:"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#556B2F] text-lg px-3 py-1",children:B})})]}),L&&l.jsx("div",{className:"flex gap-2 p-4 bg-white/90 overflow-x-auto",children:e.photos.map((se,pe)=>l.jsx("button",{onClick:()=>z(pe),className:`flex-shrink-0 w-16 h-16 rounded overflow-hidden border-2 transition-all ${pe===h?"border-[#556B2F] shadow-md":"border-gray-300 hover:border-[#a8b892]"}`,children:l.jsx(Yn,{src:se,alt:`${e.title} - Thumbnail ${pe+1}`,className:"w-full h-full object-cover"})},pe))})]}):l.jsx("div",{className:"w-full h-64 md:h-96 bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg opacity-70",children:"No photos available"})]})})})}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"md:col-span-2 space-y-8",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[j&&l.jsx(Yn,{src:j,alt:`${e.instructorName??"Instructor"} headshot`,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-2 border-[#a8b892] shadow-sm"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsx("h1",{className:"text-3xl font-bold text-[#2d3d1f] mb-2",children:e.title}),l.jsx(fe,{type:"button",variant:"ghost",size:"icon",onClick:U,className:"h-10 w-10 rounded-full bg-[#f8f1ef] text-[#c54a2c] hover:bg-[#f1dcd6]","aria-pressed":M,"aria-label":M?"Remove class from favorites":"Add class to favorites",children:M?l.jsx(Ns,{className:"h-5 w-5 fill-current"}):l.jsx(Ns,{className:"h-5 w-5"})})]}),l.jsxs("p",{className:"text-lg text-[#556B2F]",children:["with"," ",l.jsx("button",{type:"button",onClick:de,className:"underline underline-offset-2 decoration-[#a8b892] hover:text-[#3c4f21]",children:e.instructorName})]}),le?l.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-[#3c4f21]",children:[l.jsx(Fc,{className:"w-4 h-4 text-[#f2b01e]"}),l.jsxs("span",{children:[ee.toFixed(1)," (",J," review",J===1?"":"s",")"]})]}):l.jsx("div",{className:"mt-2 text-sm text-[#6b7c5b]",children:"No reviews yet"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"About This Class"}),l.jsx("p",{className:"text-[#3c4f21] leading-relaxed",children:e.shortSummary})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"About the Instructor"}),l.jsx("p",{className:"text-[#3c4f21] leading-relaxed",children:e.instructorBio})]}),e.advisories&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"Important Information"}),l.jsx("p",{className:"text-[#3c4f21] leading-relaxed",children:e.advisories})]}),e.houseRules&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-[#2d3d1f] mb-3",children:"House Rules"}),l.jsx("p",{className:"text-[#3c4f21] leading-relaxed",children:e.houseRules})]})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] sticky top-6",children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#2d3d1f]",children:"Class Details"})}),l.jsxs(qe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"w-5 h-5 text-[#556B2F] flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-[#2d3d1f]",children:Oi(e.startDate,e.endDate)}),e.startTime&&l.jsx("div",{className:"text-sm text-[#556B2F]",children:E(e.startTime)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xa,{className:"w-5 h-5 text-[#556B2F] flex-shrink-0"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-[#2d3d1f]",children:[e.numberOfDays," day",e.numberOfDays>1?"s":""]}),e.hoursPerDay&&l.jsxs("div",{className:"text-sm text-[#556B2F]",children:[e.hoursPerDay," hours/day"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yi,{className:"w-5 h-5 text-[#556B2F] flex-shrink-0"}),l.jsx("div",{children:l.jsxs("div",{className:"font-medium text-[#2d3d1f]",children:[B," per person"]})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ar,{className:"w-5 h-5 text-[#556B2F] flex-shrink-0"}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-[#2d3d1f]",children:["Max ",e.maxStudents," students"]}),w?l.jsx("div",{className:"text-sm text-[#556B2F] animate-pulse",children:"Loading spots..."}):v!==null?l.jsx("div",{className:`text-sm ${v>0?"text-[#556B2F]":"text-[#c54a2c]"}`,children:v>0?`${v} spot${v!==1?"s":""} available`:"Fully booked"}):l.jsx("div",{className:"text-sm text-[#888]",children:"Spots info unavailable"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ji,{className:"w-5 h-5 text-[#556B2F] flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-[#2d3d1f]",children:I(e.address)}),l.jsx("div",{className:"text-xs text-[#556B2F] mt-1 italic",children:"Full address provided upon booking confirmation"})]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-[#a8b892]",children:[l.jsx("h4",{className:"font-semibold text-[#2d3d1f] mb-2",children:"Requirements"}),l.jsxs("p",{className:"text-sm text-[#3c4f21]",children:[l.jsx("span",{className:"font-medium",children:"Minimum Age:"})," ",e.minimumAge," years"]})]}),l.jsxs("div",{className:"pt-4 border-t border-[#a8b892] space-y-3",children:[l.jsx(fe,{onClick:()=>$(e),className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6] disabled:bg-gray-400 disabled:cursor-not-allowed",size:"lg",disabled:v===0,children:v===0?"Fully Booked":t?e.auto_approve?"Book This Class":"Request Booking":"Sign In to Book"}),t&&V&&V!==t.id&&(K?l.jsxs(fe,{onClick:()=>{if(u)u(K,e);else{const se=new URLSearchParams;se.set("page","dashboard"),se.set("tab","messages"),se.set("conversation",K),se.set("class",e.id),se.set("class_title",e.title),window.location.href=`${window.location.origin}?${se.toString()}`}},variant:"outline",className:"w-full border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",size:"lg",children:[l.jsx(pn,{className:"h-4 w-4 mr-2"}),"Go to Conversation"]}):l.jsxs(fe,{onClick:()=>Q(),variant:"outline",className:"w-full border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",size:"lg",children:[l.jsx(pn,{className:"h-4 w-4 mr-2"}),"Message Host"]}))]})]})]})})]})]}),l.jsx(Cb,{photos:e.photos??[],open:R,startIndex:h,onClose:()=>F(!1),onIndexChange:se=>p(se),title:e.title}),f&&t&&l.jsx(eb,{classData:f,user:t,initialAvailableSpots:v,onClose:()=>m(null),onBookingSuccess:H}),N&&t&&l.jsx(GA,{classData:e,user:t,onClose:()=>C(!1),onMessageSent:A})]})}function uT(e,t){return Oi(e,t)||"Date TBD"}function dT(e){if(!e)return"";const[t,n]=e.split(":"),r=parseInt(t??"0",10),o=r>=12?"PM":"AM";return`${r%12||12}:${n??"00"} ${o}`}function fT(e,t){const n=[typeof e?.instructor_name=="string"?e.instructor_name:"",typeof e?.host_name=="string"?e.host_name:"",typeof t?.full_name=="string"?t.full_name:""];for(const r of n)if(r&&r.trim().length>0)return r.trim();return t?.full_name??"Instructor"}function hT(e,t){const n=fT(e,t),r=e?.host_profile??t??null;return{id:e.id,title:e.title,shortSummary:e.short_summary??"",startDate:e.start_date??"",startTime:e.start_time??"",endDate:e.end_date??e.start_date??"",numberOfDays:e.number_of_days??1,hoursPerDay:e.hours_per_day??void 0,pricePerPerson:Ts(e.price_per_person_cents??0),maxStudents:e.max_students??0,address:{street:e.address_street??"",city:e.address_city??"",state:e.address_state??"",zipCode:e.address_zip??"",country:e.address_country??""},instructorName:n,hostId:e.host_id,host_id:e.host_id,hostName:n,instructorId:e.host_id,minimumAge:e.minimum_age??0,instructorBio:e.instructor_bio??"",instructorAvatar:r?.avatar_url??null,advisories:e.advisories??"",houseRules:e.house_rules??"",photos:e.photos??[],auto_approve:!!e.auto_approve,createdAt:e.created_at??new Date().toISOString(),hostProfile:r?{fullName:r.full_name??"",farmName:r.farm_name??"",bio:r.bio??"",avatarUrl:r.avatar_url??null}:null}}function mT(e){if(!e)return"??";const t=e.trim().split(" ");return t.length===0?"??":t.length===1?t[0][0]?.toUpperCase()??"??":`${t[0][0]??""}${t[t.length-1][0]??""}`.toUpperCase()}function pT({hostId:e,currentUser:t,onNavigate:n,onSelectClass:r}){const[o,i]=b.useState(null),[c,u]=b.useState(null),[h,p]=b.useState([]),[f,m]=b.useState(!0),[v,y]=b.useState(null);b.useEffect(()=>{let _=!1;return(async()=>{m(!0),y(null);try{const{data:C,error:j}=await Ce.from("profiles").select("id, full_name, farm_name, bio, avatar_url").eq("id",e).maybeSingle();if(j)throw j;if(!C)throw new Error("Host profile not found.");_||i(C);const k=C.avatar_url;if(k)if(/^https?:\/\//i.test(k))_||u(k);else{const{data:E,error:I}=await Ce.storage.from("avatars").createSignedUrl(k,604800);I?(console.error("Failed to create signed avatar URL:",I.message??I),_||u(null)):_||u(E?.signedUrl??null)}else _||u(null);const R=new Date().toISOString().split("T")[0],{data:F,error:T}=await Ce.from("classes").select(`
            *,
            host_profile:profiles!classes_host_id_fkey(full_name, farm_name, bio, avatar_url)
          `).eq("host_id",e).gte("start_date",R).order("start_date",{ascending:!0});if(T)throw T;const B=(F??[]).map(E=>hT(E,C));_||p(B)}catch(C){console.error("Failed to load host profile:",C?.message||C),_||(y(C?.message||"Unable to load host profile right now."),p([]),i(null),u(null))}finally{_||m(!1)}})(),()=>{_=!0}},[e]);const w=b.useMemo(()=>h.slice().sort((_,N)=>{const C=new Date(`${_.startDate}T${_.startTime||"00:00"}`).getTime(),j=new Date(`${N.startDate}T${N.startTime||"00:00"}`).getTime();return C-j}),[h]);return f?l.jsx("div",{className:"min-h-screen bg-[#f8f9f6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("p",{className:"text-[#556B2F]",children:"Loading host profile..."})]})}):v||!o?l.jsx("div",{className:"min-h-screen bg-[#f8f9f6] flex items-center justify-center p-6",children:l.jsxs(Ve,{className:"max-w-md w-full border-[#c54a2c]",children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#c54a2c]",children:"Host Not Available"})}),l.jsxs(qe,{className:"space-y-4 text-[#3c4f21]",children:[l.jsx("p",{children:v??"We could not find details for this host."}),l.jsx(fe,{onClick:()=>n("classes"),className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:"Return to Classes"})]})]})}):l.jsx("div",{className:"min-h-screen bg-[#f8f9f6]",children:l.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(fe,{variant:"ghost",onClick:()=>n("classes"),className:"text-[#556B2F] hover:bg-[#e8e9e6] hover:text-[#3c4f21]",children:[l.jsx(Si,{className:"w-4 h-4 mr-2"}),"Back to Classes"]}),t?.id===o.id&&l.jsx(fe,{variant:"outline",onClick:()=>n("dashboard"),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",children:"Manage Classes"})]}),l.jsx(Ve,{className:"border-[#a8b892] bg-white",children:l.jsxs(qe,{className:"flex flex-col items-center text-center py-10 px-6 space-y-4",children:[c?l.jsx(Yn,{src:c,alt:`${o.full_name} avatar`,className:"w-20 h-20 rounded-full object-cover border-2 border-[#a8b892] shadow"}):l.jsx("div",{className:"w-20 h-20 rounded-full bg-[#e8e9e6] flex items-center justify-center text-xl font-semibold text-[#556B2F] border-2 border-[#a8b892] shadow",children:mT(o.full_name)}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-[#2d3d1f]",children:o.full_name}),o.farm_name&&l.jsx("p",{className:"text-[#556B2F] font-medium",children:o.farm_name})]}),o.bio&&l.jsx("p",{className:"text-[#3c4f21] max-w-2xl leading-relaxed",children:o.bio})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-[#2d3d1f]",children:"Classes Offered"}),l.jsxs("span",{className:"text-sm text-[#556B2F]",children:[w.length," upcoming class",w.length===1?"":"es"]})]}),w.length===0?l.jsx(Ve,{className:"border-dashed border-2 border-[#a8b892] bg-white",children:l.jsxs(qe,{className:"py-12 text-center space-y-2",children:[l.jsx("h3",{className:"text-lg text-[#2d3d1f] font-medium",children:"No upcoming classes yet"}),l.jsxs("p",{className:"text-[#556B2F] text-sm",children:["Check back soon to see new sessions from ",o.full_name.split(" ")[0]??"this host","."]})]})}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(_=>l.jsxs(Ve,{className:"border-[#a8b892] bg-white hover:shadow-lg transition-shadow cursor-pointer flex flex-col",onClick:()=>r(_),children:[_.photos&&_.photos.length>0?l.jsx(Yn,{src:_.photos[0],alt:_.title,className:"h-40 w-full object-cover"}):l.jsx("div",{className:"h-40 w-full bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center",children:l.jsx("div",{className:"text-center text-[#556B2F]",children:l.jsx("span",{className:"block text-sm opacity-70",children:"No photo available"})})}),l.jsxs(bt,{className:"pb-2",children:[l.jsx(vt,{className:"text-lg text-[#2d3d1f]",children:_.title}),l.jsx("p",{className:"text-sm text-[#556B2F] line-clamp-2",children:_.shortSummary})]}),l.jsxs(qe,{className:"space-y-3 text-sm text-[#3c4f21] flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4 text-[#556B2F]"}),l.jsx("span",{children:uT(_.startDate,_.endDate)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xa,{className:"w-4 h-4 text-[#556B2F]"}),l.jsxs("span",{children:[_.startTime?dT(_.startTime):`${_.numberOfDays} day${_.numberOfDays>1?"s":""}`,_.hoursPerDay?`  ${_.hoursPerDay} hour${_.hoursPerDay>1?"s":""}/day`:""]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ar,{className:"w-4 h-4 text-[#556B2F]"}),l.jsxs("span",{children:["Maximum ",_.maxStudents," students"]})]})]}),l.jsx("div",{className:"px-6 pb-6",children:l.jsxs(fe,{className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:["View Class  ",ir(_.pricePerPerson,{withCurrency:!0})]})})]},_.id))})]})]})})}function gT({photos:e,onPhotosChange:t,maxPhotos:n=5,className:r=""}){const[o,i]=b.useState(!1),c=b.useRef(null),u=m=>new Promise((v,y)=>{const w=new FileReader;w.onload=_=>{const N=new Image;N.onload=()=>{const C=document.createElement("canvas"),j=C.getContext("2d"),k=800,R=600;let{width:F,height:T}=N;if(F>k||T>R){const E=Math.min(k/F,R/T);F*=E,T*=E}C.width=F,C.height=T,j.drawImage(N,0,0,F,T);const B=C.toDataURL("image/jpeg",.85);v(B)},N.onerror=()=>{y(new Error("Failed to load image"))},N.src=_.target?.result},w.onerror=()=>{y(new Error("Failed to read file"))},w.readAsDataURL(m)}),h=async m=>{const v=Array.from(m.target.files||[]);if(v.length!==0){if(e.length+v.length>n){be.warning(`You can only add up to ${n} photos total.`);return}i(!0);try{const y=[];for(const w of v){if(!w.type.startsWith("image/")){be.info("Please select only image files.");continue}const _=await u(w);y.push(_)}t([...e,...y])}catch(y){console.error("Error processing images:",y),be.error("Failed to process one or more images. Please try again.")}finally{i(!1),c.current&&(c.current.value="")}}},p=m=>{const v=e.filter((y,w)=>w!==m);t(v)},f=()=>{c.current?.click()};return l.jsxs("div",{className:`space-y-3 ${r}`,children:[e.length<n&&l.jsxs("div",{className:"border-2 border-dashed border-[#a8b892] rounded-lg p-4 text-center",children:[l.jsx(fe,{type:"button",variant:"outline",onClick:f,disabled:o,className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{className:"h-4 w-4 mr-2"}),"Add Photo",e.length>0?"s":""]})}),l.jsx("p",{className:"text-xs text-[#556B2F] mt-2",children:"JPG, PNG, GIF, WebP  larger files may take longer to process"}),l.jsxs("p",{className:"text-xs text-[#6b7280]",children:[e.length,"/",n," photos"]})]}),e.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#556B2F]",children:[l.jsx(po,{className:"w-4 h-4"}),l.jsxs("span",{children:[e.length," photo",e.length>1?"s":""]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.map((m,v)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:m,alt:`Preview ${v+1}`,className:"w-full h-24 object-cover rounded-lg border border-[#a8b892]"}),l.jsx(fe,{type:"button",variant:"destructive",size:"sm",onClick:()=>p(v),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-100 transition-opacity md:opacity-0 md:group-hover:opacity-100",title:"Remove photo","aria-label":`Remove photo ${v+1}`,children:l.jsx(Ln,{className:"h-3 w-3"})})]},v))})]}),l.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,onChange:h,className:"hidden"})]})}const Oy=["General Discussion","Tips & Tricks","Equipment Sharing","Local Events","Questions & Help","Success Stories","For Sale/Trade","Weather & Seasonal"],vT=e=>({"General Discussion":"bg-[#556B2F] text-[#f8f9f6]","Tips & Tricks":"bg-[#c54a2c] text-[#f8f9f6]","Equipment Sharing":"bg-[#a8b892] text-[#2d3d1f]","Local Events":"bg-[#8b7355] text-[#f8f9f6]","Questions & Help":"bg-[#6b8ba3] text-[#f8f9f6]","Success Stories":"bg-[#689c3a] text-[#f8f9f6]","For Sale/Trade":"bg-[#b8674a] text-[#f8f9f6]","Weather & Seasonal":"bg-[#7a6b8a] text-[#f8f9f6]"})[e]||"bg-[#556B2F] text-[#f8f9f6]";function Dy({posts:e,onCreatePost:t,onDeletePost:n,onSelectPost:r,user:o,onRequireAuth:i}){const[c,u]=b.useState(!1),[h,p]=b.useState("all"),[f,m]=b.useState({title:"",content:"",author:o?.name||"",category:"General Discussion",photos:[]}),v=b.useMemo(()=>h==="all"?e:e.filter(j=>(j.category||"General Discussion")===h),[e,h]),y=j=>{m(k=>({...k,photos:j}))},w=(j,k)=>{const R=e.find(B=>B.id===j),T=o?.isAdmin&&R?.authorId!==o?.id?`Are you sure you want to delete "${k}" by ${R?.author}? This action cannot be undone.`:`Are you sure you want to delete "${k}"? This action cannot be undone.`;window.confirm(T)&&n(j)},_=j=>{if(j.preventDefault(),!o){i();return}t(f),m({title:"",content:"",author:o.name,category:"General Discussion",photos:[]}),u(!1)},N=j=>{r(j)},C=(j,k)=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),N(k))};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-[#2d3d1f] mb-2",children:"Community Bulletin Board"}),l.jsx("p",{className:"text-[#3c4f21]",children:"Share knowledge, ask questions, and connect with fellow homesteaders"})]}),l.jsxs(fe,{onClick:()=>o?u(!0):i(),className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),"Create Post"]})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(fe,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>p("all"),className:h==="all"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#556B2F]":"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:"All Posts"}),Oy.map(j=>l.jsx(fe,{variant:h===j?"default":"outline",size:"sm",onClick:()=>p(j),className:h===j?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#556B2F]":"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:j},j))]})}),c&&o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[l.jsx(bt,{className:"bg-[#556B2F] text-[#f8f9f6]",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(vt,{children:"Create New Post"}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"text-[#f8f9f6] hover:bg-[#6B7F3F]",children:""})]})}),l.jsx(qe,{className:"p-6",children:l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"author",className:"text-[#2d3d1f]",children:"Your Name"}),l.jsx(St,{id:"author",type:"text",value:o.name,disabled:!0,className:"mt-1 bg-gray-100 border-[#a8b892]"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"category",className:"text-[#2d3d1f]",children:"Category"}),l.jsxs(Hh,{value:f.category,onValueChange:j=>m(k=>({...k,category:j})),children:[l.jsx(qh,{className:"mt-1 border-[#b8674a] bg-[#fbeae4] text-[#4c1f12] focus:border-[#c54a2c] focus:ring-[#c54a2c]/40",children:l.jsx(Vh,{})}),l.jsx(Gh,{className:"bg-[#fdf4f1] border-[#c54a2c]",children:Oy.map(j=>l.jsx(Yh,{value:j,className:"text-[#4c1f12] focus:bg-[#fde0d8] focus:text-[#4c1f12] data-[state=checked]:bg-[#fcd5ca] data-[state=checked]:text-[#4c1f12]",children:j},j))})]})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"title",className:"text-[#2d3d1f]",children:"Title"}),l.jsx(St,{id:"title",type:"text",value:f.title,onChange:j=>m(k=>({...k,title:j.target.value})),required:!0,className:"mt-1 bg-[#ffffff] border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]",placeholder:"What's your post about?"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"content",className:"text-[#2d3d1f]",children:"Content"}),l.jsx(Gn,{id:"content",value:f.content,onChange:j=>m(k=>({...k,content:j.target.value})),required:!0,className:"mt-1 bg-[#ffffff] border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F] resize-none",rows:6,placeholder:"Share your thoughts, questions, or information..."})]}),l.jsxs("div",{children:[l.jsx(rt,{className:"text-[#2d3d1f]",children:"Photos (Optional - Up to 5)"}),l.jsx("div",{className:"mt-2",children:l.jsx(gT,{photos:f.photos,onPhotosChange:y,maxPhotos:5})})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(fe,{type:"submit",className:"flex-1 bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:"Create Post"}),l.jsx(fe,{type:"button",variant:"outline",onClick:()=>u(!1),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:"Cancel"})]})]})})]})}),v.length===0?l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] p-12 text-center",children:[l.jsx(pn,{className:"h-12 w-12 text-[#a8b892] mx-auto mb-4"}),l.jsx("h3",{className:"text-[#2d3d1f] mb-2",children:h==="all"?"No posts yet":`No posts in ${h}`}),l.jsx("p",{className:"text-[#3c4f21] mb-4",children:"Be the first to share something with the community!"}),l.jsxs(fe,{onClick:()=>o?u(!0):i(),className:"bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:[l.jsx(ua,{className:"w-4 h-4 mr-2"}),"Create First Post"]})]}):l.jsx("div",{className:"grid gap-6",children:v.map(j=>{const k=j.photos&&j.photos.length>0?j.photos[0]:null,R=j.author?.trim().length?j.author.trim():"Community Member",F=o&&(o.isAdmin||j.authorId===o.id);return l.jsxs(Ve,{role:"button",tabIndex:0,onClick:()=>N(j),onKeyDown:T=>C(T,j),className:"bg-[#ffffff] border-[#a8b892] shadow-sm hover:shadow-xl transition-all cursor-pointer focus-visible:outline focus-visible:outline-2 focus-visible:outline-[#556B2F]",children:[l.jsxs("div",{className:"relative",children:[k?l.jsx("img",{src:k,alt:`${j.title} cover`,className:"w-full h-56 object-cover"}):l.jsx("div",{className:"w-full h-56 bg-[#f8f9f6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-12 h-12 mx-auto mb-2 opacity-60"}),l.jsx("p",{className:"text-sm opacity-70",children:"No photo"})]})}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsxs(an,{className:`${vT(j.category)} px-3 py-1 flex items-center gap-1`,children:[l.jsx(wh,{className:"w-3 h-3"}),j.category||"General Discussion"]})}),F&&l.jsx(fe,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),w(j.id,j.title)},className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-black/50 text-white hover:bg-black/70",title:o.isAdmin&&j.authorId!==o.id?"Delete post (Admin privileges)":"Delete post",children:l.jsx(Cs,{className:"w-4 h-4"})})]}),l.jsxs(qe,{className:"p-5 space-y-3",children:[l.jsx(vt,{className:"text-xl text-[#2d3d1f]",children:j.title}),l.jsxs("p",{className:"text-sm text-[#556B2F] flex items-center gap-2",children:[l.jsx(da,{className:"w-4 h-4"}),R]})]})]},j.id)})})]})}function yT({post:e,user:t,onClose:n,onMessageSent:r}){const[o,i]=b.useState(""),[c,u]=b.useState(!1),h=async()=>{if(o.trim()){u(!0);try{const{data:{user:p},error:f}=await Ce.auth.getUser();if(f||!p){be.warning("Please log in to send messages."),u(!1);return}const m=e.authorId;if(!m){be.error("Unable to find the author for this post."),u(!1);return}if(m===p.id){be.info("You cannot send a message to yourself."),u(!1);return}const v=new Date().toISOString(),y=`and(host_id.eq.${m},guest_id.eq.${p.id},class_id.is.null),and(host_id.eq.${p.id},guest_id.eq.${m},class_id.is.null)`,{data:w,error:_}=await Ce.from("conversations").select("id, class_id").or(y).limit(1).maybeSingle();if(_)throw _;let N=w?.id;if(N)await Ce.from("conversations").update({last_message_at:v,updated_at:v}).eq("id",N);else{const{data:k,error:R}=await Ce.from("conversations").insert({class_id:null,host_id:m,guest_id:p.id,last_message_at:v,updated_at:v}).select("id").single();if(R)throw R;N=k.id}const C=`[Bulletin] ${e.title}

${o.trim()}`,{error:j}=await Ce.from("messages").insert({conversation_id:N,sender_id:p.id,content:C});if(j)throw j;window.dispatchEvent(new CustomEvent("herd-message-sent")),be.success("Message sent!"),r(),n()}catch(p){console.error("Error sending bulletin message:",p),be.error("Failed to send message. Please try again.")}finally{u(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(Ve,{className:"w-full max-w-lg bg-white",children:[l.jsxs(bt,{className:"border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(vt,{className:"text-[#3c4f21] flex items-center gap-2",children:[l.jsx(pn,{className:"h-5 w-5"}),"Message ",e.author||"Community Member"]}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0",children:l.jsx(Ln,{className:"h-4 w-4"})})]}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:["Re: ",e.title]})]}),l.jsxs(qe,{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-[#3c4f21] mb-2",children:"Your message:"}),l.jsx(Gn,{placeholder:"Type your message here...",value:o,onChange:p=>i(p.target.value),rows:4,className:"w-full resize-none",disabled:c})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(fe,{variant:"outline",onClick:n,disabled:c,children:"Cancel"}),l.jsx(fe,{onClick:h,disabled:!o.trim()||c,className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mc,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})]})})}const xT=e=>({"General Discussion":"bg-[#556B2F] text-[#f8f9f6]","Tips & Tricks":"bg-[#c54a2c] text-[#f8f9f6]","Equipment Sharing":"bg-[#a8b892] text-[#2d3d1f]","Local Events":"bg-[#8b7355] text-[#f8f9f6]","Questions & Help":"bg-[#6b8ba3] text-[#f8f9f6]","Success Stories":"bg-[#689c3a] text-[#f8f9f6]","For Sale/Trade":"bg-[#b8674a] text-[#f8f9f6]","Weather & Seasonal":"bg-[#7a6b8a] text-[#f8f9f6]"})[e]||"bg-[#556B2F] text-[#f8f9f6]",wT=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),bT=["General Discussion","Tips & Tricks","Equipment Sharing","Local Events","Questions & Help","Success Stories","For Sale/Trade","Weather & Seasonal"];function _T({post:e,user:t,onBack:n,onDeletePost:r,onRequireAuth:o,onUpdatePost:i}){const[c,u]=b.useState(!1),[h,p]=b.useState(0),[f,m]=b.useState(!1),[v,y]=b.useState(!1),[w,_]=b.useState(e.title),[N,C]=b.useState(e.content),[j,k]=b.useState(e.category||"General Discussion"),[R,F]=b.useState(!1),[T,B]=b.useState(null);b.useEffect(()=>{_(e.title),C(e.content),k(e.category||"General Discussion")},[e.id,e.title,e.content,e.category]);const E=e.photos??[],I=E.length>0,$=E.length>1;b.useEffect(()=>{p(0)},[e.id,E.length]);const H=J=>{p(J),u(!0)},V=()=>{$&&p(J=>(J+1)%E.length)},K=()=>{$&&p(J=>(J-1+E.length)%E.length)},W=J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),H(h))},Q=e.author?.trim().length?e.author.trim():"Community Member",A=e.category||"General Discussion",P=t&&(t.isAdmin||e.authorId===t.id),D=t&&e.authorId&&t.id!==e.authorId,z=t&&(t.isAdmin||e.authorId===t.id),L=!v&&(!e.authorId||!t||t.id!==e.authorId),M=()=>{const J=P&&t?.isAdmin&&e.authorId!==t?.id?`Are you sure you want to delete "${e.title}" by ${Q}? This action cannot be undone.`:`Are you sure you want to delete "${e.title}"? This action cannot be undone.`;window.confirm(J)&&r(e.id)},U=()=>{if(!t){o();return}D&&m(!0)},te=async J=>{if(J.preventDefault(),!t){o();return}if(!w.trim()){B("Title is required.");return}if(!N.trim()){B("Content is required.");return}F(!0),B(null);const ee=await i(e.id,{title:w.trim(),content:N.trim(),category:j});F(!1),ee&&y(!1)};return l.jsxs("div",{className:"min-h-screen bg-[#f8f9f6]",children:[l.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[l.jsxs(fe,{variant:"ghost",onClick:n,className:"text-[#556B2F] hover:bg-[#e8e9e6] hover:text-[#3c4f21] flex items-center gap-2",children:[l.jsx(Si,{className:"w-4 h-4"}),"Back to Bulletins"]}),I?l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",children:l.jsxs("div",{className:"relative w-full h-64 md:h-96 cursor-zoom-in outline-none",role:"button",tabIndex:0,"aria-label":"Open photo gallery",onClick:()=>H(h),onKeyDown:W,children:[l.jsx(Yn,{src:E[h],alt:`${e.title} - Image ${h+1}`,className:"w-full h-full object-cover"}),$&&l.jsxs(l.Fragment,{children:[l.jsx(fe,{variant:"ghost",size:"sm",onClick:J=>{J.stopPropagation(),K()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",children:l.jsx(Oc,{className:"w-5 h-5"})}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:J=>{J.stopPropagation(),V()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white hover:bg-black/70",children:l.jsx(Dc,{className:"w-5 h-5"})})]}),$&&l.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[h+1," / ",E.length]})]})}),$&&l.jsx("div",{className:"flex gap-2 p-4 bg-white/90 overflow-x-auto",children:E.map((J,ee)=>l.jsx("button",{onClick:()=>p(ee),className:`flex-shrink-0 w-16 h-16 rounded overflow-hidden border-2 transition-all ${ee===h?"border-[#556B2F] shadow-md":"border-gray-300 hover:border-[#a8b892]"}`,children:l.jsx(Yn,{src:J,alt:`${e.title} - Thumbnail ${ee+1}`,className:"w-full h-full object-cover"})},`${J}-${ee}`))})]}):l.jsx("div",{className:"mb-6 h-64 md:h-96 w-full bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center rounded-lg",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg opacity-70",children:"No photos available"})]})}),l.jsxs(Ve,{className:"bg-white border-[#a8b892] shadow-lg",children:[l.jsxs(bt,{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs(an,{className:`${xT(A)} px-3 py-1 flex items-center gap-1`,children:[l.jsx(wh,{className:"w-3 h-3"}),A]}),l.jsxs("div",{className:"flex items-center gap-2",children:[z&&l.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{v?(y(!1),B(null),_(e.title),C(e.content),k(e.category||"General Discussion")):y(!0)},className:"border-[#556B2F] text-[#556B2F] hover:bg-[#f0f4ea]",children:[l.jsx(Wf,{className:"w-4 h-4 mr-1"}),v?"Cancel Edit":"Edit Post"]}),P&&l.jsxs(fe,{variant:"ghost",size:"sm",onClick:M,className:"text-[#c54a2c] hover:text-[#b8432a] hover:bg-[#fef2f2]",children:[l.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),l.jsx(vt,{className:"text-2xl text-[#2d3d1f]",children:v?"Edit Bulletin":e.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-[#556B2F]",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(da,{className:"w-4 h-4"}),Q]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4"}),wT(e.createdAt)]})]})]}),l.jsx(qe,{className:"space-y-6",children:v?l.jsxs("form",{onSubmit:te,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"edit-title",children:"Title"}),l.jsx(St,{id:"edit-title",value:w,onChange:J=>_(J.target.value),className:"mt-1",required:!0})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"edit-category",children:"Category"}),l.jsxs(Hh,{value:j,onValueChange:J=>k(J),children:[l.jsx(qh,{id:"edit-category",className:"mt-1",children:l.jsx(Vh,{})}),l.jsx(Gh,{children:bT.map(J=>l.jsx(Yh,{value:J,children:J},J))})]})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"edit-content",children:"Content"}),l.jsx(Gn,{id:"edit-content",value:N,onChange:J=>C(J.target.value),className:"mt-1",rows:8,required:!0})]})]}),T&&l.jsx("p",{className:"text-sm text-red-600",children:T}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(fe,{type:"submit",disabled:R,className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:R?"Saving...":"Save Changes"}),l.jsx(fe,{type:"button",variant:"outline",onClick:()=>{y(!1),B(null),_(e.title),C(e.content),k(e.category||"General Discussion")},children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[e.content&&l.jsx("div",{className:"rounded-lg bg-[#f8f9f6] p-5 text-[#3c4f21] whitespace-pre-wrap",children:e.content}),L&&l.jsx("div",{className:"flex flex-wrap gap-3",children:l.jsxs(fe,{onClick:U,className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white flex items-center gap-2",children:[l.jsx(pn,{className:"w-4 h-4"}),"Send Message"]})})]})})]})]}),l.jsx(Cb,{photos:E,open:c,startIndex:h,onClose:()=>u(!1),onIndexChange:J=>p(J),title:e.title}),f&&t&&D&&l.jsx(yT,{post:e,user:t,onClose:()=>m(!1),onMessageSent:()=>m(!1)})]})}function NT({...e}){return l.jsx(vb,{"data-slot":"sheet",...e})}function ST({...e}){return l.jsx(rT,{"data-slot":"sheet-trigger",...e})}function jT({...e}){return l.jsx(yb,{"data-slot":"sheet-portal",...e})}const kb=b.forwardRef(({className:e,...t},n)=>l.jsx(xb,{ref:n,"data-slot":"sheet-overlay",className:st("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));kb.displayName="SheetOverlay";function CT({className:e,children:t,side:n="right",...r}){return l.jsxs(jT,{children:[l.jsx(kb,{}),l.jsxs(wb,{"data-slot":"sheet-content",className:st("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,l.jsxs(Nb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(Ln,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function kT({className:e,...t}){return l.jsx(bb,{"data-slot":"sheet-title",className:st("text-foreground font-semibold",e),...t})}function ET({className:e,...t}){return l.jsx(_b,{"data-slot":"sheet-description",className:st("text-muted-foreground text-sm",e),...t})}function PT({currentPage:e,onNavigate:t,user:n,onSignOut:r,onShowAuth:o}){const[i,c]=b.useState(!1),u=f=>{t(f),c(!1)},h=()=>{r(),c(!1)},p=()=>{o(),c(!1)};return l.jsx("nav",{className:"bg-[#556B2F] shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("button",{onClick:()=>u("home"),className:"text-2xl font-bold text-[#f8f9f6] hover:text-[#a8b892] transition-colors duration-200",children:"HERD"})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs(fe,{variant:e==="classes"?"secondary":"ghost",onClick:()=>t("classes"),className:`${e==="classes"?"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]":"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]"}`,children:[l.jsx(ao,{className:"w-4 h-4 mr-2"}),"Classes"]}),l.jsxs(fe,{variant:e==="create-class"?"secondary":"ghost",onClick:()=>t("create-class"),className:`${e==="create-class"?"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]":"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]"}`,children:[l.jsx(pv,{className:"w-4 h-4 mr-2"}),n&&!n.stripeConnected?"Setup Stripe":"Teach"]}),l.jsxs(fe,{variant:e==="bulletin"?"secondary":"ghost",onClick:()=>t("bulletin"),className:`${e==="bulletin"?"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]":"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]"}`,children:[l.jsx(pn,{className:"w-4 h-4 mr-2"}),"Bulletin"]}),n&&l.jsxs(fe,{variant:e==="dashboard"?"secondary":"ghost",onClick:()=>t("dashboard"),className:`${e==="dashboard"?"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]":"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]"}`,children:[l.jsx(vv,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),n?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(fe,{variant:e==="profile"?"secondary":"ghost",onClick:()=>t("profile"),className:`${e==="profile"?"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]":"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]"}`,children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),n.name]}),l.jsx(fe,{variant:"ghost",onClick:r,className:"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]",children:l.jsx(yv,{className:"w-4 h-4"})})]}):l.jsx(fe,{variant:"secondary",onClick:o,className:"bg-[#f8f9f6] text-[#556B2F] hover:bg-[#f0f2ed]",children:"Sign In"})]}),l.jsx("div",{className:"md:hidden",children:l.jsxs(NT,{open:i,onOpenChange:c,children:[l.jsx(ST,{asChild:!0,children:l.jsx(fe,{variant:"ghost",size:"sm",className:"text-[#f8f9f6] hover:bg-[#6B7F3F] hover:text-[#f8f9f6]",children:l.jsx(BN,{className:"w-6 h-6"})})}),l.jsxs(CT,{side:"right",className:"w-80 bg-[#f8f9f6] border-l border-[#556B2F]/20",children:[l.jsx(kT,{className:"sr-only",children:"Navigation Menu"}),l.jsx(ET,{className:"sr-only",children:"Access navigation links and user account options"}),l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"flex items-center justify-between pb-6 border-b border-[#556B2F]/20",children:l.jsx("button",{onClick:()=>u("home"),className:"text-2xl font-bold text-[#556B2F] hover:text-[#3c4f21] transition-colors duration-200",children:"HERD"})}),l.jsx("div",{className:"flex-1 py-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs(fe,{variant:e==="classes"?"default":"ghost",onClick:()=>u("classes"),className:`w-full justify-start h-12 ${e==="classes"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]":"text-[#556B2F] hover:bg-[#556B2F]/10"}`,children:[l.jsx(ao,{className:"w-5 h-5 mr-3"}),"Classes"]}),l.jsxs(fe,{variant:e==="create-class"?"default":"ghost",onClick:()=>u("create-class"),className:`w-full justify-start h-12 ${e==="create-class"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]":"text-[#556B2F] hover:bg-[#556B2F]/10"}`,children:[l.jsx(pv,{className:"w-5 h-5 mr-3"}),n&&!n.stripeConnected?"Setup Stripe":"Teach"]}),l.jsxs(fe,{variant:e==="bulletin"?"default":"ghost",onClick:()=>u("bulletin"),className:`w-full justify-start h-12 ${e==="bulletin"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]":"text-[#556B2F] hover:bg-[#556B2F]/10"}`,children:[l.jsx(pn,{className:"w-5 h-5 mr-3"}),"Bulletin"]}),n&&l.jsxs(fe,{variant:e==="dashboard"?"default":"ghost",onClick:()=>u("dashboard"),className:`w-full justify-start h-12 ${e==="dashboard"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]":"text-[#556B2F] hover:bg-[#556B2F]/10"}`,children:[l.jsx(vv,{className:"w-5 h-5 mr-3"}),"Dashboard"]}),n&&l.jsxs(fe,{variant:e==="profile"?"default":"ghost",onClick:()=>u("profile"),className:`w-full justify-start h-12 ${e==="profile"?"bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]":"text-[#556B2F] hover:bg-[#556B2F]/10"}`,children:[l.jsx(da,{className:"w-5 h-5 mr-3"}),"Profile"]})]})}),l.jsx("div",{className:"pt-6 border-t border-[#556B2F]/20",children:n?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"px-3 py-2 bg-[#556B2F]/5 rounded-lg",children:[l.jsx("p",{className:"text-sm text-[#556B2F]/70",children:"Signed in as"}),l.jsx("p",{className:"font-medium text-[#556B2F]",children:n.name})]}),l.jsxs(fe,{variant:"outline",onClick:h,className:"w-full justify-start h-12 border-[#556B2F]/20 text-[#556B2F] hover:bg-[#556B2F]/10",children:[l.jsx(yv,{className:"w-5 h-5 mr-3"}),"Sign Out"]})]}):l.jsx(fe,{variant:"default",onClick:p,className:"w-full h-12 bg-[#556B2F] text-[#f8f9f6] hover:bg-[#3c4f21]",children:"Sign In"})})]})]})]})})]})})})}function RT({value:e,onChange:t,size:n=28}){return l.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(r=>l.jsx("button",{type:"button",onClick:()=>t(r),title:`${r} star${r>1?"s":""}`,className:"p-0.5","aria-label":`Set rating to ${r}`,children:l.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:r<=e?"currentColor":"none",stroke:"currentColor",className:r<=e?"text-yellow-500":"text-gray-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.48 3.499a.562.562 0 011.04 0l2.017 5.143a.563.563 0 00.475.353l5.514.401a.562.562 0 01.319.98l-4.204 3.62a.563.563 0 00-.182.557l1.285 5.407a.562.562 0 01-.84.61l-4.727-2.77a.563.563 0 00-.586 0l-4.727 2.77a.562.562 0 01-.84-.61l1.285-5.407a.563.563 0 00-.182-.557l-4.204-3.62a.562.562 0 01.319-.98l5.514-.401a.563.563 0 00.475-.353L11.48 3.5z"})})},r))})}const AT="https://czdzjdujojcjluqcdchq.functions.supabase.co",jf="You have already reviewed this host for this class";function TT(){const e=b.useMemo(()=>typeof window>"u"?"":new URLSearchParams(window.location.search).get("token")||"",[]),[t,n]=b.useState(0),[r,o]=b.useState(""),[i,c]=b.useState(!1),[u,h]=b.useState(null);if(b.useEffect(()=>{if(u?.ok&&typeof window<"u"){const f=window.setTimeout(()=>{window.location.href="/dashboard/guestview/mybookings"},2500);return()=>window.clearTimeout(f)}},[u]),!e)return l.jsx("div",{className:"max-w-md mx-auto p-6",children:"Invalid or missing review link."});const p=async()=>{if(t<1||t>5){alert("Please select a star rating.");return}try{c(!0);const f=await fetch(`${AT}/submit-review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,rating:t,comment:r})}),m=await f.json().catch(()=>({}));if(f.status===409){h({ok:!1,error:jf});return}if(!f.ok||m?.error)throw new Error(m?.error||"Failed to submit review");h({ok:!0})}catch(f){h({ok:!1,error:f?.message||"Something went wrong"})}finally{c(!1)}};return u?.ok?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Thanks for your review!"}),l.jsx("p",{children:"Your star rating has been recorded and your feedback (if any) was shared with the host."})]}):u&&!u.ok&&u.error===jf?l.jsxs("div",{className:"max-w-md mx-auto p-6",children:[l.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Review Already Submitted"}),l.jsx("p",{children:jf})]}):l.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-4",children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Rate your host"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your comment (optional) will be emailed to the host, but only your star rating is saved."}),l.jsx("div",{children:l.jsx(RT,{value:t,onChange:n})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium mb-1",children:"Comment (optional)"}),l.jsx(Gn,{id:"comment",value:r,onChange:f=>o(f.target.value),placeholder:"What did you enjoy? Anything we could improve?",rows:4})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(fe,{onClick:p,disabled:i,children:i?"Submitting...":"Submit Review"})}),u&&!u.ok&&l.jsx("p",{className:"text-red-600 text-sm mt-2",children:u.error})]})}const My=[{label:"At least 8 characters",test:e=>e.length>=8},{label:"Contains uppercase letter",test:e=>/[A-Z]/.test(e)},{label:"Contains lowercase letter",test:e=>/[a-z]/.test(e)},{label:"Contains a number",test:e=>/\d/.test(e)}];async function Fy(e){const{data:{user:t}}=await Ce.auth.getUser();if(!t)return;const{data:n}=await Ce.from("profiles").select("id, full_name, email").eq("id",t.id).maybeSingle();if(!n)return;const r={};e.fullName&&(!n.full_name||n.full_name.trim()==="")&&(r.full_name=e.fullName),e.email&&(!n.email||n.email.trim()==="")&&(r.email=e.email),Object.keys(r).length>0&&await Ce.from("profiles").update(r).eq("id",t.id)}function Cf(e){const t=String(e?.message??"");return t.includes("Invalid login credentials")||t.includes("Invalid email or password")?"Email or password is incorrect. Please try again.":t.includes("Email not CONFIRMED")?"Please verify your email address before signing in. Check your inbox for a verification link.":t.includes("Too many requests")?"Too many sign-in attempts. Please wait a few minutes and try again.":t.includes("Invalid email")?"Please enter a valid email address.":t.includes("already registered")?"An account with this email already exists. Please sign in instead.":`${t||"Unknown error"}. Please try again or contact support.`}function IT({onClose:e,onSuccess:t}){const[n,r]=b.useState(!1),[o,i]=b.useState(!1),[c,u]=b.useState(""),[h,p]=b.useState(""),[f,m]=b.useState(""),[v,y]=b.useState(""),[w,_]=b.useState(!1),[N,C]=b.useState(!1),[j,k]=b.useState(!1),[R,F]=b.useState(""),[T,B]=b.useState(!1),[E,I]=b.useState(!1),$=My.every(M=>M.test(f)),H=f===v,V=o?!!c:n?!!(c&&h.trim()&&$&&H):!!(c&&f),K=o?T?"Resend Reset Email":"Send Reset Email":n?"Create Account":"Sign In",W=async M=>{M.preventDefault(),k(!0),F("");try{if(n){if(!$)throw new Error("Password does not meet requirements");if(!H)throw new Error("Passwords do not match");const{data:U,error:te}=await Ce.auth.signUp({email:c,password:f,options:{data:{full_name:h.trim()},emailRedirectTo:`${window.location.origin}?verified=true`}});if(te)throw new Error(Cf(te));if(U?.user&&!U.session){e(),be.success("Account created! Check your email for the verification link to complete registration.");return}if(U?.session){await Fy({fullName:h,email:c}),t();return}throw new Error("Unexpected response during account creation")}else{await Ce.auth.getSession().then(async({data:ee})=>{ee.session||await Ce.auth.signOut()});const{data:U,error:te}=await Ce.auth.signInWithPassword({email:c,password:f});if(te)throw new Error(Cf(te));if(U?.user&&!U.user.email_confirmed_at){e(),be.warning("Please verify your email address before signing in. Check your inbox for a verification link.");return}const J=U?.user?.user_metadata?.full_name?.toString()??"";await Fy({fullName:J||h,email:c}),t()}}catch(U){F(U?.message||"An error occurred")}finally{k(!1)}},Q=async M=>{M.preventDefault(),k(!0),F(""),B(!1);try{if(!c.trim())throw new Error("Please enter the email associated with your account.");const{error:U}=await Ce.auth.resetPasswordForEmail(c.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(U)throw new Error(Cf(U));B(!0),be.success("Password reset email sent! Check your inbox for the reset link.")}catch(U){F(U?.message||"An error occurred")}finally{k(!1)}},A=()=>{i(!1),B(!1),F("")},P=()=>{r(!1),i(!0),B(!1),F(""),m(""),y(""),p(""),I(!1)},D=()=>{A(),r(!1),m(""),y(""),I(!1)},z=()=>{A(),r(!0),m(""),y(""),p(""),I(!1)},L=()=>{A(),r(M=>!M),F(""),m(""),y(""),p(""),I(!1)};return l.jsx(l.Fragment,{children:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(Ve,{className:"bg-white border-[#a8b892] max-w-md w-full overflow-hidden",children:[l.jsx(bt,{className:"bg-[#556B2F] text-[#f8f9f6] rounded-t-xl",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(vt,{className:"text-[#f8f9f6]",children:n?"Create Account":"Sign In"}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:e,className:"text-[#f8f9f6] hover:bg-[#6B7F3F]",children:l.jsx(Ln,{className:"w-4 h-4"})})]})}),l.jsx(qe,{className:"p-6",children:l.jsx("form",{onSubmit:o?Q:W,className:"space-y-4",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2 text-sm text-[#2d3d1f]",children:[l.jsx("p",{children:"Forgot your password? No worries."}),l.jsx("p",{children:"Enter the email associated with your account and we'll send you a secure link to set a new password."})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"resetEmail",className:"text-[#2d3d1f]",children:"Email"}),l.jsx(St,{id:"resetEmail",type:"email",inputMode:"email",autoComplete:"email",value:c,onChange:M=>u(M.target.value),required:!0,className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]",placeholder:"Enter your email"})]}),T&&l.jsxs("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded p-3",children:["Reset instructions were sent to ",l.jsx("strong",{children:c}),". Check your inbox (and spam folder) for the link."]}),R&&l.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded flex items-center whitespace-pre-line",children:[l.jsx(zr,{className:"w-4 h-4 mr-2"}),R]}),l.jsx(fe,{type:"submit",disabled:j||!V,className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6] disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Sending...":K}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("button",{type:"button",onClick:D,className:"text-[#556B2F] hover:underline",children:"Remembered your password? Sign in"}),l.jsx("button",{type:"button",onClick:z,className:"text-[#556B2F] hover:underline",children:"Need an account? Create one"})]})]}):l.jsxs(l.Fragment,{children:[n&&l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"fullName",className:"text-[#2d3d1f]",children:"Full Name"}),l.jsx(St,{id:"fullName",type:"text",value:h,onChange:M=>p(M.target.value),required:!0,className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"email",className:"text-[#2d3d1f]",children:"Email"}),l.jsx(St,{id:"email",type:"email",inputMode:"email",autoComplete:"email",value:c,onChange:M=>u(M.target.value),required:!0,className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]",placeholder:"Enter your email"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"password",className:"text-[#2d3d1f]",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(St,{id:"password",type:w?"text":"password",value:f,onChange:M=>m(M.target.value),onFocus:()=>n&&I(!0),required:!0,className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F] pr-10",placeholder:"Enter your password",minLength:n?8:6,autoComplete:n?"new-password":"current-password"}),l.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(!w),className:"absolute right-2 top-1/2 -translate-y-1/2 h-auto p-1 text-[#556B2F] hover:bg-transparent",children:w?l.jsx(js,{className:"w-4 h-4"}):l.jsx(mc,{className:"w-4 h-4"})})]})]}),!n&&l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"button",onClick:P,className:"text-sm text-[#556B2F] hover:underline",children:"Forgot password?"})}),n&&l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"confirmPassword",className:"text-[#2d3d1f]",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(St,{id:"confirmPassword",type:N?"text":"password",value:v,onChange:M=>y(M.target.value),required:!0,className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F] pr-10",placeholder:"Confirm your password",autoComplete:"new-password"}),l.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(!N),className:"absolute right-2 top-1/2 -translate-y-1/2 h-auto p-1 text-[#556B2F] hover:bg-transparent",children:N?l.jsx(js,{className:"w-4 h-4"}):l.jsx(mc,{className:"w-4 h-4"})})]}),v&&!H&&l.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[l.jsx(zr,{className:"w-3 h-3 mr-1"}),"Passwords do not match"]})]}),n&&E&&l.jsxs("div",{className:"bg-[#f8f9f6] border border-[#a8b892] rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-[#2d3d1f] mb-2",children:"Password requirements:"}),l.jsx("div",{className:"space-y-1",children:My.map((M,U)=>l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx(io,{className:`w-3 h-3 mr-2 ${M.test(f)?"text-green-600":"text-gray-400"}`}),l.jsx("span",{className:M.test(f)?"text-green-600":"text-[#3c4f21]",children:M.label})]},U))})]}),R&&l.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded flex items-center whitespace-pre-line",children:[l.jsx(zr,{className:"w-4 h-4 mr-2"}),R]}),l.jsx(fe,{type:"submit",disabled:j||!V,className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6] disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Loading...":K}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:L,className:"text-[#556B2F] hover:underline",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})})]})})})}function OT({onComplete:e,authSession:t}){const[n,r]=b.useState(""),[o,i]=b.useState(!1),[c,u]=b.useState("");b.useEffect(()=>{let f="";t?.user?.user_metadata?.full_name?f=t.user.user_metadata.full_name:t?.user?.user_metadata?.name?f=t.user.user_metadata.name:t?.user?.email&&(f=t.user.email.split("@")[0].split(".").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")),r(f),f.trim()&&h(f)},[t]);const h=async f=>{i(!0),u("");try{const{data:{user:m}}=await Ce.auth.getUser();if(!m)throw new Error("Not authenticated");const v={full_name:f.trim(),email:t?.user?.email,updated_at:new Date().toISOString()},{data:y,error:w}=await Ce.from("profiles").update(v).eq("id",m.id).select().maybeSingle();if(w)throw w;y?e(y):(console.warn("No profile row found to update. Check trigger setup."),u("Profile not found. Please contact support."),i(!1))}catch(m){console.error("Onboarding error:",m),u(m.message||"Failed to complete onboarding"),i(!1)}},p=async f=>{f.preventDefault(),await h(n)};return o?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx(Ve,{className:"bg-[#ffffff] border-[#a8b892] max-w-md w-full",children:l.jsxs(qe,{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("h3",{className:"text-[#3c4f21] mb-2",children:"Setting up your profile..."}),l.jsx("p",{className:"text-[#556B2F] text-sm",children:"Welcome to HERD!"})]})})}):c||!n.trim()?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] max-w-md w-full",children:[l.jsxs(bt,{className:"bg-[#556B2F] text-[#f8f9f6]",children:[l.jsx(vt,{children:"Welcome to HERD!"}),l.jsx("p",{className:"text-[#a8b892] text-sm",children:"Lets complete your profile setup"})]}),l.jsx(qe,{className:"p-6",children:l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"email",className:"text-[#2d3d1f]",children:"Email"}),l.jsx(St,{id:"email",type:"email",value:t?.user?.email||"",disabled:!0,className:"mt-1 bg-gray-100 border-[#a8b892]"})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"name",className:"text-[#2d3d1f]",children:"Full Name *"}),l.jsx(St,{id:"name",type:"text",value:n,onChange:f=>r(f.target.value),required:!0,className:"mt-1 bg-[#ffffff] border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F]",placeholder:"Enter your full name"})]}),c&&l.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:c}),l.jsx(fe,{type:"submit",disabled:!n.trim(),className:"w-full bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6]",children:"Complete Setup"}),l.jsx("p",{className:"text-sm text-[#3c4f21] text-center",children:"You can add more details later, like farm info and Stripe connection for teaching classes."})]})})]})}):null}const DT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51R62SqL6B5lxSXCUxjcq17byaeHBfkutr6idbXZsovGMZlcgFWfZgMVMsSb1h6MAqAcHmFlweO0IALaE86ptU4EN00MY1DTDUP",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6ZHpqZHVqb2pjamx1cWNkY2hxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MjM2MjksImV4cCI6MjA3NDM5OTYyOX0.kS7ZOxQgPvXW7b1mU3OKcAhsnTVBqWqdDXXvUUxxB2M",VITE_SUPABASE_URL:"https://czdzjdujojcjluqcdchq.supabase.co"};function MT({userEmail:e}){const[t,n]=b.useState(!1),[r,o]=b.useState("idle"),[i,c]=b.useState(null),u=async()=>{if(!e){be.error("Missing email address");return}const m=Date.now();if(i&&m-i<6e4){const v=Math.ceil((6e4-(m-i))/1e3);be.info(`Please wait ${v} seconds before requesting another verification email.`);return}n(!0),o("idle");try{console.log("Attempting to resend verification email to:",e),console.log("Supabase URL:",typeof import.meta<"u"&&DT?"https://czdzjdujojcjluqcdchq.supabase.co":"unknown"),console.log("Using resend with type: signup");const{data:y,error:w}=await Ce.auth.getUser();if(w)throw console.error("getUser error:",w),w;if(!!y?.user?.email_confirmed_at){console.log("User already verified; skipping resend."),o("success"),n(!1);return}const{data:N,error:C}=await Ce.auth.resend({type:"signup",email:e});if(C)throw console.error("Resend verification error details:",{message:C.message,status:C?.status,name:C.name}),C;console.log("Resend response:",N),console.log("Verification email resent successfully"),o("success"),c(m),setTimeout(()=>o("idle"),5e3)}catch(v){console.error("Error resending verification email:",v);let y="Failed to send verification email. ";v?.message?.includes("email confirmation")?y+="Email verification may not be enabled for this project.":v?.message?.includes("rate limit")?y+="Too many requests. Please wait before trying again.":v?.status===422?y+="Email confirmation may not be enabled in your Supabase settings.":y+=`Error: ${v?.message??"Unknown error"}`,o("error"),be.error(y),setTimeout(()=>o("idle"),5e3)}finally{n(!1)}},h=()=>{switch(r){case"success":return l.jsx(ac,{className:"w-4 h-4 text-green-600"});case"error":return l.jsx(zr,{className:"w-4 h-4 text-red-600"});default:return l.jsx(xv,{className:"w-4 h-4 text-[#556B2F]"})}},p=()=>{switch(r){case"success":return"Verification email sent (or already verified). Check your inbox.";case"error":return"Failed to send verification email. Please try again.";default:return`Please verify your email address (${e}) to access all features.`}},f=()=>{switch(r){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-[#fff8dc] border-[#c54a2c]"}};return l.jsx(Ve,{className:`mx-4 mt-4 border-2 ${f()} shadow-sm`,children:l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[h(),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#2d3d1f]",children:p()}),r==="idle"&&l.jsx("p",{className:"text-xs text-[#3c4f21] mt-1",children:"You can browse content but cannot book classes or create posts until verified."})]})]}),r!=="success"&&l.jsx(fe,{onClick:u,disabled:t,variant:"outline",size:"sm",className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6] whitespace-nowrap",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Sx,{className:"w-3 h-3 mr-1 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xv,{className:"w-3 h-3 mr-1"}),"Resend Email"]})})]})})})}var kf,Ly;function FT(){if(Ly)return kf;Ly=1;var e=!1,t,n,r,o,i,c,u,h,p,f,m,v,y,w,_;function N(){if(!e){e=!0;var j=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),R=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(v=/\b(iPhone|iP[ao]d)/.exec(j),y=/\b(iP[ao]d)/.exec(j),f=/Android/i.exec(j),w=/FBAN\/\w+;/i.exec(j),_=/Mobile/i.exec(j),m=!!/Win64/.exec(j),k){t=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var F=/(?:Trident\/(\d+.\d+))/.exec(j);c=F?parseFloat(F[1])+4:t,n=k[2]?parseFloat(k[2]):NaN,r=k[3]?parseFloat(k[3]):NaN,o=k[4]?parseFloat(k[4]):NaN,o?(k=/(?:Chrome\/(\d+\.\d+))/.exec(j),i=k&&k[1]?parseFloat(k[1]):NaN):i=NaN}else t=n=r=i=o=NaN;if(R){if(R[1]){var T=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);u=T?parseFloat(T[1].replace("_",".")):!0}else u=!1;h=!!R[2],p=!!R[3]}else u=h=p=!1}}var C={ie:function(){return N()||t},ieCompatibilityMode:function(){return N()||c>t},ie64:function(){return C.ie()&&m},firefox:function(){return N()||n},opera:function(){return N()||r},webkit:function(){return N()||o},safari:function(){return C.webkit()},chrome:function(){return N()||i},windows:function(){return N()||h},osx:function(){return N()||u},linux:function(){return N()||p},iphone:function(){return N()||v},mobile:function(){return N()||v||y||f||_},nativeApp:function(){return N()||w},android:function(){return N()||f},ipad:function(){return N()||y}};return kf=C,kf}var Ef,By;function LT(){if(By)return Ef;By=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Ef=t,Ef}var Pf,$y;function BT(){if($y)return Pf;$y=1;var e=LT(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,o){if(!e.canUseDOM||o&&!("addEventListener"in document))return!1;var i="on"+r,c=i in document;if(!c){var u=document.createElement("div");u.setAttribute(i,"return;"),c=typeof u[i]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return Pf=n,Pf}var Rf,Uy;function $T(){if(Uy)return Rf;Uy=1;var e=FT(),t=BT(),n=10,r=40,o=800;function i(c){var u=0,h=0,p=0,f=0;return"detail"in c&&(h=c.detail),"wheelDelta"in c&&(h=-c.wheelDelta/120),"wheelDeltaY"in c&&(h=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(u=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(u=h,h=0),p=u*n,f=h*n,"deltaY"in c&&(f=c.deltaY),"deltaX"in c&&(p=c.deltaX),(p||f)&&c.deltaMode&&(c.deltaMode==1?(p*=r,f*=r):(p*=o,f*=o)),p&&!u&&(u=p<1?-1:1),f&&!h&&(h=f<1?-1:1),{spinX:u,spinY:h,pixelX:p,pixelY:f}}return i.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Rf=i,Rf}var Af,zy;function UT(){return zy||(zy=1,Af=$T()),Af}var zT=UT();const WT=Tc(zT);function HT(e,t,n,r,o,i){i===void 0&&(i=0);var c=ga(e,t,i),u=c.width,h=c.height,p=Math.min(u,n),f=Math.min(h,r);return p>f*o?{width:f*o,height:f}:{width:p,height:p/o}}function VT(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function ci(e,t,n,r,o){o===void 0&&(o=0);var i=ga(t.width,t.height,o),c=i.width,u=i.height;return{x:Wy(e.x,c,n.width,r),y:Wy(e.y,u,n.height,r)}}function Wy(e,t,n,r){var o=t*r/2-n/2;return su(e,-o,o)}function Hy(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Vy(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function qT(e,t,n,r,o,i,c){i===void 0&&(i=0),c===void 0&&(c=!0);var u=c?GT:YT,h=ga(t.width,t.height,i),p=ga(t.naturalWidth,t.naturalHeight,i),f={x:u(100,((h.width-n.width/o)/2-e.x/o)/h.width*100),y:u(100,((h.height-n.height/o)/2-e.y/o)/h.height*100),width:u(100,n.width/h.width*100/o),height:u(100,n.height/h.height*100/o)},m=Math.round(u(p.width,f.width*p.width/100)),v=Math.round(u(p.height,f.height*p.height/100)),y=p.width>=p.height*r,w=y?{width:Math.round(v*r),height:v}:{width:m,height:Math.round(m/r)},_=Tt(Tt({},w),{x:Math.round(u(p.width-w.width,f.x*p.width/100)),y:Math.round(u(p.height-w.height,f.y*p.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:_}}function GT(e,t){return Math.min(e,Math.max(0,t))}function YT(e,t){return t}function KT(e,t,n,r,o,i){var c=ga(t.width,t.height,n),u=su(r.width/c.width*(100/e.width),o,i),h={x:u*c.width/2-r.width/2-c.width*u*(e.x/100),y:u*c.height/2-r.height/2-c.height*u*(e.y/100)};return{crop:h,zoom:u}}function QT(e,t,n){var r=VT(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function JT(e,t,n,r,o,i){n===void 0&&(n=0);var c=ga(t.naturalWidth,t.naturalHeight,n),u=su(QT(e,t,r),o,i),h=r.height>r.width?r.height/e.height:r.width/e.width,p={x:((c.width-e.width)/2-e.x)*h,y:((c.height-e.height)/2-e.y)*h};return{crop:p,zoom:u}}function qy(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function XT(e){return e*Math.PI/180}function ga(e,t,n){var r=XT(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function su(e,t,n){return Math.min(Math.max(e,t),n)}function rc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var ZT=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,e3=1,t3=3,n3=1,r3=(function(e){g5(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=b.createRef(),n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.previousCropSize=null,n.windowResizeHandler=function(){return n.computeSizes()},n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=KT(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=o.crop,c=o.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var u=JT(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=u.crop,c=u.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var r,o,i,c,u,h,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var f=n.containerRect.width/n.containerRect.height,m=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,v=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=p.offsetWidth<m||p.offsetHeight<v,w=m/v,_=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":_=f>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":_={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":_={width:n.containerRect.height*w,height:n.containerRect.height};break}else _={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Tt(Tt({},_),{naturalWidth:m,naturalHeight:v}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var N=n.props.cropSize?n.props.cropSize:HT(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((u=n.state.cropSize)===null||u===void 0?void 0:u.height)!==N.height||((h=n.state.cropSize)===null||h===void 0?void 0:h.width)!==N.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(N),n.setState({cropSize:N},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(N),N}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var o=t.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+r.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,i,c=r.x,u=r.y;n.dragStartPosition={x:c,y:u},n.dragStartCrop=Tt({},n.props.crop),(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o)},n.onDrag=function(r){var o=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||i===void 0)){var c=o-n.dragStartPosition.x,u=i-n.dragStartPosition.y,h={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+u},p=n.props.restrictPosition?ci(h,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):h;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=t.getMousePoint(r),i=WT(r).pixelY,c=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(c,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var u,h;return(h=(u=n.props).onInteractionStart)===null||h===void 0?void 0:h.call(u)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var u,h;return(h=(u=n.props).onInteractionEnd)===null||h===void 0?void 0:h.call(u)})},250)}},n.getPointOnContainer=function(r,o){var i=r.x,c=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-o.x),y:n.containerRect.height/2-(c-o.y)}},n.getPointOnMedia=function(r){var o=r.x,i=r.y,c=n.props,u=c.crop,h=c.zoom;return{x:(o+u.x)/h,y:(i+u.y)/h}},n.setNewZoom=function(r,o,i){var c=i===void 0?{}:i,u=c.shouldUpdatePosition,h=u===void 0?!0:u;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=su(r,n.props.minZoom,n.props.maxZoom);if(h){var f=n.getPointOnContainer(o,n.containerPosition),m=n.getPointOnMedia(f),v={x:m.x*p-f.x,y:m.y*p-f.y},y=n.props.restrictPosition?ci(v,n.mediaSize,n.state.cropSize,p,n.props.rotation):v;n.props.onCropChange(y)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?ci(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return qT(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.crop;if(n.previousCropSize&&n.state.cropSize){var o=Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6;if(o){var i=n.state.cropSize.width/n.previousCropSize.width,c=n.state.cropSize.height/n.previousCropSize.height;r={x:n.props.crop.x*i,y:n.props.crop.y*c}}}var u=n.props.restrictPosition?ci(r,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):r;n.previousCropSize=n.state.cropSize,n.props.onCropChange(u),n.emitCropData()}},n.onKeyDown=function(r){var o,i,c=n.props,u=c.crop,h=c.onCropChange,p=c.keyboardStep,f=c.zoom,m=c.rotation,v=p;if(n.state.cropSize){r.shiftKey&&(v*=.2);var y=Tt({},u);switch(r.key){case"ArrowUp":y.y-=v,r.preventDefault();break;case"ArrowDown":y.y+=v,r.preventDefault();break;case"ArrowLeft":y.x-=v,r.preventDefault();break;case"ArrowRight":y.x+=v,r.preventDefault();break;default:return}n.props.restrictPosition&&(y=ci(y,n.mediaSize,n.state.cropSize,f,m)),r.repeat||(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o),h(y)}},n.onKeyUp=function(r){var o,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(i=(o=n.props).onInteractionEnd)===null||i===void 0||i.call(o)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.windowResizeHandler),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ZT,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.windowResizeHandler),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,o,i,c,u,h,p,f,m;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((u=n.crop)===null||u===void 0?void 0:u.x)!==((h=this.props.crop)===null||h===void 0?void 0:h.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},t.prototype.getObjectFit=function(){var n,r,o,i;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,h=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,f=h/p;return f<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),o=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=Hy(r,o),this.lastPinchRotation=Vy(r,o),this.onDragStart(qy(r,o))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]),c=qy(o,i);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=Hy(o,i),h=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(h,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var p=Vy(o,i),f=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(f),r.lastPinchRotation=p})}},t.prototype.render=function(){var n=this,r,o=this.props,i=o.image,c=o.video,u=o.mediaProps,h=o.cropperProps,p=o.transform,f=o.crop,m=f.x,v=f.y,y=o.rotation,w=o.zoom,_=o.cropShape,N=o.showGrid,C=o.roundCropAreaPixels,j=o.style,k=j.containerStyle,R=j.cropAreaStyle,F=j.mediaStyle,T=o.classes,B=T.containerClassName,E=T.cropAreaClassName,I=T.mediaClassName,$=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(V){return n.containerRef=V},"data-testid":"container",style:k,className:rc("reactEasyCrop_Container",B)},i?b.createElement("img",Tt({alt:"",className:rc("reactEasyCrop_Image",$==="contain"&&"reactEasyCrop_Contain",$==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},u,{src:i,ref:this.imageRef,style:Tt(Tt({},F),{transform:p||"translate(".concat(m,"px, ").concat(v,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&b.createElement("video",Tt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:rc("reactEasyCrop_Video",$==="contain"&&"reactEasyCrop_Contain",$==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Tt(Tt({},F),{transform:p||"translate(".concat(m,"px, ").concat(v,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(H){return b.createElement("source",Tt({key:H.src},H))})),this.state.cropSize&&b.createElement("div",Tt({ref:this.cropperRef,style:Tt(Tt({},R),{width:C?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:C?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:rc("reactEasyCrop_CropArea",_==="round"&&"reactEasyCrop_CropAreaRound",N&&"reactEasyCrop_CropAreaGrid",E)},h)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:t3,minZoom:e3,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:n3},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t})(b.Component),Tf={exports:{}},If={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function s3(){if(Gy)return If;Gy=1;var e=Ic();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function u(m,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),_=w[0].inst,N=w[1];return i(function(){_.value=y,_.getSnapshot=v,h(_)&&N({inst:_})},[m,y,v]),o(function(){return h(_)&&N({inst:_}),m(function(){h(_)&&N({inst:_})})},[m]),c(y),y}function h(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function p(m,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return If.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,If}var Yy;function o3(){return Yy||(Yy=1,Tf.exports=s3()),Tf.exports}var a3=o3();function i3(){return a3.useSyncExternalStore(l3,()=>!0,()=>!1)}function l3(){return()=>{}}var dm="Avatar",[c3]=Cr(dm),[u3,Eb]=c3(dm),Pb=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,i]=b.useState("idle");return l.jsx(u3,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:l.jsx(lt.span,{...r,ref:t})})});Pb.displayName=dm;var Rb="AvatarImage",Ab=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=e,c=Eb(Rb,n),u=d3(r,i),h=Vr(p=>{o(p),c.onImageLoadingStatusChange(p)});return Xt(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?l.jsx(lt.img,{...i,ref:t,src:r}):null});Ab.displayName=Rb;var Tb="AvatarFallback",Ib=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,i=Eb(Tb,n),[c,u]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&i.imageLoadingStatus!=="loaded"?l.jsx(lt.span,{...o,ref:t}):null});Ib.displayName=Tb;function Ky(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function d3(e,{referrerPolicy:t,crossOrigin:n}){const r=i3(),o=b.useRef(null),i=r?(o.current||(o.current=new window.Image),o.current):null,[c,u]=b.useState(()=>Ky(i,e));return Xt(()=>{u(Ky(i,e))},[i,e]),Xt(()=>{const h=m=>()=>{u(m)};if(!i)return;const p=h("loaded"),f=h("error");return i.addEventListener("load",p),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",p),i.removeEventListener("error",f)}},[i,n,t]),c}var f3=Pb,h3=Ab,m3=Ib;function p3({className:e,...t}){return l.jsx(f3,{"data-slot":"avatar",className:st("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function g3({className:e,...t}){return l.jsx(h3,{"data-slot":"avatar-image",className:st("aspect-square size-full",e),...t})}function v3({className:e,...t}){return l.jsx(m3,{"data-slot":"avatar-fallback",className:st("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function y3({currentImage:e,onImageChange:t,onRemove:n,className:r=""}){const[o,i]=b.useState(null),[c,u]=b.useState({x:0,y:0}),[h,p]=b.useState(1),[f,m]=b.useState(null),v=b.useRef(null),y=b.useCallback((j,k)=>{m(k)},[]),w=j=>{const k=j.target.files?.[0];if(!k)return;if(!k.type.startsWith("image/")){be.info("Please select an image file.");return}const R=URL.createObjectURL(k);i(R)},_=async()=>{if(!o||!f)return null;const j=new Image;j.src=o,await new Promise(F=>j.onload=F);const k=document.createElement("canvas");k.width=f.width,k.height=f.height;const R=k.getContext("2d");return R?(R.drawImage(j,f.x,f.y,f.width,f.height,0,0,f.width,f.height),new Promise(F=>{k.toBlob(T=>{if(!T)return F(null);F(new File([T],`avatar-${Date.now()}.jpg`,{type:"image/jpeg"}))},"image/jpeg")})):null},N=async()=>{const j=await _();if(!j){be.error(" Failed to crop image. Try again.");return}const k=URL.createObjectURL(j);t(j,k),i(null),v.current&&(v.current.value="")},C=()=>{v.current&&(v.current.value=""),n?.()};return l.jsxs("div",{className:`space-y-4 ${r}`,children:[l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(p3,{className:"w-32 h-32 border-4 border-[#a8b892]",children:[l.jsx(g3,{src:e||"",alt:"Profile picture"}),l.jsx(v3,{className:"text-2xl bg-[#f8f9f6] text-[#556B2F]",children:l.jsx(xh,{className:"w-8 h-8"})})]}),e&&l.jsx("button",{onClick:C,className:"absolute -top-2 -right-2 w-8 h-8 bg-[#c54a2c] text-white rounded-full flex items-center justify-center hover:bg-[#a83d24]",title:"Remove image",children:l.jsx(Ln,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsxs(fe,{onClick:()=>v.current?.click(),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:[l.jsx(bh,{className:"w-4 h-4 mr-2"}),e?"Change Photo":"Upload Photo"]}),l.jsx("p",{className:"text-sm text-[#556B2F] text-center max-w-xs",children:"Upload and crop a square image for best results."})]})]}),l.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:w,className:"hidden"}),o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md flex flex-col",children:[l.jsx("div",{style:{width:"100%",height:"400px",position:"relative"},children:l.jsx(r3,{image:o,crop:c,zoom:h,aspect:1,onCropChange:u,onZoomChange:p,onCropComplete:y},o)}),l.jsxs("div",{className:"flex justify-between mt-4",children:[l.jsx(fe,{variant:"outline",onClick:()=>i(null),children:"Cancel"}),l.jsxs(fe,{onClick:N,children:[l.jsx(io,{className:"w-4 h-4 mr-2"})," Save"]})]})]})})]})}function x3({user:e,onUpdate:t}){const[n,r]=b.useState(!1),[o,i]=b.useState(!1),[c,u]=b.useState(!1),[h,p]=b.useState({name:"",farmName:"",bio:"",location:""}),[f,m]=b.useState(""),[v,y]=b.useState(null);b.useEffect(()=>{(async()=>{const{data:R,error:F}=await Ce.from("profiles").select("*").eq("id",e.id).single();if(F){console.error("Failed to load profile:",F);return}if(p({name:R.full_name??"",farmName:R.farm_name??"",bio:R.bio??"",location:R.location??""}),R.avatar_url){const{data:T}=await Ce.storage.from("avatars").createSignedUrl(R.avatar_url,604800);m(T?.signedUrl??"")}else m("");t({id:R.id,name:R.full_name,email:R.email,farmName:R.farm_name,bio:R.bio,location:R.location,avatar_url:R.avatar_url,stripe_connected:R.stripe_connected})})()},[e.id]);const w=(k,R)=>{p(F=>({...F,[k]:R}))},_=async()=>{i(!0);try{const{data:k}=await Ce.auth.getUser();if(!k?.user)throw new Error("Not authenticated");let R=e.avatar_url??"";if(v){const $=k.user.id;R=`${$}-${Date.now()}.jpg`;const{error:H}=await Ce.storage.from("avatars").upload(R,v,{upsert:!0});if(H)throw H;const{data:V}=await Ce.storage.from("avatars").list("",{search:$});if(V){const K=V.map(W=>W.name).filter(W=>W!==R);K.length>0&&await Ce.storage.from("avatars").remove(K)}}const F={full_name:h.name??"",farm_name:h.farmName??"",bio:h.bio??"",location:h.location??"",avatar_url:R,updated_at:new Date().toISOString()},{data:T,error:B}=await Ce.from("profiles").update(F).eq("id",k.user.id).select().single();if(B)throw B;let E="";if(R){const{data:$}=await Ce.storage.from("avatars").createSignedUrl(R,604800);E=$?.signedUrl??"",m(E)}const I={id:T.id,name:T.full_name,email:T.email,farmName:T.farm_name,bio:T.bio,location:T.location,avatar_url:R,stripe_connected:T.stripe_connected};t(I),r(!1),y(null)}catch(k){console.error("Error saving profile:",k),be.error("Error saving profile. Please try again.")}finally{i(!1)}},N=(k,R)=>{y(k),m(R)},C=()=>{m(""),y(null)},j=async()=>{u(!0);try{if(!e?.id)throw new Error("No user ID available for Stripe connect.");console.log(" Connecting Stripe for user:",e.id);const{data:k,error:R}=await Ce.functions.invoke("stripe-connect",{body:{userId:e.id}});if(R)throw console.error(" Supabase function error:",R),R;if(!k?.url)throw new Error("Stripe connect function did not return a URL.");window.location.href=k.url}catch(k){console.error("Stripe connect error:",k.message||k),be.error("Stripe connection FAILED: "+(k.message||"Unknown error"))}finally{u(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsx("div",{className:"relative h-48 bg-cover bg-center mb-8 rounded-lg overflow-hidden",style:{backgroundImage:"linear-gradient(rgba(85, 107, 47, 0.7), rgba(85, 107, 47, 0.7)), url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&w=1080')"},children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white px-6",children:[l.jsx("h1",{className:"text-3xl md:text-4xl mb-2 text-white",children:"Your Profile"}),l.jsx("p",{className:"text-lg text-white opacity-90",children:"Manage your HERD community presence"})]})})}),l.jsxs(Ve,{className:"bg-white border-[#a8b892] shadow-lg mb-6",children:[l.jsx(bt,{className:"bg-[#556B2F] text-white rounded-t-lg",children:l.jsxs(vt,{className:"flex items-center gap-2 text-white",children:[l.jsx(da,{className:"w-5 h-5"}),n?"Edit Your Profile":"Profile Information"]})}),l.jsx(qe,{className:"p-6",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsx(y3,{currentImage:f,onImageChange:N,onRemove:C}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(rt,{children:"Full Name *"}),l.jsx(St,{value:h.name??"",onChange:k=>w("name",k.target.value),required:!0,className:"border-2 border-black focus-visible:border-black focus-visible:ring-black/20"})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"Farm/Property Name"}),l.jsx(St,{value:h.farmName??"",onChange:k=>w("farmName",k.target.value),className:"border-2 border-black focus-visible:border-black focus-visible:ring-black/20"})]})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"Location"}),l.jsx(St,{value:h.location??"",onChange:k=>w("location",k.target.value),placeholder:"City, State",className:"border-2 border-black focus-visible:border-black focus-visible:ring-black/20"})]}),l.jsxs("div",{children:[l.jsx(rt,{children:"About You"}),l.jsx(Gn,{value:h.bio??"",onChange:k=>w("bio",k.target.value),rows:4,className:"border-2 border-black focus-visible:border-black focus-visible:ring-black/20"})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx(fe,{onClick:_,disabled:o,children:o?"Saving...":"Save Changes"}),l.jsxs(fe,{variant:"destructive",onClick:()=>{r(!1),y(null)},className:"bg-[#c54a2c] text-white hover:bg-[#b8432a]",children:[l.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[l.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-[#a8b892] overflow-hidden",children:f?l.jsx("img",{src:f,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(xh,{className:"w-10 h-10 text-[#556B2F]"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl text-[#1f2b15]",children:h.name}),h.farmName&&l.jsx("p",{className:"text-[#2d3d1f]/90",children:h.farmName}),h.location&&l.jsx("p",{className:"text-[#2d3d1f]/80",children:h.location}),h.bio&&l.jsx("p",{className:"mt-2 text-[#2d3d1f]/80",children:h.bio})]})]}),l.jsx("div",{className:"pt-4 border-t mt-4",children:l.jsx(fe,{onClick:()=>r(!0),children:"Edit Profile"})})]})})]}),l.jsxs(Ve,{className:"bg-white border-[#a8b892] shadow-lg",children:[l.jsx(bt,{className:"bg-[#556B2F] text-white rounded-t-lg",children:l.jsx(vt,{className:"text-white",children:"Payment & Teaching Setup"})}),l.jsx(qe,{className:"p-6",children:e.stripe_connected?l.jsx("div",{className:"inline-flex items-center rounded-full bg-[#dce8cc] px-4 py-2 text-sm font-medium text-[#2d3d1f]",children:"Connected & Ready"}):l.jsx(fe,{onClick:j,disabled:c,children:c?"Connecting...":"Connect Stripe Account"})})]})]})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ob(e,t,n="/"){return w3(e,t,n,!1)}function w3(e,t,n,r){let o=typeof t=="string"?fm(t):t,i=Rs(o.pathname||"/",n);if(i==null)return null;let c=Db(e);b3(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=T3(i);u=R3(c[h],p,r)}return u}function Db(e,t=[],n=[],r="",o=!1){let i=(c,u,h=o,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&h)return;ln(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=Hr([r,f.relativePath]),v=n.concat(f);c.children&&c.children.length>0&&(ln(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Db(c.children,t,v,m,h)),!(c.path==null&&!c.index)&&t.push({path:m,score:E3(m,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))i(c,u);else for(let h of Mb(c.path))i(c,u,!0,h)}),t}function Mb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let c=Mb(r.join("/")),u=[];return u.push(...c.map(h=>h===""?i:[i,h].join("/"))),o&&u.push(...c),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function b3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:P3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _3=/^:[\w-]+$/,N3=3,S3=2,j3=1,C3=10,k3=-2,Qy=e=>e==="*";function E3(e,t){let n=e.split("/"),r=n.length;return n.some(Qy)&&(r+=k3),t&&(r+=S3),n.filter(o=>!Qy(o)).reduce((o,i)=>o+(_3.test(i)?N3:i===""?j3:C3),r)}function P3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function R3(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=Ac({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},f),v=h.route;if(!m&&p&&n&&!r[r.length-1].route.index&&(m=Ac({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!m)return null;Object.assign(o,m.params),c.push({params:o,pathname:Hr([i,m.pathname]),pathnameBase:M3(Hr([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=Hr([i,m.pathnameBase]))}return c}function Ac(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=A3(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],c=i.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((p,{paramName:f,isOptional:m},v)=>{if(f==="*"){let w=u[v]||"";c=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=u[v];return m&&!y?p[f]=void 0:p[f]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:c,pattern:e}}function A3(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function T3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I3(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?fm(e):e;return{pathname:n?n.startsWith("/")?n:O3(n,t):t,search:F3(r),hash:L3(o)}}function O3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Of(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fb(e){let t=D3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Lb(e,t,n,r=!1){let o;typeof e=="string"?o=fm(e):(o={...e},ln(!o.pathname||!o.pathname.includes("?"),Of("?","pathname","search",o)),ln(!o.pathname||!o.pathname.includes("#"),Of("#","pathname","hash",o)),ln(!o.search||!o.search.includes("#"),Of("#","search","hash",o)));let i=e===""||o.pathname==="",c=i?"/":o.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}u=m>=0?t[m]:"/"}let h=I3(o,u),p=c&&c!=="/"&&c.endsWith("/"),f=(i||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||f)&&(h.pathname+="/"),h}var Hr=e=>e.join("/").replace(/\/\/+/g,"/"),M3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,L3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Bb=["POST","PUT","PATCH","DELETE"];new Set(Bb);var $3=["GET",...Bb];new Set($3);var Sa=b.createContext(null);Sa.displayName="DataRouter";var ou=b.createContext(null);ou.displayName="DataRouterState";b.createContext(!1);var $b=b.createContext({isTransitioning:!1});$b.displayName="ViewTransition";var U3=b.createContext(new Map);U3.displayName="Fetchers";var z3=b.createContext(null);z3.displayName="Await";var Kr=b.createContext(null);Kr.displayName="Navigation";var hm=b.createContext(null);hm.displayName="Location";var Er=b.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var mm=b.createContext(null);mm.displayName="RouteError";function W3(e,{relative:t}={}){ln(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Kr),{hash:o,pathname:i,search:c}=Di(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:Hr([n,i])),r.createHref({pathname:u,search:c,hash:o})}function au(){return b.useContext(hm)!=null}function yo(){return ln(au(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hm).location}var Ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zb(e){b.useContext(Kr).static||b.useLayoutEffect(e)}function H3(){let{isDataRoute:e}=b.useContext(Er);return e?sI():V3()}function V3(){ln(au(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Sa),{basename:t,navigator:n}=b.useContext(Kr),{matches:r}=b.useContext(Er),{pathname:o}=yo(),i=JSON.stringify(Fb(r)),c=b.useRef(!1);return zb(()=>{c.current=!0}),b.useCallback((h,p={})=>{if(Yr(c.current,Ub),!c.current)return;if(typeof h=="number"){n.go(h);return}let f=Lb(h,JSON.parse(i),o,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Hr([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,i,o,e])}b.createContext(null);function q3(){let{matches:e}=b.useContext(Er),t=e[e.length-1];return t?t.params:{}}function Di(e,{relative:t}={}){let{matches:n}=b.useContext(Er),{pathname:r}=yo(),o=JSON.stringify(Fb(n));return b.useMemo(()=>Lb(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function G3(e,t,n,r,o){ln(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Kr),{matches:c}=b.useContext(Er),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",m=u&&u.route;{let j=m&&m.path||"";Wb(p,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=yo(),y;y=v;let w=y.pathname||"/",_=w;if(f!=="/"){let j=f.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Ob(e,{pathname:_});return Yr(m||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),X3(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Hr([f,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Hr([f,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,n,r,o)}function Y3(){let e=rI(),t=B3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:o},n):null,c)}var K3=b.createElement(Y3,null),Q3=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Er.Provider,{value:this.props.routeContext},b.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J3({routeContext:e,match:t,children:n}){let r=b.useContext(Sa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Er.Provider,{value:e},n)}function X3(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,c=n?.errors;if(c!=null){let p=i.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);ln(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:m,errors:v}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((p,f,m)=>{let v,y=!1,w=null,_=null;n&&(v=c&&f.route.id?c[f.route.id]:void 0,w=f.route.errorElement||K3,u&&(h<0&&m===0?(Wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):h===m&&(y=!0,_=f.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,m+1)),C=()=>{let j;return v?j=w:y?j=_:f.route.Component?j=b.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=p,b.createElement(J3,{match:f,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(Q3,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):C()},null)}function pm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z3(e){let t=b.useContext(Sa);return ln(t,pm(e)),t}function eI(e){let t=b.useContext(ou);return ln(t,pm(e)),t}function tI(e){let t=b.useContext(Er);return ln(t,pm(e)),t}function gm(e){let t=tI(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nI(){return gm("useRouteId")}function rI(){let e=b.useContext(mm),t=eI("useRouteError"),n=gm("useRouteError");return e!==void 0?e:t.errors?.[n]}function sI(){let{router:e}=Z3("useNavigate"),t=gm("useNavigate"),n=b.useRef(!1);return zb(()=>{n.current=!0}),b.useCallback(async(o,i={})=>{Yr(n.current,Ub),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var Jy={};function Wb(e,t,n){!t&&!Jy[e]&&(Jy[e]=!0,Yr(!1,n))}b.memo(oI);function oI({routes:e,future:t,state:n,unstable_onError:r}){return G3(e,void 0,n,r,t)}var fc="get",hc="application/x-www-form-urlencoded";function iu(e){return e!=null&&typeof e.tagName=="string"}function aI(e){return iu(e)&&e.tagName.toLowerCase()==="button"}function iI(e){return iu(e)&&e.tagName.toLowerCase()==="form"}function lI(e){return iu(e)&&e.tagName.toLowerCase()==="input"}function cI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uI(e,t){return e.button===0&&(!t||t==="_self")&&!cI(e)}var sc=null;function dI(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(e){return e!=null&&!fI.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):e}function hI(e,t){let n,r,o,i,c;if(iI(e)){let u=e.getAttribute("action");r=u?Rs(u,t):null,n=e.getAttribute("method")||fc,o=Df(e.getAttribute("enctype"))||hc,i=new FormData(e)}else if(aI(e)||lI(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(r=h?Rs(h,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||fc,o=Df(e.getAttribute("formenctype"))||Df(u.getAttribute("enctype"))||hc,i=new FormData(u,e),!dI()){let{name:p,type:f,value:m}=e;if(f==="image"){let v=p?`${p}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else p&&i.append(p,m)}}else{if(iu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fc,r=null,o=hc,c=e}return i&&o==="text/plain"&&(c=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Rs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function pI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vI(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let c=await pI(i,n);return c.links?c.links():[]}return[]}));return bI(r.flat(1).filter(gI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xy(e,t,n,r,o,i){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return i==="assets"?t.filter((h,p)=>c(h,p)||u(h,p)):i==="data"?t.filter((h,p)=>{let f=r.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function yI(e,t,{includeHydrateFallback:n}={}){return xI(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function xI(e){return[...new Set(e)]}function wI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bI(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(wI(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function Hb(){let e=b.useContext(Sa);return vm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _I(){let e=b.useContext(ou);return vm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ym=b.createContext(void 0);ym.displayName="FrameworkContext";function Vb(){let e=b.useContext(ym);return vm(e,"You must render this element inside a <HydratedRouter> element"),e}function NI(e,t){let n=b.useContext(ym),[r,o]=b.useState(!1),[i,c]=b.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:f,onTouchStart:m}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let _=C=>{C.forEach(j=>{c(j.isIntersecting)})},N=new IntersectionObserver(_,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),b.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{o(!0)},w=()=>{o(!1),c(!1)};return n?e!=="intent"?[i,v,{}]:[i,v,{onFocus:ui(u,y),onBlur:ui(h,w),onMouseEnter:ui(p,y),onMouseLeave:ui(f,w),onTouchStart:ui(m,y)}]:[!1,v,{}]}function ui(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SI({page:e,...t}){let{router:n}=Hb(),r=b.useMemo(()=>Ob(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(CI,{page:e,matches:r,...t}):null}function jI(e){let{manifest:t,routeModules:n}=Vb(),[r,o]=b.useState([]);return b.useEffect(()=>{let i=!1;return vI(e,t,n).then(c=>{i||o(c)}),()=>{i=!0}},[e,t,n]),r}function CI({page:e,matches:t,...n}){let r=yo(),{manifest:o,routeModules:i}=Vb(),{basename:c}=Hb(),{loaderData:u,matches:h}=_I(),p=b.useMemo(()=>Xy(e,t,h,o,r,"data"),[e,t,h,o,r]),f=b.useMemo(()=>Xy(e,t,h,o,r,"assets"),[e,t,h,o,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(C=>{let j=o.routes[C.route.id];!j||!j.hasLoader||(!p.some(k=>k.route.id===C.route.id)&&C.route.id in u&&i[C.route.id]?.shouldRevalidate||j.hasClientLoader?_=!0:w.add(C.route.id))}),w.size===0)return[];let N=mI(e,c,"data");return _&&w.size>0&&N.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[c,u,r,o,p,t,e,i]),v=b.useMemo(()=>yI(f,o),[f,o]),y=jI(f);return b.createElement(b.Fragment,null,m.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:_})=>b.createElement("link",{key:w,nonce:n.nonce,..._})))}function kI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qb&&(window.__reactRouterVersion="7.9.4")}catch{}var Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yb=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:c,state:u,target:h,to:p,preventScrollReset:f,viewTransition:m,...v},y){let{basename:w}=b.useContext(Kr),_=typeof p=="string"&&Gb.test(p),N,C=!1;if(typeof p=="string"&&_&&(N=p,qb))try{let I=new URL(window.location.href),$=p.startsWith("//")?new URL(I.protocol+p):new URL(p),H=Rs($.pathname,w);$.origin===I.origin&&H!=null?p=H+$.search+$.hash:C=!0}catch{Yr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=W3(p,{relative:o}),[k,R,F]=NI(r,v),T=AI(p,{replace:c,state:u,target:h,preventScrollReset:f,relative:o,viewTransition:m});function B(I){t&&t(I),I.defaultPrevented||T(I)}let E=b.createElement("a",{...v,...F,href:N||j,onClick:C||i?t:B,ref:kI(y,R),target:h,"data-discover":!_&&n==="render"?"true":void 0});return k&&!_?b.createElement(b.Fragment,null,E,b.createElement(SI,{page:j})):E});Yb.displayName="Link";var EI=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:c,viewTransition:u,children:h,...p},f){let m=Di(c,{relative:p.relative}),v=yo(),y=b.useContext(ou),{navigator:w,basename:_}=b.useContext(Kr),N=y!=null&&MI(m)&&u===!0,C=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,j=v.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(j=j.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&_&&(k=Rs(k,_)||k);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=j===C||!o&&j.startsWith(C)&&j.charAt(R)==="/",T=k!=null&&(k===C||!o&&k.startsWith(C)&&k.charAt(C.length)==="/"),B={isActive:F,isPending:T,isTransitioning:N},E=F?t:void 0,I;typeof r=="function"?I=r(B):I=[r,F?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(B):i;return b.createElement(Yb,{...p,"aria-current":E,className:I,ref:f,style:$,to:c,viewTransition:u},typeof h=="function"?h(B):h)});EI.displayName="NavLink";var PI=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:c=fc,action:u,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:m,...v},y)=>{let w=OI(),_=DI(u,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Gb.test(u),j=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,F=R?.getAttribute("formmethod")||c;w(R||k.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:o,state:i,relative:p,preventScrollReset:f,viewTransition:m})};return b.createElement("form",{ref:y,method:N,action:_,onSubmit:r?h:j,...v,"data-discover":!C&&e==="render"?"true":void 0})});PI.displayName="Form";function RI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(e){let t=b.useContext(Sa);return ln(t,RI(e)),t}function AI(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:c}={}){let u=H3(),h=yo(),p=Di(e,{relative:i});return b.useCallback(f=>{if(uI(f,t)){f.preventDefault();let m=n!==void 0?n:gh(h)===gh(p);u(e,{replace:m,state:r,preventScrollReset:o,relative:i,viewTransition:c})}},[h,u,p,n,r,t,e,o,i,c])}var TI=0,II=()=>`__${String(++TI)}__`;function OI(){let{router:e}=Kb("useSubmit"),{basename:t}=b.useContext(Kr),n=nI();return b.useCallback(async(r,o={})=>{let{action:i,method:c,encType:u,formData:h,body:p}=hI(r,t);if(o.navigate===!1){let f=o.fetcherKey||II();await e.fetch(f,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function DI(e,{relative:t}={}){let{basename:n}=b.useContext(Kr),r=b.useContext(Er);ln(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...Di(e||".",{relative:t})},c=yo();if(e==null){i.search=c.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(f=>f==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Hr([n,i.pathname])),gh(i)}function MI(e,{relative:t}={}){let n=b.useContext($b);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kb("useViewTransitionState"),o=Di(e,{relative:t});if(!n.isTransitioning)return!1;let i=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ac(o.pathname,c)!=null||Ac(o.pathname,i)!=null}function Qb({conversations:e,currentUserId:t,currentUserName:n,onSendMessage:r,onConversationsUpdate:o,initialConversationId:i=null}){const{conversationId:c}=q3(),u=i||c||null,h=b.useRef(null),[p,f]=b.useState(u),[m,v]=b.useState(""),[y,w]=b.useState({}),[_,N]=b.useState(!1),[C,j]=b.useState("all"),[k,R]=b.useState(!1),[F,T]=b.useState(()=>typeof window<"u"?window.matchMedia("(max-width: 1023px)").matches:!1),B=_e.useRef(null),E=b.useRef(!0),I=e.find(X=>X.id===p),$=p?y[p]||[]:[];b.useEffect(()=>{if(!F||typeof document>"u")return;const X=document.body.style.overflow;if(p)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=X};document.body.style.overflow=X},[F,p]),b.useEffect(()=>{if(typeof window>"u")return;const X=window.matchMedia("(max-width: 1023px)"),ae=de=>{T(de.matches)};return T(X.matches),typeof X.addEventListener=="function"?(X.addEventListener("change",ae),()=>X.removeEventListener("change",ae)):(X.addListener(ae),()=>X.removeListener(ae))},[]);const H=_e.useCallback(()=>{const X=B.current;X&&(X.scrollTop=X.scrollHeight)},[]);b.useEffect(()=>{p&&E.current&&$.length>0&&H()},[$.length,p,H]),b.useEffect(()=>{if(!p)return;E.current=!0;const X=setTimeout(()=>{E.current&&H()},100);return()=>clearTimeout(X)},[p,H]),b.useEffect(()=>{p&&!y[p]&&Q(p)},[p]),b.useEffect(()=>{e.length===0&&t&&(console.log(" MessagingCenter mounted with no conversations, requesting refresh..."),o?.(()=>[]))},[t]),b.useEffect(()=>{if(e.length===0){i||f(null);return}if(i&&h.current!==i){f(i),h.current=i;return}p||F||f(e[0].id)},[e,i,F,p]),b.useEffect(()=>{!F&&!p&&e.length>0&&f(e[0].id)},[F,e,p]),b.useEffect(()=>{c&&c!==p&&(f(c),Q(c))},[c]),b.useEffect(()=>{if(!i){h.current=null;return}h.current!==i&&(h.current=i,i!==p&&(E.current=!0,f(i),Q(i)))},[i,p]),b.useEffect(()=>{if(!p)return;const X=e.find(ae=>ae.id===p);X&&X.unreadCount>0&&A(p)},[p,e]);const V=[...e].sort((X,ae)=>{const de=X.lastMessage?.createdAt||X.updatedAt||X.createdAt||"0",se=ae.lastMessage?.createdAt||ae.updatedAt||ae.createdAt||"0";return new Date(se).getTime()-new Date(de).getTime()}),K=C==="unread"?V.filter(X=>X.unreadCount>0):V,W=_e.useCallback(()=>{const X=B.current;if(!X)return;const ae=X.scrollHeight-X.scrollTop-X.clientHeight;E.current=ae<48},[]),Q=async X=>{if(!_){N(!0);try{const{data:ae,error:de}=await Ce.from("messages").select("id, conversation_id, sender_id, content, created_at").eq("conversation_id",X).order("created_at",{ascending:!0});if(de)throw de;const se=(ae||[]).map(pe=>({id:pe.id,conversationId:pe.conversation_id,senderId:pe.sender_id,content:pe.content,createdAt:pe.created_at}));w(pe=>({...pe,[X]:se})),console.log(` Loaded ${se.length} messages for conversation ${X}`),X===p&&E.current&&requestAnimationFrame(()=>H())}catch(ae){console.error(" Failed to load messages:",ae),w(de=>({...de,[X]:[]}))}finally{N(!1)}}},A=async X=>{if(!t)return;const ae=new Date().toISOString();try{const{data:de,error:se}=await Ce.from("conversation_participants").update({last_read_at:ae}).eq("conversation_id",X).eq("user_id",t).select("id");if(se)throw se;if(!de||de.length===0){const{error:pe}=await Ce.from("conversation_participants").insert({conversation_id:X,user_id:t,last_read_at:ae});if(pe)throw pe}console.log(" Marked conversation as read:",X),o?.(pe=>pe.map(je=>je.id===X?{...je,unreadCount:0,lastReadAt:ae}:je))}catch(de){console.error(" Error marking conversation as read:",de)}},P=async X=>{E.current=!0,f(X),y[X]||Q(X)},D=async()=>{if(!m.trim()||!p)return;const X=m.trim();v(""),E.current=!0;const ae={id:`temp-${Date.now()}`,conversationId:p,senderId:t,senderName:n,content:X,createdAt:new Date().toISOString()};w(de=>({...de,[p]:[...de[p]||[],ae]}));try{await r(p,X),setTimeout(()=>Q(p),500)}catch(de){console.error(" Failed to send message:",de),w(se=>({...se,[p]:se[p]?.filter(pe=>pe.id!==ae.id)||[]})),v(X)}},z=async()=>{if(!I||k)return;const X=M(I),ae=X?`Remove your conversation with ${X}? You can still be messaged again later.`:"Remove this conversation? You can still be messaged again later.";if(window.confirm(ae)){R(!0);try{const{error:de}=await Ce.rpc("delete_conversation_for_user",{_conversation_id:I.id});if(de)throw de;const se=e.filter(pe=>pe.id!==I.id);o?.(pe=>pe.filter(je=>je.id!==I.id)),w(pe=>{const je={...pe};return delete je[I.id],je}),v(""),h.current=null,!F&&se.length>0?f(se[0].id):f(null),be.success("Conversation deleted.")}catch(de){console.error(" Failed to delete conversation:",de),be.error("Unable to delete this conversation right now.")}finally{R(!1)}}},L=X=>{const ae=new Date(X),se=(new Date().getTime()-ae.getTime())/(1e3*60*60);return se<1?`${Math.floor(se*60)}m ago`:se<24?`${Math.floor(se)}h ago`:ae.toLocaleDateString("en-US",{month:"short",day:"numeric"})},M=X=>X.hostId===t?X.guestName||"Guest":X.hostName||"Host",U=X=>{if(!X)return"";const ae=new Date(X),de=new Date;return de.toDateString()===ae.toDateString()?ae.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):Math.floor((de.getTime()-ae.getTime())/(1e3*60*60*24))<7?ae.toLocaleDateString("en-US",{weekday:"short"}):ae.toLocaleDateString("en-US",{month:"numeric",day:"numeric"})},te=X=>{const ae=p===X.id,de=M(X),se=X.lastMessage?.content||"Tap to start this conversation",pe=X.lastMessage?.createdAt||X.updatedAt||X.createdAt,je=U(pe),et=de?.trim().charAt(0)?.toUpperCase()||"?",ue=X.unreadCount>0;return l.jsxs("button",{type:"button",onClick:()=>P(X.id),className:`flex w-full items-start gap-3 rounded-2xl px-4 py-3 text-left transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F] ${ae?"bg-[#556B2F]/10":"hover:bg-[#f0f4ea]"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:X.otherAvatarUrl?l.jsx(Yn,{src:X.otherAvatarUrl,alt:de,className:"h-10 w-10 rounded-full object-cover border border-[#a8b892]"}):l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#dfe6d5] text-sm font-semibold text-[#2d3d1f]",children:et})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-[#1f2b15]",children:de}),je&&l.jsx("span",{className:"ml-2 text-xs text-gray-400",children:je})]}),l.jsx("p",{className:`mt-1 truncate text-sm ${ae?"text-[#2d3d1f]/80":"text-gray-600"}`,children:se}),X.className&&l.jsxs("p",{className:"mt-1 truncate text-xs text-gray-400",children:["Re: ",X.className]})]}),ue&&l.jsx("span",{className:"mt-1 inline-flex h-2.5 w-2.5 shrink-0 rounded-full bg-[#c54a2c]","aria-hidden":"true"})]},X.id)},J=()=>F?l.jsxs("div",{className:"flex h-full flex-col rounded-3xl bg-white shadow-sm",children:[l.jsxs("div",{className:"px-5 pt-5 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-semibold text-[#1f2b15]",children:"Messages"}),l.jsx("p",{className:"text-sm text-gray-500",children:C==="unread"?"Unread conversations":"All conversations"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[l.jsx("button",{type:"button",className:"rounded-full p-2 hover:bg-gray-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F]",children:l.jsx(jx,{className:"h-5 w-5"})}),l.jsx("button",{type:"button",className:"rounded-full p-2 hover:bg-gray-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F]",children:l.jsx(KN,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"mt-5 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>j("all"),className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${C==="all"?"bg-black text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),l.jsx("button",{type:"button",onClick:()=>j("unread"),className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${C==="unread"?"bg-black text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Unread"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain divide-y divide-gray-100",children:K.length===0?l.jsx("div",{className:"px-5 py-10 text-center text-gray-500",children:C==="unread"?"No unread conversations yet":"No conversations yet"}):K.map(X=>te(X))})]}):l.jsxs(Ve,{className:"lg:col-span-1 h-full flex flex-col overflow-hidden",children:[l.jsx(bt,{className:"shrink-0",children:l.jsxs(vt,{className:"text-[#3c4f21] flex items-center gap-2",children:[l.jsx(pn,{className:"h-5 w-5"})," Conversations"]})}),l.jsx(qe,{className:"p-0 flex-1 overflow-y-auto overscroll-contain",children:K.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:C==="unread"?"No unread conversations":"No conversations yet"}):l.jsx("div",{className:"space-y-1",children:K.map(X=>te(X))})})]}),ee=()=>{if(!I)return F?null:l.jsx(Ve,{className:"lg:col-span-1 lg:col-start-2 h-full",children:l.jsx(qe,{className:"flex h-full items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(pn,{className:"mx-auto mb-4 h-12 w-12 text-gray-300"}),l.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})});const X=M(I),ae=I.className?`Re: ${I.className}`:null,de=l.jsxs("div",{className:"flex flex-1 flex-col min-h-0 bg-white",children:[l.jsx("div",{ref:B,onScroll:W,className:"flex-1 min-h-0 overflow-y-auto overscroll-contain space-y-4 px-4 pt-4 pb-6",children:_&&$.length===0?l.jsxs("div",{className:"py-8 text-center text-gray-500",children:[l.jsx("div",{className:"mx-auto mb-2 h-8 w-8 animate-spin rounded-full border-b-2 border-[#556B2F]"}),"Loading messages..."]}):$.length===0?l.jsxs("div",{className:"py-8 text-center text-gray-500",children:[l.jsx(pn,{className:"mx-auto mb-2 h-8 w-8 opacity-50"}),"No messages yet. Start the conversation!"]}):$.map(se=>l.jsx("div",{className:`flex ${se.senderId===t?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[75%] rounded-2xl px-3 py-2 ${se.senderId===t?"bg-[#556B2F] text-white":"bg-[#f8f9f6] text-[#3c4f21]"}`,children:[l.jsx("p",{className:"text-sm leading-relaxed",children:se.content}),l.jsx("p",{className:`mt-1 text-xs ${se.senderId===t?"text-white/70":"text-gray-500"}`,children:L(se.createdAt)})]})},se.id))}),l.jsx("div",{className:"border-t border-gray-200 bg-white px-4 py-4",style:{paddingBottom:F?"calc(env(safe-area-inset-bottom, 0px) + 16px)":void 0},children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(St,{placeholder:"Write a message...",value:m,onChange:se=>v(se.target.value),onKeyDown:se=>se.key==="Enter"&&D(),className:"flex-1"}),l.jsx(fe,{onClick:D,disabled:!m.trim(),className:"bg-[#556B2F] text-white hover:bg-[#3c4f21]",children:l.jsx(Mc,{className:"h-4 w-4"})})]})})]});return F?l.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-white",children:[l.jsxs("div",{className:"flex items-center border-b border-gray-200 px-4 py-3",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[l.jsx("button",{type:"button",onClick:()=>f(null),className:"rounded-full p-2 hover:bg-gray-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F]",children:l.jsx(Si,{className:"h-5 w-5 text-[#2d3d1f]"})}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("p",{className:"truncate text-base font-semibold text-[#1f2b15]",children:X}),ae&&l.jsx("p",{className:"truncate text-xs text-gray-500",children:ae})]}),l.jsx("button",{type:"button",onClick:z,disabled:k,className:"rounded-full p-2 text-red-600 hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600","aria-label":"Delete conversation",children:l.jsx(Cs,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"flex-1 min-h-0 flex flex-col pb-6",children:de})]}):l.jsxs(Ve,{className:"lg:col-span-1 lg:col-start-2 h-full min-h-0 flex flex-col overflow-hidden",children:[l.jsx(bt,{className:"border-b",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs(vt,{className:"text-[#3c4f21] flex items-center gap-2",children:[l.jsx(da,{className:"h-5 w-5"}),X]}),ae&&l.jsx("p",{className:"text-sm text-[#556B2F]",children:ae})]}),l.jsxs(fe,{variant:"outline",size:"sm",onClick:z,disabled:k,className:"border-red-500 text-red-600 hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})}),l.jsx(qe,{className:"flex flex-1 min-h-0 flex-col p-0",children:de})]})};if(e.length===0)return l.jsxs("div",{className:"rounded-3xl bg-white p-8 text-center shadow-sm",children:[l.jsx(pn,{className:"mx-auto mb-4 h-12 w-12 text-gray-300"}),l.jsx("p",{className:"text-gray-500",children:"No conversations yet"}),l.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Messages will appear here when you book classes or connect with hosts."})]});const le=F?"flex h-[calc(100vh-140px)] min-h-[320px] flex-col gap-4 overflow-hidden":"grid grid-cols-1 gap-6 min-h-0 lg:grid-cols-[280px_minmax(0,1fr)] lg:h-[calc(100vh-140px)] lg:min-h-[320px] lg:overflow-hidden";return l.jsxs("div",{className:le,children:[(!F||!p)&&J(),(!F||p)&&ee()]})}const FI={};function oc({user:e,classes:t,conversations:n,onNavigate:r,onDeleteClass:o,onManageClass:i,onRelaunchClass:c,activeView:u="overview",onSendMessage:h,onConversationsUpdate:p,initialConversationId:f=null,initialMessageTarget:m=null,onConversationNavigate:v,onBookingsRefresh:y}){const[w,_]=b.useState([]),[N,C]=b.useState(!0),[j,k]=b.useState(null),[R,F]=b.useState(""),[T,B]=b.useState(!1),E=FI?.VITE_DEBUG_LOGS==="true",[I,$]=b.useState(f??null),H=b.useRef(null),V=w.filter(q=>q.status==="PENDING");w.filter(q=>q.paymentStatus==="PAID");const K=w.filter(q=>q.status==="APPROVED"||q.status==="PAID"),W=new Date().getFullYear();E&&console.log(" Revenue Debug Info:",{totalBookings:w.length,APPROVEDBookings:K,allBookings:w.map(q=>({id:q.id,status:q.status,subtotalCents:q.subtotal,subtotalDollars:Number((q.subtotal/100).toFixed(2)),totalAmountCents:q.totalAmount,totalAmountDollars:Number((q.totalAmount/100).toFixed(2)),createdAt:q.createdAt,approved_at:q.approved_at,year:q.approved_at?new Date(q.approved_at).getFullYear():new Date(q.createdAt).getFullYear()}))});const Q=new Set(["HELD","PAID","COMPLETED"]),A=K.filter(q=>{if(!Q.has(q.paymentStatus)||!q.subtotal||q.subtotal<=0)return!1;const ge=(q.approved_at?new Date(q.approved_at):new Date(q.createdAt)).getFullYear();return E&&console.log(` Booking ${q.id}: year=${ge}, subtotal=${q.subtotal/100}, status=${q.status}, paymentStatus=${q.paymentStatus}`),ge===W}),P=A.reduce((q,he)=>q+(he.subtotal||0),0),D=ir(P,{withCurrency:!0}),z=b.useMemo(()=>{const q=he=>he?new Date(he).getTime():0;return n.filter(he=>{const ge=he.lastMessage;return ge?ge.senderId!==e.id:!1}).sort((he,ge)=>{const ve=q(he.lastMessage?.createdAt)||q(he.updatedAt)||q(he.createdAt);return(q(ge.lastMessage?.createdAt)||q(ge.updatedAt)||q(ge.createdAt))-ve}).slice(0,3)},[n,e.id]);E&&console.log(" Revenue Calculation Result:",{currentYearBookings:A.length,totalRevenueCents:P,totalRevenueDollars:Number((P/100).toFixed(2)),bookingDetails:A.map(q=>({id:q.id,subtotalCents:q.subtotal,subtotalDollars:Number((q.subtotal/100).toFixed(2)),totalAmountCents:q.totalAmount,totalAmountDollars:Number((q.totalAmount/100).toFixed(2))}))}),n.reduce((q,he)=>q+he.unreadCount,0);const L=b.useMemo(()=>{const q=Se=>{if(!Se)return 0;const ze=new Date(Se).getTime();return Number.isFinite(ze)?ze:0},he=w.filter(Se=>Se.status==="PENDING").sort((Se,ze)=>q(Se.createdAt)-q(ze.createdAt)),ge=w.filter(Se=>Se.status==="APPROVED"||Se.status==="PAID").sort((Se,ze)=>q(Se.createdAt)-q(ze.createdAt)),ve=w.filter(Se=>Se.status==="DENIED").sort((Se,ze)=>q(Se.createdAt)-q(ze.createdAt)),me=w.filter(Se=>Se.status!=="PENDING"&&Se.status!=="APPROVED"&&Se.status!=="PAID"&&Se.status!=="DENIED").sort((Se,ze)=>q(Se.createdAt)-q(ze.createdAt));return[...he,...ge,...ve,...me]},[w]);b.useEffect(()=>{M()},[e.id]);const M=async()=>{try{C(!0);const{data:q,error:he}=await Ce.from("bookings").select(`
          *,
          classes!inner(host_id, title),
          profiles!inner(full_name, email)
        `).eq("classes.host_id",e.id).order("created_at",{ascending:!1});if(he)throw he;const ve=(Array.isArray(q)?q:[]).map(me=>{const Se=We=>Math.max(0,Math.round(Number(We??0))),ze=(me.status||"PENDING").toString().toUpperCase(),Qe=ze==="CONFIRMED"?"APPROVED":ze,Ie=(me.payment_status??me.paymentStatus??"PENDING").toString().toUpperCase(),tt=(Array.isArray(me.studentNames)?me.studentNames:Array.isArray(me.student_names)?me.student_names:Array.isArray(me.metadata?.student_names)?me.metadata.student_names:[]).map(We=>typeof We=="string"?We.trim():"").filter(Boolean),Xe=Number(me.studentCount??me.qty??0),Ue=Number.isFinite(Xe)&&Xe>0?Xe:tt.length||1;return{id:me.id,classId:me.class_id,userId:me.user_id,userEmail:me.profiles?.email||"",userName:me.profiles?.full_name||"",hostId:me.classes?.host_id||e.id,hostEmail:"",hostName:e.name,studentCount:Ue,studentNames:tt,totalAmount:Se(me.total_cents),subtotal:Se(me.host_payout_cents),herdFee:Se(me.platform_fee_cents),status:Qe,paymentStatus:Ie,createdAt:me.created_at||"",approved_at:me.approved_at||null,denied_at:me.denied_at||null,host_message:me.host_message||null,autoApprove:!1}});_(ve)}catch(q){typeof q=="object"&&q!==null&&"name"in q&&q.name==="AbortError"?console.warn("Bookings request timed out"):console.error("Error fetching bookings:",q),_([])}finally{C(!1)}};b.useEffect(()=>{$(f??null)},[f]),b.useEffect(()=>{if(u!=="messages"||!m?.guestId||!m.classId)return;const q=`${m.guestId}::${m.classId}`;if(H.current===q)return;(async()=>{try{const{guestId:ge,classId:ve,guestName:me,classTitle:Se}=m;if(!ge||!ve)return;const{data:ze,error:Qe}=await Ce.from("conversations").select("id, host_id, guest_id, class_id").eq("class_id",ve).eq("host_id",e.id).eq("guest_id",ge).maybeSingle();if(Qe)throw Qe;let Ie=ze?.id;if(Ie)n.some(tt=>tt.id===Ie)||p?.(tt=>{if(tt.some(We=>We.id===Ie))return tt;const Xe=t.find(We=>We.id===ve);return[{id:Ie,classId:ve,hostId:e.id,guestId:ge,updatedAt:new Date().toISOString(),lastMessage:void 0,hostName:e.name,guestName:me||"Guest",className:Xe?.title||Se||"Class",unreadCount:0},...tt]});else{const{data:ke,error:tt}=await Ce.from("conversations").insert({class_id:ve,host_id:e.id,guest_id:ge,last_message_at:new Date().toISOString()}).select("id").single();if(tt)throw tt;Ie=ke.id,p?.(Xe=>{if(Xe.some(dt=>dt.id===Ie))return Xe;const Ue=t.find(dt=>dt.id===ve);return[{id:Ie,classId:ve,hostId:e.id,guestId:ge,updatedAt:new Date().toISOString(),lastMessage:void 0,hostName:e.name,guestName:me||"Guest",className:Ue?.title||Se||"Class",unreadCount:0},...Xe]})}Ie&&$(Ie)}catch(ge){console.error("Failed to prepare conversation for messaging target:",ge)}finally{H.current=q}})()},[u,t,n,m,p,Ce,e.id,e.name]);const U=async(q,he,ge)=>{try{const{data:{session:ve}}=await Ce.auth.getSession();if(!ve?.access_token){be.error("Please sign in again to manage bookings.");return}B(!0),E&&console.log(` ${he.toUpperCase()} booking triggered for`,q);const Se=`https://czdzjdujojcjluqcdchq.functions.supabase.co/${he==="approve"?"approve-booking":"deny-booking"}`,ze=he==="approve"?{booking_id:q}:{booking_id:q,message:ge??""},Qe=await fetch(Se,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve.access_token}`},body:JSON.stringify(ze)});E&&console.log(" Response status:",Qe.status);const Ie=await Qe.json().catch(()=>({}));if(E&&console.log(" Response data:",Ie),!Qe.ok||Ie.error)throw new Error(Ie.error||`Failed to ${he} booking`);he==="approve"?be.success("Booking approved  payment captured and emails queued!"):be.success("Booking denied and guest notified."),await M(),k(null),F(""),y&&await y().catch(ke=>{console.warn(" Failed to refresh parent bookings:",ke)})}catch(ve){console.error(" Error responding to booking:",ve),be.error(ve?.message||"An error occurred while processing your response.")}finally{B(!1)}},te=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),J=(q,he)=>{const ge=ca(q,he);return ge||(q?te(q):"Date TBD")},ee=q=>{if(!q)return"";const[he,ge]=q.split(":"),ve=parseInt(he),me=ve>=12?"PM":"AM";return`${ve%12||12}:${ge} ${me}`},le=q=>{switch(q){case"PENDING":return"bg-yellow-100 text-yellow-800";case"APPROVED":return"bg-green-100 text-green-800";case"DENIED":return"bg-red-100 text-red-800";case"FAILED":return"bg-gray-100 text-gray-800";case"PAID":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},X=q=>{if(!q.startDate)return Number.POSITIVE_INFINITY;const he=new Date(`${q.startDate}T${q.startTime||"00:00"}`).getTime();return Number.isFinite(he)?he:Number.POSITIVE_INFINITY},ae=q=>{const he=q.endDate||q.startDate;if(!he)return null;const ge=new Date(`${he}T${q.startTime||"00:00"}`);return Number.isNaN(ge.getTime())?null:(ge.setHours(23,59,59,999),ge.getTime())},de=b.useMemo(()=>t.filter(q=>(q.hostId??q.instructorId??q.host_id??null)===e.id),[t,e.id]),se=b.useMemo(()=>{const q=Date.now();return de.filter(he=>{const ge=ae(he);return ge===null||ge>=q}).slice().sort((he,ge)=>X(he)-X(ge))},[de]),pe=b.useMemo(()=>{const q=Date.now();return de.filter(he=>{const ge=ae(he);return ge!==null&&ge<q}).slice().sort((he,ge)=>X(ge)-X(he))},[de]),je=(q,he)=>{const ge=w.filter(Ue=>Ue.classId===q.id),ve=ge.filter(Ue=>Ue.status==="PENDING").length,me=ge.filter(Ue=>Ue.status==="APPROVED"||Ue.status==="PAID").length,ze=(q.hostId??q.instructorId??q.host_id??null)===e.id,Qe=10080*60*1e3,Ie=ae(q),ke=Date.now(),tt=Ie!==null?ke>=Ie+Qe:!1,Xe=!e.isAdmin&&ze&&me>0&&!tt;return l.jsxs(Ve,{className:"overflow-hidden",children:[l.jsxs("div",{className:"relative w-full h-40 md:h-48 bg-gray-100",children:[q.photos&&q.photos.length>0?l.jsx(Yn,{src:q.photos[0],alt:q.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-8 h-8 mx-auto mb-1 opacity-50"}),l.jsx("p",{className:"text-xs opacity-70",children:"No photo"})]})}),l.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:[l.jsx(an,{className:"bg-[#556B2F] text-[#f8f9f6] text-xs",children:ir(q.pricePerPerson,{withCurrency:!0})}),he&&l.jsx(an,{className:"bg-gray-200 text-gray-600 text-xs",children:"Past"})]})]}),l.jsxs(bt,{className:"pb-3",children:[l.jsx(vt,{className:"text-[#3c4f21] text-lg leading-tight",children:q.title}),l.jsx("p",{className:"text-sm text-[#556B2F] line-clamp-2",children:q.shortSummary})]}),l.jsxs(qe,{children:[l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Dates:"})," ",J(q.startDate,q.endDate),q.startTime&&` at ${ee(q.startTime)}`]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Max Students:"})," ",q.maxStudents]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[ve>0&&l.jsxs(an,{className:"bg-yellow-100 text-yellow-800",children:[ve," PENDING"]}),me>0&&l.jsxs(an,{className:"bg-green-100 text-green-800",children:[me," CONFIRMED"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs(fe,{variant:"outline",size:"sm",className:"w-full border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",onClick:()=>i(q),children:[l.jsx(js,{className:"h-4 w-4 mr-2"}),he?"View Past Class":"Manage Class"]}),he&&l.jsxs(fe,{variant:"outline",size:"sm",className:"w-full border-[#3c4f21] text-[#3c4f21] hover:bg-[#3c4f21] hover:text-white",onClick:()=>c(q),children:[l.jsx(VN,{className:"h-4 w-4 mr-2"}),"Relaunch as New Class"]})]}),(e.isAdmin||q.instructorId===e.id)&&l.jsxs("div",{className:"relative",children:[l.jsxs(fe,{variant:"outline",size:"sm",className:`w-full disabled:opacity-60 disabled:cursor-not-allowed disabled:pointer-events-none ${Xe?"border border-gray-300 text-gray-400 bg-gray-100":"border border-red-500 text-red-500 hover:bg-red-500 hover:text-white"}`,disabled:Xe,onClick:()=>o(q.id),title:e.isAdmin?"Delete class (Admin privileges)":Xe?"Classes with approved bookings cannot be deleted":"Delete class",children:[l.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Delete Class",e.isAdmin&&l.jsx(an,{className:"ml-2 bg-orange-500 text-white text-xs px-1 py-0",children:"ADMIN"})]}),Xe&&l.jsx("p",{className:"mt-1 text-xs text-[#556B2F]",children:"Approved bookings prevent deleting this class while it is active."})]})]})]})]},q.id)};let et=null;if(j){const q=t.find(he=>he.id===j.classId);et=l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",children:l.jsxs(Ve,{className:"bg-[#ffffff] border-[#a8b892] max-w-md w-full",children:[l.jsx(bt,{className:"bg-[#c54a2c] text-[#f8f9f6]",children:l.jsx(vt,{className:"text-lg",children:"Deny Booking Request"})}),l.jsxs(qe,{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-[#556B2F] mb-2",children:[l.jsx("strong",{children:"Guest:"})," ",j.userName]}),l.jsxs("p",{className:"text-sm text-[#556B2F] mb-2",children:[l.jsx("strong",{children:"Class:"})," ",q?.title||"Unknown Class"]}),l.jsxs("p",{className:"text-sm text-[#556B2F] mb-4",children:[l.jsx("strong",{children:"Students:"})," ",j.studentCount," ",j.studentNames.length>0?`(${j.studentNames.join(", ")})`:"(Guest did not provide names)"]})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"denialMessage",children:"Reason for denial (optional)"}),l.jsx(Gn,{id:"denialMessage",placeholder:"Let the guest know why you can't accommodate their booking...",value:R,onChange:he=>F(he.target.value),className:"mt-1",rows:3,autoFocus:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(fe,{variant:"outline",onClick:()=>{k(null),F("")},className:"flex-1",children:"Cancel"}),l.jsx(fe,{variant:"destructive",disabled:T,onClick:()=>{E&&console.log(" Deny clicked for",j.id),U(j.id,"deny",R)},className:"flex-1",children:T?"Processing...":"Deny Booking"})]})]})]})})}let ue=null;return u==="overview"?ue=l.jsxs("div",{children:[l.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:l.jsxs(Ve,{children:[l.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(vt,{className:"text-xs md:text-sm font-medium text-[#556B2F]",children:"Total Revenue"}),l.jsx(yi,{className:"h-4 w-4 text-[#556B2F]"})]}),l.jsx(qe,{className:"pt-2",children:l.jsx("div",{className:"text-xl md:text-2xl font-bold text-[#3c4f21]",children:D})})]})}),l.jsxs("div",{className:"flex flex-row flex-wrap gap-3 my-6",children:[l.jsxs(fe,{onClick:()=>{e.stripeConnected?r("create-class"):(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),r("profile"))},className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white flex-1 min-w-[140px] h-auto py-3 px-6",children:[l.jsx(ua,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Create New Class"}),l.jsx("span",{className:"sm:hidden",children:"New Class"})]}),l.jsxs(fe,{onClick:()=>r("classes"),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white flex-1 min-w-[140px] h-auto py-3 px-6",children:[l.jsx(js,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"View All Classes"}),l.jsx("span",{className:"sm:hidden",children:"View Classes"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21] text-lg",children:"Pending Bookings"})}),l.jsx(qe,{children:V.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No PENDING bookings"}):l.jsx("div",{className:"space-y-3",children:V.slice(0,3).map(q=>{const he=t.find(me=>me.id===q.classId),ge=he?ae(he):null,ve=typeof ge=="number"&&ge<Date.now();return l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-[#f8f9f6] rounded-lg gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-[#3c4f21] truncate",children:q.userName}),l.jsx("p",{className:"text-sm text-[#556B2F] truncate",children:he?.title||"Unknown Class"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[q.studentCount," student",q.studentCount>1?"s":""]}),l.jsx("p",{className:"text-xs text-gray-500",children:te(q.createdAt)})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(fe,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8 px-3",onClick:()=>U(q.id,"approve"),disabled:ve,children:l.jsx(io,{className:"h-3 w-3"})}),l.jsx(fe,{size:"sm",variant:"destructive",className:"h-8 px-3",onClick:()=>k(q),disabled:ve,children:l.jsx(Ln,{className:"h-3 w-3"})})]}),ve&&l.jsx("p",{className:"text-xs text-[#c54a2c] text-right",children:"This class has ended. Pending bookings were automatically denied."})]})]},q.id)})})})]}),l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21] text-lg",children:"Recent Messages"})}),l.jsx(qe,{children:z.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No messages"}):l.jsx("div",{className:"space-y-3",children:z.map(q=>{const he=q.hostId===e.id?q.guestName||"Guest":q.hostName||"Host",ge=t.find(Se=>Se.id===q.classId)?.title||"Unknown Class",ve=typeof window<"u"&&window.matchMedia("(max-width: 1023px)").matches,me=()=>{v?.(q.id),ve&&p?.(Se=>Se)};return l.jsxs("button",{type:"button",onClick:me,className:"block w-full text-left p-3 bg-[#f8f9f6] rounded-lg transition-colors hover:bg-[#e7ede0] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F]",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-[#3c4f21] truncate",children:he}),q.unreadCount>0&&l.jsxs("span",{className:"ml-2 inline-flex items-center",children:[l.jsx("span",{className:"block h-2.5 w-2.5 rounded-full bg-[#c54a2c]","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:`${q.unreadCount} unread message${q.unreadCount===1?"":"s"}`})]})]}),l.jsx("p",{className:"text-sm text-[#556B2F] mb-1 truncate",children:ge}),q.lastMessage&&l.jsx("p",{className:"text-xs text-gray-600 truncate",children:q.lastMessage.content})]},q.id)})})})]})]})]}):u==="classes"?ue=l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#3c4f21]",children:"My Classes"}),l.jsxs(fe,{onClick:()=>{e.stripeConnected?r("create-class"):(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),r("profile"))},className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white w-full sm:w-auto",children:[l.jsx(ua,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Create New Class"}),l.jsx("span",{className:"sm:hidden",children:"New Class"})]})]}),N?l.jsx(Ve,{children:l.jsxs(qe,{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading classes..."})]})}):de.length===0?l.jsx(Ve,{children:l.jsxs(qe,{className:"text-center py-12",children:[l.jsx(mn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't created any classes yet"}),l.jsx(fe,{onClick:()=>{e.stripeConnected?r("create-class"):(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),r("profile"))},className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:e.stripeConnected?"Create Your First Class":"Setup Stripe to Create Classes"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-[#3c4f21] mb-3",children:"Upcoming & Active Classes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:se.length===0?l.jsx(Ve,{className:"md:col-span-2 lg:col-span-3",children:l.jsx(qe,{className:"text-center py-10 text-[#556B2F]",children:"No upcoming classes. Relaunch a past class or create a new one."})}):se.map(q=>je(q,!1))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-[#3c4f21] mb-3",children:"Past Classes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:pe.length===0?l.jsx(Ve,{className:"md:col-span-2 lg:col-span-3",children:l.jsx(qe,{className:"text-center py-10 text-[#556B2F]",children:"No past classes yet."})}):pe.map(q=>je(q,!0))})]})]})]}):u==="bookings"?ue=l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#3c4f21]",children:"Booking Management"}),N?l.jsx(Ve,{children:l.jsxs(qe,{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading bookings..."})]})}):L.length===0?l.jsx(Ve,{children:l.jsxs(qe,{className:"text-center py-12",children:[l.jsx(ar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No bookings yet"})]})}):l.jsx("div",{className:"space-y-4",children:L.map(q=>{const he=t.find(ve=>ve.id===q.classId),ge=q.status==="DENIED"?0:q.subtotal;return l.jsx(Ve,{children:l.jsx(qe,{className:"p-4 md:p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[l.jsx("h3",{className:"font-bold text-[#3c4f21] truncate",children:he?.title||"Unknown Class"}),l.jsx(an,{className:le(q.status),children:q.status})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-[#556B2F]",children:[l.jsx("strong",{children:"Guest:"})," ",q.userName]}),l.jsxs("p",{className:"text-sm text-[#556B2F] truncate",children:[l.jsx("strong",{children:"Email:"})," ",q.userEmail]})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-[#556B2F]",children:[l.jsx("strong",{children:"Students:"})," ",q.studentCount]}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:[l.jsx("strong",{children:"Your earnings:"})," ",ir(ge,{withCurrency:!0})]})]})]}),l.jsxs("div",{className:"space-y-1 mb-3",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Student Names:"})," ",q.studentNames.length>0?q.studentNames.join(", "):"Not provided"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Class Dates:"})," ",he?J(he.startDate,he.endDate):"Unknown"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Booked:"})," ",te(q.createdAt)]})]}),q.status==="DENIED"&&q.host_message&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mt-2",children:l.jsxs("p",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Denial reason:"})," ",q.host_message]})})]}),q.status==="PENDING"&&l.jsxs("div",{className:"flex gap-2 justify-end lg:justify-start",children:[l.jsxs(fe,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",disabled:T,onClick:()=>U(q.id,"approve"),children:[l.jsx(io,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:"Approve"})]}),l.jsxs(fe,{size:"sm",variant:"destructive",disabled:T,onClick:()=>k(q),children:[l.jsx(Ln,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:"Deny"})]})]})]})})},q.id)})})]}):u==="messages"&&h&&(ue=l.jsx(Qb,{conversations:n,currentUserId:e.id,currentUserName:e.name,onSendMessage:h,onConversationsUpdate:p,initialConversationId:I})),l.jsxs(l.Fragment,{children:[ue,et]})}function di({user:e,classes:t,bookings:n,conversations:r,favorites:o,posts:i,onNavigate:c,activeView:u="overview",onToggleFavorite:h,onSendMessage:p,onRefreshBookings:f,loadingBookings:m=!1,onManageClass:v,onSelectClass:y,onConversationsUpdate:w,onDeletePost:_,onSelectPost:N}){const C=b.useMemo(()=>n.filter(L=>L.isGuestBooking).sort((L,M)=>{const U=new Date(`${L.startDate??L.createdAt}T${L.startTime??"00:00"}`).getTime(),te=new Date(`${M.startDate??M.createdAt}T${M.startTime??"00:00"}`).getTime();return U-te}),[n]),j=C.filter(L=>L.status==="PENDING");r.reduce((L,M)=>L+(M.unreadCount??0),0);const k=b.useMemo(()=>{const L=Date.now(),M=U=>{if(!U.startDate)return Number.POSITIVE_INFINITY;const te=new Date(`${U.startDate}T${U.startTime||"00:00"}`).getTime();return Number.isFinite(te)?te:Number.POSITIVE_INFINITY};return t.filter(U=>o.includes(U.id)?M(U)>L:!1).slice().sort((U,te)=>M(U)-M(te))},[t,o]),R=C,F=R.filter(L=>L.reviewed).length,T=C,B=b.useMemo(()=>(i??[]).filter(L=>L.authorId===e.id).slice().sort((L,M)=>new Date(M.createdAt).getTime()-new Date(L.createdAt).getTime()),[i,e.id]),E=b.useCallback(async L=>{!_||!window.confirm(`Delete "${L.title}"? This action cannot be undone.`)||await _(L.id)},[_]),I=(L,M=160)=>{if(!L)return"";const U=L.trim();return U.length>M?`${U.slice(0,M)}`:U},$=L=>{const M=new Date(L);return isNaN(M.getTime())?"":M.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},H=async L=>{try{let M=L.reviewToken||null;if(!M){const{data:U,error:te}=await Ce.from("review_tokens").select("token").eq("booking_id",L.id).eq("user_id",e.id).is("used_at",null).maybeSingle();if(te)throw te;M=U?.token??null}if(!M){be.info("Your review link is not ready yet. Please check back soon.");return}window.location.href=`/review?token=${encodeURIComponent(M)}`}catch(M){console.error("Error opening review link",M),be.error("Unable to open the review form right now. Please try again later.")}},V=L=>{const M=L.startDate??(L.createdAt&&L.createdAt.includes("T")?L.createdAt.split("T")[0]:null);if(!M){if(L.reviewReadyAt){const de=new Date(L.reviewReadyAt);if(!isNaN(de.getTime()))return de.getTime()-24*3600*1e3}return null}const U=L.startTime??(L.createdAt&&L.createdAt.includes("T")?L.createdAt.split("T")[1]?.slice(0,5):"00:00"),te=new Date(`${M}T${U}`);if(isNaN(te.getTime()))return null;const J=Number(L.numberOfDays??1),ee=Number.isFinite(J)&&J>0?J:1,le=Number(L.hoursPerDay??0),X=Number.isFinite(le)&&le>0?le:0,ae=Math.max(0,X)*Math.max(1,ee);return te.getTime()+ae*3600*1e3},K=L=>{if(L.reviewed)return null;const M=V(L),U=Date.now(),te=(L.status||"").toUpperCase(),J=te==="APPROVED"||te==="PAID";if(!L.reviewToken&&J&&M!==null)return M<=U&&(U-M)/36e5<24?"Review invite will be emailed soon.":null;if(!L.reviewEligible){if(L.reviewToken&&L.reviewReadyAt){const ee=new Date(L.reviewReadyAt);if(!isNaN(ee.getTime()))return`Review available on ${ee.toLocaleString()}`}return L.reviewToken?"Review available soon.":null}return null},W=L=>{if(!L)return"";const M=new Date(L);return isNaN(M.getTime())?"":M.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Q=L=>{switch(L){case"PENDING":return"bg-yellow-100 text-yellow-800";case"APPROVED":return"bg-green-100 text-green-800";case"DENIED":case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=L=>{switch(L){case"PENDING":return"Pending";case"APPROVED":return"Approved";case"DENIED":return"Denied";case"FAILED":return"Failed";default:return L||"Unknown"}},P=L=>{const M=t.find(U=>U.id===L);if(M){if(y){y(M);return}v&&v(M)}},D=L=>{const M=t.find(J=>J.id===L.classId),te=[L.hostName,M?.hostName,M?.instructorName].find(J=>typeof J=="string"&&J.trim().length>0);return te?te.trim():null},z=L=>{const M=D(L),U=t.find(J=>J.id===L.classId),te=ca(L.startDate??U?.startDate,U?.endDate)||W(L.startDate??L.createdAt);return l.jsxs("div",{className:"p-3 bg-[#f8f9f6] rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("button",{onClick:()=>P(L.classId),className:"font-medium text-[#3c4f21] hover:text-[#556B2F] underline text-left",children:L.className||"Unknown Class"}),l.jsx(an,{className:Q(L.status),children:A(L.status)})]}),l.jsx("p",{className:"text-sm text-[#556B2F] italic",children:M?`Host: ${M}`:"Host info unavailable"}),l.jsx("p",{className:"text-xs text-gray-500",children:te}),l.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:L.reviewed?l.jsx(an,{className:"bg-green-100 text-green-800",children:"Reviewed"}):l.jsxs(l.Fragment,{children:[l.jsx(fe,{size:"sm",variant:"outline",className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",disabled:!L.reviewEligible,onClick:()=>H(L),children:"Leave Review"}),K(L)&&l.jsx("span",{className:"text-xs text-gray-500",children:K(L)})]})})]})};return u==="overview"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{title:"My Bookings",icon:mn,count:R.length},{title:"Pending",icon:mn,count:j.length,iconColor:"#c54a2c"},{title:"Favorites",icon:Ns,count:o.length,iconColor:"#c54a2c"},{title:"Reviews Left",icon:Fc,count:F,iconColor:"#c54a2c"}].map((L,M)=>l.jsxs(Ve,{children:[l.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(vt,{className:"text-sm font-medium text-[#556B2F]",children:L.title}),l.jsx(L.icon,{className:"h-4 w-4",style:{color:L.iconColor||"#556B2F"}})]}),l.jsx(qe,{children:l.jsx("div",{className:"text-2xl font-bold text-[#3c4f21]",children:L.count})})]},M))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs(fe,{onClick:()=>c("classes"),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:[l.jsx(ao,{className:"h-4 w-4 mr-2"}),"Browse Classes"]}),l.jsxs(fe,{variant:"outline",onClick:()=>c("bulletin"),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",children:[l.jsx(js,{className:"h-4 w-4 mr-2"}),"View Bulletin Board"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21]",children:"Recent Bookings"})}),l.jsx(qe,{children:R.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(mn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"No bookings yet"}),l.jsx(fe,{onClick:()=>c("classes"),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:"Browse Classes"})]}):l.jsx("div",{className:"space-y-3",children:T.slice(0,3).map(L=>l.jsx("div",{children:z(L)},L.id))})})]}),l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21]",children:"Favorite Classes"})}),l.jsx(qe,{children:k.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"No favorites yet"}),l.jsx(fe,{onClick:()=>c("classes"),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:"Discover Classes"})]}):l.jsx("div",{className:"space-y-3",children:k.slice(0,3).map(L=>l.jsxs("div",{className:"p-3 bg-[#f8f9f6] rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-[#3c4f21]",children:L.title}),l.jsx(fe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-[#c54a2c] hover:text-[#c54a2c]",onClick:()=>h?.(L.id),children:l.jsx(Ns,{className:"h-4 w-4 fill-current"})})]}),l.jsx("p",{className:"text-sm text-[#556B2F]",children:L.instructorName||""}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:[ir(L.pricePerPerson,{withCurrency:!0}),"/person"]}),l.jsx("p",{className:"text-xs text-gray-500",children:ca(L.startDate,L.endDate)})]},L.id))})})]})]})]}):u==="bookings"?(console.log(" Rendering MY BOOKINGS tab"),console.log("bookings prop:",n),console.log("orderedBookings:",T),console.log("guestBookings:",n.filter(L=>L.isGuestBooking)),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-[#3c4f21]",children:"My Bookings"}),f&&l.jsxs(fe,{variant:"outline",size:"sm",onClick:f,disabled:m,className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white disabled:opacity-50",children:[l.jsx(Sx,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),m?"Loading...":"Refresh"]})]}),m?l.jsx(Ve,{children:l.jsx(qe,{className:"text-center py-12",children:"Loading..."})}):T.length===0?l.jsx(Ve,{children:l.jsxs(qe,{className:"text-center py-12",children:[l.jsx(mn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't booked any classes yet"}),l.jsx(fe,{onClick:()=>c("classes"),className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:"Browse Classes"})]})}):l.jsx("div",{className:"space-y-4",children:T.map(L=>l.jsx(Ve,{children:l.jsxs(qe,{className:"space-y-4",children:[z(L),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-[#556B2F]",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Total Paid:"})," $",((L.totalAmount??0)/100).toFixed(2)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Booked:"})," ",W(L.createdAt)]})]})]})},L.id))})]})):u==="favorites"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-[#3c4f21]",children:"Favorite Classes"}),k.length===0?l.jsx(Ve,{children:l.jsx(qe,{className:"text-center py-12",children:"No favorites yet"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(L=>l.jsxs(Ve,{role:"button",tabIndex:0,onClick:()=>{y?y(L):c("class-detail")},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),y?y(L):c("class-detail"))},className:"group cursor-pointer border-[#a8b892] hover:shadow-xl transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#556B2F]",children:[l.jsxs(bt,{children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(vt,{className:"text-[#3c4f21] flex-1 truncate",children:l.jsx("span",{className:"underline-offset-2 group-hover:underline",children:L.title})}),l.jsx(fe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-[#c54a2c] hover:text-[#c54a2c] ml-2",onClick:M=>{M.stopPropagation(),h?.(L.id)},children:l.jsx(Ns,{className:"h-4 w-4 fill-current"})})]}),l.jsx("p",{className:"text-sm text-[#556B2F]",children:L.shortSummary})]}),l.jsxs(qe,{className:"space-y-2 text-sm text-[#556B2F]",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Instructor:"})," ",L.instructorName||""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Dates:"})," ",ca(L.startDate,L.endDate)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Price:"})," ",ir(L.pricePerPerson,{withCurrency:!0}),"/person"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Duration:"})," ",L.numberOfDays??0," day",(L.numberOfDays??0)>1?"s":""]})]})]},L.id))})]}):u==="bulletins"?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-[#3c4f21]",children:"My Bulletins"}),l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Manage posts you've published to the community."})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(fe,{className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",onClick:()=>c("bulletin"),children:[l.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Create Bulletin"]}),l.jsxs(fe,{variant:"outline",className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",onClick:()=>c("bulletin"),children:[l.jsx(js,{className:"h-4 w-4 mr-2"}),"View Board"]})]})]}),B.length===0?l.jsx(Ve,{children:l.jsxs(qe,{className:"py-12 text-center text-[#556B2F] space-y-3",children:[l.jsx(Nx,{className:"h-10 w-10 mx-auto text-gray-400"}),l.jsx("p",{children:"You haven't posted any bulletins yet."}),l.jsx(fe,{className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",onClick:()=>c("bulletin"),children:"Write Your First Bulletin"})]})}):l.jsx("div",{className:"space-y-4",children:B.map(L=>{const M=I(L.content||"",180),U=L.photos?.[0]??null;return l.jsxs(Ve,{className:"border-[#a8b892]",children:[l.jsxs(bt,{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(vt,{className:"text-[#3c4f21] text-lg sm:text-xl",children:L.title}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-[#556B2F]",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(mn,{className:"h-3.5 w-3.5"})," ",$(L.createdAt)]}),l.jsxs(an,{className:"bg-[#a8b892] text-[#2d3d1f] flex items-center gap-1",children:[l.jsx(wh,{className:"h-3 w-3"})," ",L.category||"General"]}),L.photos?.length?l.jsxs("span",{className:"text-xs text-gray-500",children:[L.photos.length," photo",L.photos.length===1?"":"s"]}):null]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(fe,{size:"sm",className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",onClick:()=>{N?.(L),c("bulletin-detail")},children:[l.jsx(Wf,{className:"h-4 w-4 mr-1"})," View / Edit"]}),_&&l.jsxs(fe,{size:"sm",variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50",onClick:()=>void E(L),children:[l.jsx(Cs,{className:"h-4 w-4 mr-1"})," Delete"]})]})]}),l.jsxs(qe,{className:"space-y-3 text-sm text-[#3c4f21]",children:[U&&l.jsx("div",{className:"relative h-40 w-full overflow-hidden rounded-lg border border-[#a8b892]",children:l.jsx(Yn,{src:U,alt:`${L.title} cover`,className:"h-full w-full object-cover"})}),M&&l.jsx("p",{className:"leading-relaxed text-[#3c4f21]",children:M})]})]},L.id)})})]}):u==="messages"&&p?l.jsx(Qb,{conversations:r,currentUserId:e.id,currentUserName:e.name,onSendMessage:p,onConversationsUpdate:w}):null}var Mf="rovingFocusGroup.onEntryFocus",LI={bubbles:!1,cancelable:!0},Mi="RovingFocusGroup",[vh,Jb,BI]=m0(Mi),[$I,Xb]=Cr(Mi,[BI]),[UI,zI]=$I(Mi),Zb=b.forwardRef((e,t)=>l.jsx(vh.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(vh.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(WI,{...e,ref:t})})}));Zb.displayName=Mi;var WI=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...m}=e,v=b.useRef(null),y=Et(t,v),w=Ah(i),[_,N]=ks({prop:c,defaultProp:u??null,onChange:h,caller:Mi}),[C,j]=b.useState(!1),k=Vr(p),R=Jb(n),F=b.useRef(!1),[T,B]=b.useState(0);return b.useEffect(()=>{const E=v.current;if(E)return E.addEventListener(Mf,k),()=>E.removeEventListener(Mf,k)},[k]),l.jsx(UI,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:_,onItemFocus:b.useCallback(E=>N(E),[N]),onItemShiftTab:b.useCallback(()=>j(!0),[]),onFocusableItemAdd:b.useCallback(()=>B(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>B(E=>E-1),[]),children:l.jsx(lt.div,{tabIndex:C||T===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:ct(e.onMouseDown,()=>{F.current=!0}),onFocus:ct(e.onFocus,E=>{const I=!F.current;if(E.target===E.currentTarget&&I&&!C){const $=new CustomEvent(Mf,LI);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const H=R().filter(A=>A.focusable),V=H.find(A=>A.active),K=H.find(A=>A.id===_),Q=[V,K,...H].filter(Boolean).map(A=>A.ref.current);n1(Q,f)}}F.current=!1}),onBlur:ct(e.onBlur,()=>j(!1))})})}),e1="RovingFocusGroupItem",t1=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,children:c,...u}=e,h=Wr(),p=i||h,f=zI(e1,n),m=f.currentTabStopId===p,v=Jb(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:_}=f;return b.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),l.jsx(vh.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:l.jsx(lt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...u,ref:t,onMouseDown:ct(e.onMouseDown,N=>{r?f.onItemFocus(p):N.preventDefault()}),onFocus:ct(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:ct(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const C=qI(N,f.orientation,f.dir);if(C!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let k=v().filter(R=>R.focusable).map(R=>R.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const R=k.indexOf(N.currentTarget);k=f.loop?GI(k,R+1):k.slice(R+1)}setTimeout(()=>n1(k))}}),children:typeof c=="function"?c({isCurrentTabStop:m,hasTabStop:_!=null}):c})})});t1.displayName=e1;var HI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qI(e,t,n){const r=VI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HI[r]}function n1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function GI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YI=Zb,KI=t1,lu="Tabs",[QI]=Cr(lu,[Xb]),r1=Xb(),[JI,xm]=QI(lu),s1=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:i,orientation:c="horizontal",dir:u,activationMode:h="automatic",...p}=e,f=Ah(u),[m,v]=ks({prop:r,onChange:o,defaultProp:i??"",caller:lu});return l.jsx(JI,{scope:n,baseId:Wr(),value:m,onValueChange:v,orientation:c,dir:f,activationMode:h,children:l.jsx(lt.div,{dir:f,"data-orientation":c,...p,ref:t})})});s1.displayName=lu;var o1="TabsList",a1=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,i=xm(o1,n),c=r1(n);return l.jsx(YI,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(lt.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});a1.displayName=o1;var i1="TabsTrigger",l1=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...i}=e,c=xm(i1,n),u=r1(n),h=d1(c.baseId,r),p=f1(c.baseId,r),f=r===c.value;return l.jsx(KI,{asChild:!0,...u,focusable:!o,active:f,children:l.jsx(lt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...i,ref:t,onMouseDown:ct(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?c.onValueChange(r):m.preventDefault()}),onKeyDown:ct(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(r)}),onFocus:ct(e.onFocus,()=>{const m=c.activationMode!=="manual";!f&&!o&&m&&c.onValueChange(r)})})})});l1.displayName=i1;var c1="TabsContent",u1=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:i,...c}=e,u=xm(c1,n),h=d1(u.baseId,r),p=f1(u.baseId,r),f=r===u.value,m=b.useRef(f);return b.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),l.jsx(As,{present:o||f,children:({present:v})=>l.jsx(lt.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!v,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&i})})});u1.displayName=c1;function d1(e,t){return`${e}-trigger-${t}`}function f1(e,t){return`${e}-content-${t}`}var XI=s1,ZI=a1,eO=l1,tO=u1;function Zy({className:e,...t}){return l.jsx(XI,{"data-slot":"tabs",className:st("flex flex-col gap-2",e),...t})}function ex({className:e,...t}){return l.jsx(ZI,{"data-slot":"tabs-list",className:st("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Br({className:e,...t}){return l.jsx(eO,{"data-slot":"tabs-trigger",className:st("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] hover:shadow-md focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function $r({className:e,...t}){return l.jsx(tO,{"data-slot":"tabs-content",className:st("flex-1 outline-none",e),...t})}var cu="Switch",[nO]=Cr(cu),[rO,sO]=nO(cu),h1=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:c,disabled:u,value:h="on",onCheckedChange:p,form:f,...m}=e,[v,y]=b.useState(null),w=Et(t,k=>y(k)),_=b.useRef(!1),N=v?f||!!v.closest("form"):!0,[C,j]=ks({prop:o,defaultProp:i??!1,onChange:p,caller:cu});return l.jsxs(rO,{scope:n,checked:C,disabled:u,children:[l.jsx(lt.button,{type:"button",role:"switch","aria-checked":C,"aria-required":c,"data-state":v1(C),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:w,onClick:ct(e.onClick,k=>{j(R=>!R),N&&(_.current=k.isPropagationStopped(),_.current||k.stopPropagation())})}),N&&l.jsx(g1,{control:v,bubbles:!_.current,name:r,value:h,checked:C,required:c,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})});h1.displayName=cu;var m1="SwitchThumb",p1=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=sO(m1,n);return l.jsx(lt.span,{"data-state":v1(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});p1.displayName=m1;var oO="SwitchBubbleInput",g1=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...o},i)=>{const c=b.useRef(null),u=Et(c,i),h=_h(n),p=Nh(t);return b.useEffect(()=>{const f=c.current;if(!f)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==n&&y){const w=new Event("click",{bubbles:r});y.call(f,n),f.dispatchEvent(w)}},[h,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});g1.displayName=oO;function v1(e){return e?"checked":"unchecked"}var aO=h1,iO=p1;function lO({className:e,...t}){return l.jsx(aO,{"data-slot":"switch",className:st("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(iO,{"data-slot":"switch-thumb",className:st("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const cO={},tx={overview:"",bookings:"mybookings",favorites:"favorites",bulletins:"mybulletins",messages:"messages"},uO=e=>{if(typeof e!="string")return"/";const t=e.trim();return!t||t==="/"?"/":t.replace(/\/+$/,"")||"/"},dO=(e,t)=>{const n=e.host_profile??e.host??null,r=e.guest_profile??e.guest??null;return e.host_id&&e.host_id!==t&&n?n:e.guest_id&&e.guest_id!==t&&r||e.host_id===t?r:e.guest_id===t?n:n||r||null};function fO({user:e,classes:t,posts:n,onNavigate:r,onDeleteClass:o,onManageClass:i,onSelectClass:c,initialTab:u=null,initialConversationId:h=null,favorites:p,onToggleFavorite:f,onRelaunchClass:m,onDeletePost:v,onSelectPost:y,hostMessageTarget:w=null,initialMode:_=null}){const[N,C]=b.useState([]),[j,k]=b.useState([]),[R,F]=b.useState(u??"overview"),[T,B]=b.useState(_??(e.stripeConnected?"host":"guest")),[E,I]=b.useState(!1),[$,H]=b.useState(w?.conversationId??h??null),[V,K]=b.useState(!0),W=cO?.VITE_DEBUG_LOGS==="true",Q=_e.useRef(u),A=_e.useRef(e.stripeConnected),P=b.useMemo(()=>N.reduce((ue,q)=>ue+(q.unreadCount>0?1:0),0),[N]),D=P>0,z=D?P>99?"99+":String(P):null,L=D?`${P} unread conversation${P===1?"":"s"}`:null,M=b.useMemo(()=>j.filter(ue=>ue.hostId===e.id&&ue.status==="PENDING").length,[j,e.id]),U=M>0,te=U?M>99?"99+":String(M):null,J=U?`${M} booking${M===1?"":"s"} needing attention`:null,ee=["overview","classes","bookings","messages"],le=["overview","bookings","favorites","bulletins","messages"];b.useEffect(()=>{u&&Q.current!==u&&(F(u),Q.current=u)},[u]),b.useEffect(()=>{_&&B(_)},[_]),b.useEffect(()=>{h&&H(h)},[h]),b.useEffect(()=>{w?.conversationId&&H(w.conversationId)},[w?.conversationId]),b.useEffect(()=>{const ue=A.current;e.stripeConnected?!ue&&e.stripeConnected&&B("host"):B("guest"),A.current=e.stripeConnected},[e.stripeConnected]),b.useEffect(()=>{(T==="host"?ee:le).includes(R)||F("overview")},[T,R]);const X=ue=>{if(!e.stripeConnected){B("guest");return}B(ue)},ae=b.useCallback(ue=>{H(ue),F("messages")},[H,F]),de=()=>{if(!e.stripeConnected)return null;const ue=T==="host";return l.jsx("div",{className:"mb-4 flex justify-end",children:l.jsxs("div",{className:["inline-flex items-center gap-3 rounded-full border px-4 py-2 shadow-sm transition-colors","bg-transparent border-transparent"].join(" "),children:[l.jsx("button",{type:"button","aria-pressed":!ue,onClick:()=>X("guest"),className:["text-xs font-medium px-3 py-1.5 rounded-full border transition-all duration-150",ue?"bg-transparent text-gray-500 hover:text-gray-800 border-transparent":"bg-green-100 text-black-900 border-black-200 shadow"].join(" "),children:"Guest View"}),l.jsx(lO,{checked:ue,onCheckedChange:q=>X(q?"host":"guest"),"aria-label":"Toggle host dashboard",className:"data-[state=checked]:bg-green-700 data-[state=unchecked]:bg-gray-300 border border-black/70 shadow-[0_0_0_1px_rgba(0,0,0,0.15)]"}),l.jsx("button",{type:"button","aria-pressed":ue,onClick:()=>X("host"),className:["text-xs font-medium px-3 py-1.5 rounded-full border transition-all duration-150",ue?"bg-green-100 text-black-900 border-black-200 shadow":"bg-transparent text-gray-500 hover:text-gray-800 border-transparent"].join(" "),children:"Host View"})]})})};b.useEffect(()=>{e?.id&&se()},[e.id]),b.useEffect(()=>{const ue=()=>{e?.id&&pe()};return window.addEventListener("herd-message-sent",ue),()=>window.removeEventListener("herd-message-sent",ue)},[e?.id]);const se=async()=>{e?.id&&(W&&console.log(" Loading dashboard data for user:",e.id),await pe(),await je())},pe=async(ue={})=>{try{W&&console.log(" Loading conversations for user:",e.id);const q=ue.includeDeletedAt??V,he=`
        id,
        class_id,
        host_id,
        guest_id,
        created_at,
        updated_at,
        last_message_at,
        messages (
          id,
          sender_id,
          content,
          created_at
        ),
        participants:conversation_participants (
          user_id,
          last_read_at${q?", deleted_at":""}
        ),
        classes!conversations_class_id_fkey (
          id,
          title
        ),
        host:profiles!conversations_host_id_fkey (
          id,
          full_name,
          avatar_url
        ),
        guest:profiles!conversations_guest_id_fkey (
          id,
          full_name,
          avatar_url
        )
      `,{data:ge,error:ve}=await Ce.from("conversations").select(he).order("last_message_at",{ascending:!1});if(ve){if(q&&typeof ve=="object"&&ve!==null&&"code"in ve&&ve.code==="42703")return console.warn(" Conversations backend has no deleted_at column yet; retrying without soft-delete support."),K(!1),await pe({includeDeletedAt:!1});throw ve}const me=(ge||[]).filter(ke=>ke.host_id===e.id||ke.guest_id===e.id),Se=new Map,ze=async ke=>{if(!ke)return null;if(/^https?:\/\//i.test(ke))return ke;if(Se.has(ke))return Se.get(ke)??null;try{const{data:tt,error:Xe}=await Ce.storage.from("avatars").createSignedUrl(ke,604800);return Xe?(console.warn("Failed to create signed avatar URL:",Xe.message??Xe),Se.set(ke,null),null):(Se.set(ke,tt?.signedUrl??null),tt?.signedUrl??null)}catch(tt){return console.warn("Unexpected error signing avatar URL:",tt),Se.set(ke,null),null}},Ie=(await Promise.all(me.map(async ke=>{const tt=Array.isArray(ke.messages)?[...ke.messages]:[],Xe=tt.length>0?tt.slice().sort((_t,Y)=>new Date(Y.created_at).getTime()-new Date(_t.created_at).getTime())[0]:void 0,Ue=Array.isArray(ke.participants)?ke.participants.find(_t=>_t.user_id===e.id):void 0;if(q&&Ue?.deleted_at)return null;const We=Ue?.last_read_at??null,dt=(()=>{if(!tt.length)return null;const _t=tt.slice().sort((re,Pe)=>new Date(re.created_at).getTime()-new Date(Pe.created_at).getTime()).find(re=>typeof re?.content=="string"&&re.content.startsWith("[Bulletin] "));return _t?(_t.content.split(`
`)[0]??"").replace(/^\[Bulletin\]\s*/,"").trim():null})(),ht=ke.classes?.title?ke.classes.title:dt?`Bulletin: ${dt}`:null,xt=dO(ke,e.id),Nt=await ze(xt?.avatar_url??null);return{id:ke.id,classId:ke.class_id,hostId:ke.host_id,guestId:ke.guest_id,createdAt:ke.created_at,updatedAt:ke.updated_at,lastReadAt:We??void 0,lastMessage:Xe?{id:Xe.id,conversationId:ke.id,senderId:Xe.sender_id,content:Xe.content,createdAt:Xe.created_at}:void 0,hostName:ke.host?.full_name||"Host",guestName:ke.guest?.full_name||"Guest",otherAvatarUrl:Nt,className:ht||"Conversation",unreadCount:(()=>{if(!Xe||Xe.sender_id===e.id)return 0;const _t=Xe.created_at?new Date(Xe.created_at).getTime():ke.last_message_at?new Date(ke.last_message_at).getTime():0,Y=We?new Date(We).getTime():ke.updated_at?new Date(ke.updated_at).getTime():0;return _t>Y?1:0})()}}))).filter(ke=>ke!==null);W&&console.log(` Loaded ${Ie.length} conversations`),C(Ie)}catch(q){console.error(" Failed to load conversations:",q),C([])}},je=async()=>{try{I(!0),W&&console.log(` Loading bookings for user: ${e.id}`);const ue=`
        id,
        class_id,
        user_id,
        qty,
        total_cents,
        status,
        payment_status,
        stripe_fee_cents,
        platform_fee_cents,
        host_payout_cents,
        reviewed,
        student_names,
        created_at,
        updated_at,
        approved_at,
        denied_at,
        host_message,
        classes:classes!bookings_class_id_fkey(
          title,
          start_date,
          end_date,
          start_time,
          number_of_days,
          hours_per_day,
          host_id
        )
      `,[q,he]=await Promise.all([Ce.from("bookings").select(ue).eq("user_id",e.id).order("created_at",{ascending:!1}),Ce.from("bookings").select(ue).eq("classes.host_id",e.id).order("created_at",{ascending:!1})]);if(q.error)throw q.error;if(he.error)throw he.error;const ge=Array.isArray(q.data)?q.data:[],ve=Array.isArray(he.data)?he.data:[],me=ge.map(Ue=>Ue.id).filter(Boolean),Se={};if(me.length>0){const{data:Ue,error:We}=await Ce.from("review_tokens").select("booking_id, token, expires_at, used_at").in("booking_id",me).eq("user_id",e.id).is("used_at",null);!We&&Array.isArray(Ue)&&Ue.forEach(dt=>{dt?.booking_id&&dt?.token&&(Se[dt.booking_id]={token:dt.token,expires_at:dt.expires_at??null})})}const ze=Date.now(),Qe=[...ge,...ve],Ie=new Map;Qe.forEach(Ue=>{Ue?.id&&!Ie.has(Ue.id)&&Ie.set(Ue.id,Ue)});const ke=Array.from(new Set(Qe.map(Ue=>Ue?.classes?.host_id).filter(Ue=>typeof Ue=="string"&&Ue.trim().length>0))),tt={};if(ke.length>0){const{data:Ue,error:We}=await Ce.from("profiles").select("id, full_name").in("id",ke);We?console.error(" Error loading host profiles:",We):Array.isArray(Ue)&&Ue.forEach(dt=>{const ht=typeof dt?.id=="string"?dt.id:null,xt=typeof dt?.full_name=="string"?dt.full_name.trim():"";ht&&xt&&(tt[ht]=xt)})}const Xe=Array.from(Ie.values()).map(Ue=>{const We=Ue.classes||{},dt=We?.start_date||null,ht=We?.start_time||null,xt=We?.end_date||dt,Nt=Number(We?.number_of_days??1)||1,_t=Number(We?.hours_per_day??0)||0,Y=typeof We?.host_id=="string"?We.host_id:null,re=(()=>{if(!Y)return null;const Ae=tt[Y];return Ae&&Ae.trim().length>0?Ae.trim():Y===e.id&&typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():null})(),Pe=(()=>{const Ae=We?.end_date??We?.start_date??null;if(!Ae)return null;const at=new Date(`${Ae}T${We?.start_time||"00:00:00"}`);return Number.isNaN(at.getTime())?null:(at.setHours(23,59,59,999),at.getTime())})();let Oe=Ue.status,Le=null;if(dt){const Ae=ht||"00:00",at=new Date(`${dt}T${Ae}Z`);if(!isNaN(at.getTime()))if(!!(xt&&xt!==dt&&Nt>1)){const pt=new Date(`${xt}T${Ae}Z`);isNaN(pt.getTime())||(Le=new Date(pt.getTime()+864e5).toISOString())}else{const pt=_t*Nt>0?_t*Nt*3600*1e3:0;Le=new Date(at.getTime()+pt+24*3600*1e3).toISOString()}}const Ee=Se[Ue.id],Je=!!Ue.reviewed,He=(Ue.status||"").toString().toUpperCase(),ot=Le?new Date(Le).getTime():null,Pt=!Je&&!!Ee?.token&&["APPROVED","PAID"].includes(He)&&(!ot||ze>=ot);return{id:Ue.id,classId:Ue.class_id,userId:Ue.user_id,qty:Ue.qty,totalAmount:Ue.total_cents,status:Oe,createdAt:Ue.created_at,className:We?.title,startDate:dt,endDate:xt,startTime:ht,numberOfDays:Nt,hoursPerDay:_t,reviewed:Je,reviewToken:Ee?.token??null,reviewTokenExpiresAt:Ee?.expires_at??null,reviewEligible:Pt,reviewReadyAt:Le,hostId:We?.host_id??null,hostName:re,studentCount:Ue.qty??null,isGuestBooking:Ue.user_id===e.id,classEndTimestamp:Pe}});k(Xe)}catch(ue){console.error(" Error loading bookings:",ue),k([])}finally{I(!1)}};b.useEffect(()=>{if(typeof window>"u")return;const ue=uO(window.location.pathname);if(T==="guest"){if(!Object.prototype.hasOwnProperty.call(tx,R))return;const q=tx[R],he=`/dashboard/guestview${q?`/${q}`:""}`;ue!==he&&window.history.replaceState({},document.title,he)}else if(T==="host"){const q=`/dashboard/hostview${R?`/${R}`:""}`;ue!==q&&window.history.replaceState({},document.title,q)}},[T,R]);const et=async(ue,q)=>{try{W&&console.log(" Sending message to conversation:",ue);const{error:he}=await Ce.from("messages").insert([{conversation_id:ue,sender_id:e.id,content:q}]);if(he)throw he;W&&console.log(" Message sent successfully"),await pe()}catch(he){console.error("Error sending message:",he),be.error("Error sending message. Please check your connection and try again.")}};return e.stripeConnected&&T==="host"?l.jsxs("div",{className:"max-w-6xl mx-auto p-3 md:p-6",children:[de(),l.jsxs("div",{className:"mb-6 md:mb-8",children:[l.jsx("h1",{className:"text-2xl md:text-3xl text-[#3c4f21] mb-2",children:"Host Dashboard"}),l.jsx("p",{className:"text-sm md:text-base text-[#556B2F]",children:"Manage your classes, bookings, and connect with students"})]}),l.jsxs(Zy,{value:R,onValueChange:F,className:"w-full",children:[l.jsxs(ex,{className:"grid w-full grid-cols-2 md:grid-cols-4 mb-4 md:mb-6 h-auto p-1",children:[l.jsxs(Br,{value:"overview",children:[l.jsx(ao,{size:14})," Overview"]}),l.jsxs(Br,{value:"classes",children:[l.jsx(mn,{size:14})," My Classes"]}),l.jsxs(Br,{value:"bookings",children:[l.jsx(mn,{size:14})," Bookings",U&&te&&l.jsx("span",{className:"ml-2 inline-flex min-w-[1.5rem] h-5 items-center justify-center rounded-full bg-[#c54a2c] px-2 text-[10px] font-semibold uppercase tracking-wide text-white","aria-label":J??void 0,title:J??void 0,children:te})]}),l.jsxs(Br,{value:"messages",children:[l.jsx(pn,{size:14})," Messages",D&&z&&l.jsx("span",{className:"ml-2 inline-flex min-w-[1.5rem] h-5 items-center justify-center rounded-full bg-[#c54a2c] px-2 text-[10px] font-semibold uppercase tracking-wide text-white","aria-label":L??void 0,title:L??void 0,children:z})]})]}),l.jsx($r,{value:"overview",children:l.jsx(oc,{user:e,classes:t,conversations:N,onNavigate:r,onDeleteClass:o,onManageClass:i,onRelaunchClass:m,activeView:"overview",onSendMessage:et,onConversationsUpdate:C,initialConversationId:$,initialMessageTarget:w,onConversationNavigate:ae,onBookingsRefresh:je})}),l.jsx($r,{value:"classes",children:l.jsx(oc,{user:e,classes:t,conversations:N,onNavigate:r,onDeleteClass:o,onManageClass:i,onRelaunchClass:m,activeView:"classes",onSendMessage:et,onConversationsUpdate:C,initialConversationId:$,initialMessageTarget:w,onConversationNavigate:ae,onBookingsRefresh:je})}),l.jsx($r,{value:"bookings",children:l.jsx(oc,{user:e,classes:t,conversations:N,onNavigate:r,onDeleteClass:o,onManageClass:i,onRelaunchClass:m,activeView:"bookings",onSendMessage:et,onConversationsUpdate:C,initialConversationId:$,initialMessageTarget:w,onConversationNavigate:ae,onBookingsRefresh:je})}),l.jsx($r,{value:"messages",children:l.jsx(oc,{user:e,classes:t,conversations:N,onNavigate:r,onDeleteClass:o,onManageClass:i,onRelaunchClass:m,activeView:"messages",onSendMessage:et,onConversationsUpdate:C,initialConversationId:$,initialMessageTarget:w,onConversationNavigate:ae,onBookingsRefresh:je})})]})]}):l.jsxs("div",{className:"max-w-6xl mx-auto p-3 md:p-6",children:[de(),l.jsxs("div",{className:"mb-6 md:mb-8",children:[l.jsx("h1",{className:"text-2xl md:text-3xl text-[#3c4f21] mb-2",children:"My Dashboard"}),l.jsx("p",{className:"text-sm md:text-base text-[#556B2F]",children:"Track your bookings, favorites, and messages"})]}),l.jsxs(Zy,{value:R,onValueChange:F,className:"w-full",children:[l.jsxs(ex,{className:"grid w-full grid-cols-2 md:grid-cols-5 mb-4 md:mb-6 h-auto p-1",children:[l.jsxs(Br,{value:"overview",children:[l.jsx(ao,{size:14})," Overview"]}),l.jsxs(Br,{value:"bookings",children:[l.jsx(mn,{size:14})," My Bookings"]}),l.jsxs(Br,{value:"favorites",children:[l.jsx(Fc,{size:14})," Favorites"]}),l.jsxs(Br,{value:"bulletins",children:[l.jsx(Nx,{size:14})," My Bulletins"]}),l.jsxs(Br,{value:"messages",children:[l.jsx(pn,{size:14})," Messages",D&&z&&l.jsx("span",{className:"ml-2 inline-flex min-w-[1.5rem] h-5 items-center justify-center rounded-full bg-[#c54a2c] px-2 text-[10px] font-semibold uppercase tracking-wide text-white","aria-label":L??void 0,title:L??void 0,children:z})]})]}),l.jsxs($r,{value:"overview",children:[console.log(" Dashboard rendering GUEST bookings tab"),l.jsx(di,{user:e,classes:t,bookings:j,conversations:N,favorites:p,posts:n,onNavigate:r,onRefreshBookings:je,loadingBookings:E,onConversationsUpdate:C,onToggleFavorite:f,onSelectClass:c,onDeletePost:v,onSelectPost:y})]}),l.jsx($r,{value:"bookings",children:l.jsx(di,{user:e,classes:t,bookings:j,conversations:N,favorites:p,posts:n,onNavigate:r,onRefreshBookings:je,loadingBookings:E,onConversationsUpdate:C,activeView:"bookings",onToggleFavorite:f,onSelectClass:c,onDeletePost:v,onSelectPost:y})}),l.jsx($r,{value:"favorites",children:l.jsx(di,{user:e,classes:t,bookings:j,conversations:N,favorites:p,posts:n,onNavigate:r,onRefreshBookings:je,loadingBookings:E,onConversationsUpdate:C,activeView:"favorites",onToggleFavorite:f,onSelectClass:c,onDeletePost:v,onSelectPost:y})}),l.jsx($r,{value:"bulletins",children:l.jsx(di,{user:e,classes:t,bookings:j,conversations:N,favorites:p,posts:n,onNavigate:r,onRefreshBookings:je,loadingBookings:E,onConversationsUpdate:C,activeView:"bulletins",onToggleFavorite:f,onSelectClass:c,onDeletePost:v,onSelectPost:y})}),l.jsx($r,{value:"messages",children:l.jsx(di,{user:e,classes:t,bookings:j,conversations:N,favorites:p,posts:n,onNavigate:r,onRefreshBookings:je,loadingBookings:E,onSendMessage:et,onConversationsUpdate:C,activeView:"messages",onToggleFavorite:f,onSelectClass:c,onDeletePost:v,onSelectPost:y})})]})]})}function hO({classId:e,hostId:t,classTitle:n,onClose:r}){const[o,i]=b.useState(""),[c,u]=b.useState(!1),h=async()=>{if(o.trim()){u(!0);try{const{data:p,error:f}=await Ce.functions.invoke("broadcast-message-to-class",{body:{class_id:e,host_id:t,message_content:o.trim()}});if(f)throw f;be.success(`Sent to ${p?.sent??0} participants.`),r()}catch(p){console.error(" Broadcast failed:",p),be.error("Failed to send message to participants.")}finally{u(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs(Ve,{className:"w-full max-w-lg bg-white shadow-lg",children:[l.jsxs(bt,{className:"border-b flex justify-between items-center",children:[l.jsx(vt,{className:"text-[#3c4f21]",children:"Message All Participants"}),l.jsx(fe,{variant:"ghost",size:"sm",onClick:r,children:l.jsx(Ln,{className:"h-4 w-4"})})]}),l.jsxs(qe,{className:"p-6 space-y-4",children:[l.jsxs("p",{className:"text-sm text-[#556B2F] mb-2",children:["This message will be sent individually to every participant of"," ",l.jsx("strong",{children:n||"this class"}),"."]}),l.jsx(Gn,{placeholder:"Type your message...",value:o,onChange:p=>i(p.target.value),rows:4,disabled:c}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(fe,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),l.jsx(fe,{onClick:h,disabled:!o.trim()||c,className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mc,{className:"h-4 w-4 mr-2"})," Send"]})})]})]})]})})}function mO({classData:e,user:t,onNavigate:n,onDeleteClass:r,onEditClass:o,onUpdateClass:i}){const[c,u]=b.useState([]),[h,p]=b.useState(!0),[f,m]=b.useState(null),[v,y]=b.useState(""),[w,_]=b.useState(!1),[N,C]=b.useState(()=>String(e.maxStudents)),[j,k]=b.useState(!1),[R,F]=b.useState(!1),T=b.useMemo(()=>{const ue=e.endDate||e.startDate;if(!ue)return null;const q=new Date(`${ue}T${e.startTime||"00:00"}`);return Number.isNaN(q.getTime())?null:(q.setHours(23,59,59,999),q.getTime())},[e.endDate,e.startDate,e.startTime]),B=T!==null&&T<Date.now();b.useEffect(()=>{E()},[e.id]),b.useEffect(()=>{C(String(e.maxStudents))},[e.maxStudents]);const E=async()=>{try{const{data:ue,error:q}=await Ce.from("bookings").select(`
          *,
          profiles!inner(full_name, email)
        `).eq("class_id",e.id).order("created_at",{ascending:!1});if(q)throw q;const ge=(Array.isArray(ue)?ue:[]).map(ve=>{const me=Ie=>Math.max(0,Math.round(Number(Ie??0))),ze=(Array.isArray(ve.studentNames)?ve.studentNames:Array.isArray(ve.student_names)?ve.student_names:Array.isArray(ve.metadata?.student_names)?ve.metadata.student_names:[]).map(Ie=>typeof Ie=="string"?Ie.trim():"").filter(Boolean),Qe=Number(ve.qty??0);return{id:ve.id,classId:ve.class_id,userId:ve.user_id,userEmail:ve.profiles?.email||"",userName:ve.profiles?.full_name||"",hostId:e.hostId,hostEmail:"",hostName:e.hostName||t.name,studentCount:Qe>0?Qe:ze.length||1,studentNames:ze,totalAmount:me(ve.total_cents),subtotal:me(ve.host_payout_cents),herdFee:me(ve.platform_fee_cents),status:(ve.status||"PENDING").toUpperCase(),paymentStatus:(ve.payment_status||"PENDING").toUpperCase(),createdAt:ve.created_at||"",autoApprove:!1,approved_at:ve.approved_at||null,denied_at:ve.denied_at||null,host_message:ve.host_message||null,stripePaymentIntentId:ve.stripe_payment_intent_id||null,isGuestBooking:!1}});u(ge)}catch(ue){console.error("Error fetching class bookings:",ue)}finally{p(!1)}},I=ue=>new Date(ue).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=(ue,q)=>{const he=ca(ue,q);return he||(ue?I(ue):"Date TBD")},H=ue=>{if(!ue)return"";const[q,he]=ue.split(":"),ge=parseInt(q),ve=ge>=12?"PM":"AM";return`${ge%12||12}:${he} ${ve}`},V=ue=>{switch(ue){case"PENDING":return"bg-yellow-100 text-yellow-800";case"APPROVED":return"bg-green-100 text-green-800";case"DENIED":return"bg-red-100 text-red-800";case"FAILED":return"bg-gray-100 text-gray-800";case"PAID":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},K=ue=>{switch(ue){case"PENDING":return l.jsx(zr,{className:"h-4 w-4"});case"APPROVED":return l.jsx(ac,{className:"h-4 w-4"});case"PAID":return l.jsx(ac,{className:"h-4 w-4"});case"DENIED":return l.jsx(gv,{className:"h-4 w-4"});default:return l.jsx(zr,{className:"h-4 w-4"})}},W=c.filter(ue=>ue.status==="PENDING"),Q=c.filter(ue=>ue.status==="APPROVED"||ue.status==="PAID"),A=Q.length,P=A>0,D=e.instructorId===t.id,z=!B&&(t.isAdmin||D&&!P),L=!B&&!t.isAdmin&&D&&P,M=!t.isAdmin&&D&&P,U=z?"Edit":"Adjust Capacity",te=!B&&(t.isAdmin||D),J=Math.max(A,1),ee=N.trim()===""?NaN:Math.floor(Number(N)),le=Number.isNaN(ee)?null:Math.max(0,ee),X=le!==null&&le<J;b.useEffect(()=>{L||_(!1)},[L]);const ae=b.useMemo(()=>{const ue=me=>{if(!me)return 0;const Se=new Date(me).getTime();return Number.isFinite(Se)?Se:0},q=c.filter(me=>me.status==="PENDING").sort((me,Se)=>ue(me.createdAt)-ue(Se.createdAt)),he=c.filter(me=>me.status==="APPROVED"||me.status==="PAID").sort((me,Se)=>ue(me.createdAt)-ue(Se.createdAt)),ge=c.filter(me=>me.status==="DENIED").sort((me,Se)=>ue(me.createdAt)-ue(Se.createdAt)),ve=c.filter(me=>me.status!=="PENDING"&&me.status!=="APPROVED"&&me.status!=="PAID"&&me.status!=="DENIED").sort((me,Se)=>ue(me.createdAt)-ue(Se.createdAt));return[...q,...he,...ge,...ve]},[c]),de=async()=>{if(le===null){be.warning("Enter the maximum number of students.");return}if(X){be.warning(`Capacity cannot be lower than ${J}.`);return}k(!0);const ue=await i(e.id,{maxStudents:le},{minimumMaxStudents:J,hasApprovedBookings:P,successMessage:"Class capacity updated successfully."});k(!1),ue&&_(!1)},se=()=>{C(String(e.maxStudents)),_(!1)},pe=Q.reduce((ue,q)=>ue+q.subtotal,0),je=ir(pe,{withCurrency:!0}),et=Q.reduce((ue,q)=>ue+q.studentCount,0);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"max-w-6xl mx-auto p-3 md:p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>n("dashboard"),className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",children:[l.jsx(Si,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),t.isAdmin&&l.jsx(an,{className:"bg-orange-500 text-white",children:"Admin View"})]}),l.jsx("h1",{className:"text-2xl md:text-3xl text-[#3c4f21] mb-2",children:"Class Management"}),l.jsx("p",{className:"text-[#556B2F]",children:B?"Review class details and booking history.":"Manage bookings, view details, and edit your class"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(vt,{className:"text-[#3c4f21] text-xl",children:e.title}),l.jsx("p",{className:"text-[#556B2F] mt-2",children:e.shortSummary})]}),l.jsxs("div",{className:"flex gap-2",children:[te?l.jsxs(fe,{variant:"outline",size:"sm",className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",onClick:()=>{z||t.isAdmin?o(e):L?(_(!0),be.info("Only class capacity can be updated now. Adjust the maximum number of students below.")):be.warning("You do not have permission to edit this class.")},title:z||t.isAdmin?"Edit class details":"Adjust the maximum number of students",children:[l.jsx(JN,{className:"h-4 w-4 mr-2"}),U]}):B&&l.jsx("div",{className:"max-w-xs self-center text-xs sm:text-sm text-[#556B2F] italic",children:"Past classes are read-only. Relaunch to make updates."}),(t.isAdmin||e.instructorId===t.id)&&l.jsxs(fe,{variant:"outline",size:"sm",className:`border disabled:opacity-60 disabled:cursor-not-allowed disabled:pointer-events-none ${M?"border-gray-300 text-gray-400 bg-gray-100":"border-red-500 text-red-500 hover:bg-red-500 hover:text-white"}`,disabled:M,onClick:()=>r(e.id),title:t.isAdmin?"Delete class (Admin privileges)":M?"This class has approved bookings and cannot be deleted":"Delete class (no approved bookings)",children:[l.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Delete",t.isAdmin&&l.jsx(an,{className:"ml-2 bg-orange-500 text-white text-xs px-1 py-0",children:"ADMIN"})]}),M&&l.jsx("p",{className:"mt-2 text-xs text-[#556B2F]",children:"Approved bookings prevent deleting this class. Contact support if you need assistance."})]})]})}),l.jsxs(qe,{children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative w-full h-48 md:h-64 bg-gray-100 rounded-lg overflow-hidden",children:[e.photos&&e.photos.length>0?l.jsx(Yn,{src:e.photos[0],alt:e.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#f8f9f6] to-[#e8e9e6] flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-[#556B2F]",children:[l.jsx(po,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm opacity-70",children:"No photo uploaded"})]})}),l.jsx("div",{className:"absolute top-4 right-4",children:l.jsxs(an,{className:"bg-[#556B2F] text-[#f8f9f6]",children:[ir(e.pricePerPerson,{withCurrency:!0})," / person"]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Date & Time"}),l.jsxs("p",{className:"font-medium text-[#3c4f21]",children:[$(e.startDate,e.endDate),e.startTime&&` at ${H(e.startTime)}`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xa,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Duration"}),l.jsxs("p",{className:"font-medium text-[#3c4f21]",children:[e.numberOfDays," day",e.numberOfDays>1?"s":"",e.hoursPerDay&&` (${e.hoursPerDay} hours/day)`]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ar,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Capacity"}),l.jsxs("p",{className:"font-medium text-[#3c4f21]",children:[et," / ",e.maxStudents," students"]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ji,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Location"}),l.jsx("p",{className:"font-medium text-[#3c4f21]",children:e.address.street}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:[e.address.city,", ",e.address.state," ",e.address.zipCode]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yi,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Booking Settings"}),l.jsx("p",{className:"font-medium text-[#3c4f21]",children:e.auto_approve?"Auto-approve enabled":"Manual approval required"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ar,{className:"h-5 w-5 text-[#556B2F]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Age Requirement"}),l.jsxs("p",{className:"font-medium text-[#3c4f21]",children:[e.minimumAge,"+ years old"]})]})]})]})]}),(e.instructorBio||e.advisories||e.houseRules)&&l.jsxs("div",{className:"mt-6 space-y-4",children:[e.instructorBio&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-[#3c4f21] mb-2",children:"About the Instructor"}),l.jsx("p",{className:"text-sm text-[#556B2F] leading-relaxed",children:e.instructorBio})]}),e.advisories&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-[#3c4f21] mb-2",children:"Important Advisories"}),l.jsx("p",{className:"text-sm text-[#556B2F] leading-relaxed",children:e.advisories})]}),e.houseRules&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-[#3c4f21] mb-2",children:"House Rules"}),l.jsx("p",{className:"text-sm text-[#556B2F] leading-relaxed",children:e.houseRules})]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-4",children:[l.jsx(Ve,{children:l.jsx(qe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Total Bookings"}),l.jsx("p",{className:"text-2xl font-bold text-[#3c4f21]",children:c.length})]}),l.jsx(ar,{className:"h-8 w-8 text-[#556B2F]"})]})})}),l.jsx(Ve,{children:l.jsx(qe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Revenue"}),l.jsx("p",{className:"text-2xl font-bold text-[#3c4f21]",children:je})]}),l.jsx(yi,{className:"h-8 w-8 text-[#556B2F]"})]})})}),W.length>0&&l.jsx(Ve,{children:l.jsx(qe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#556B2F]",children:"Pending"}),l.jsx("p",{className:"text-2xl font-bold text-[#c54a2c]",children:W.length})]}),l.jsx(zr,{className:"h-8 w-8 text-[#c54a2c]"})]})})})]}),L&&l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21] text-lg",children:"Manage Capacity"})}),l.jsxs(qe,{className:"space-y-3",children:[l.jsxs("p",{className:"text-sm text-[#556B2F]",children:["Approved bookings: ",l.jsx("strong",{children:A})]}),l.jsxs("p",{className:"text-sm text-[#556B2F]",children:["Current capacity: ",l.jsx("strong",{children:e.maxStudents})," students"]}),w?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[l.jsx(St,{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:N,onChange:ue=>{const q=ue.target.value.replace(/[^0-9]/g,"");C(q)},placeholder:String(J),className:"sm:flex-1 border-[#556B2F] text-[#3c4f21]","aria-label":"Maximum number of students"}),l.jsx(fe,{size:"sm",className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",onClick:de,disabled:j||le===null||X,children:j?"Saving...":"Save"}),l.jsx(fe,{size:"sm",variant:"ghost",onClick:se,disabled:j,children:"Cancel"})]}),l.jsxs("p",{className:"text-xs text-[#556B2F]",children:["Capacity cannot drop below ",J,". This matches the number of approved bookings."]}),X&&l.jsxs("p",{className:"text-xs text-red-600",children:["Increase capacity to at least ",J," students before saving."]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-[#556B2F]",children:"Once bookings are approved, only the maximum number of students can be adjusted."}),l.jsx(fe,{size:"sm",className:"bg-[#556B2F] hover:bg-[#3c4f21] text-white",onClick:()=>_(!0),children:"Adjust Capacity"})]})]})]}),l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21]",children:"Quick Actions"})}),l.jsx(qe,{className:"space-y-3",children:l.jsxs(fe,{variant:"outline",className:"w-full border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-white",disabled:!t.isAdmin&&!D||Q.length===0,onClick:()=>{if(!t.isAdmin&&!D){be.warning("Only the class host can message students.");return}if(Q.length===0){be.info("No confirmed students to message yet.");return}F(!0)},children:[l.jsx(pn,{className:"h-4 w-4 mr-2"}),"Message Students"]})})]})]})]}),l.jsx("div",{className:"mt-8",children:l.jsxs(Ve,{children:[l.jsx(bt,{children:l.jsx(vt,{className:"text-[#3c4f21]",children:"Bookings"})}),l.jsx(qe,{children:h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading bookings..."})]}):c.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No bookings yet"})]}):l.jsx("div",{className:"space-y-4",children:ae.map(ue=>{const he=ue.status==="DENIED"?0:ue.subtotal;return l.jsx("div",{className:"border border-[#a8b892] rounded-lg p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h4",{className:"font-medium text-[#3c4f21]",children:ue.userName}),l.jsx(an,{className:V(ue.status),children:l.jsxs("div",{className:"flex items-center gap-1",children:[K(ue.status),ue.status]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-[#556B2F]",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",ue.userEmail]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Students:"})," ",ue.studentCount]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Names:"})," ",ue.studentNames.join(", ")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Your earnings:"})," ",ir(he,{withCurrency:!0})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Booked:"})," ",I(ue.createdAt)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Payment:"})," ",ue.paymentStatus]})]}),ue.status==="DENIED"&&ue.host_message&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mt-2",children:l.jsxs("p",{className:"text-sm text-red-800",children:[l.jsx("strong",{children:"Denial reason:"})," ",ue.host_message]})})]}),ue.status==="PENDING"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(fe,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{be.info("Booking approval functionality will be integrated with the existing system")},children:[l.jsx(ac,{className:"h-4 w-4 mr-1"}),"Approve"]}),l.jsxs(fe,{size:"sm",variant:"destructive",onClick:()=>m(ue),children:[l.jsx(gv,{className:"h-4 w-4 mr-1"}),"Deny"]})]})]})},ue.id)})})})]})})]}),f&&renderBookingModal(),R&&l.jsx(hO,{classId:e.id,hostId:e.hostId||t.id,classTitle:e.title,onClose:()=>F(!1)})]})}var pO=(e,t,n,r,o,i,c,u)=>{let h=document.documentElement,p=["light","dark"];function f(y){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",N=_&&i?o.map(C=>i[C]||C):o;_?(h.classList.remove(...N),h.classList.add(i&&i[y]?i[y]:y)):h.setAttribute(w,y)}),m(y)}function m(y){u&&p.includes(y)&&(h.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let y=localStorage.getItem(t)||n,w=c&&y==="system"?v():y;f(w)}catch{}},gO=b.createContext(void 0),vO={setTheme:e=>{},themes:[]},yO=()=>{var e;return(e=b.useContext(gO))!=null?e:vO};b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:i,value:c,themes:u,nonce:h,scriptProps:p})=>{let f=JSON.stringify([n,t,i,e,u,c,r,o]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${pO.toString()})(${f})`}})});const xO=({...e})=>{const{theme:t="system"}=yO();return l.jsx(IS,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},nx=[{label:"At least 8 characters",test:e=>e.length>=8},{label:"Contains uppercase letter",test:e=>/[A-Z]/.test(e)},{label:"Contains lowercase letter",test:e=>/[a-z]/.test(e)},{label:"Contains a number",test:e=>/\d/.test(e)}];function wO(e){const t=String(e?.message??"");return t?t.toLowerCase().includes("password")?t:`${t}. Please try again or contact support.`:"Unable to update password. Please try again."}function bO({email:e,onClose:t,onSuccess:n}){const[r,o]=b.useState(""),[i,c]=b.useState(""),[u,h]=b.useState(!1),[p,f]=b.useState(!1),[m,v]=b.useState(!1),[y,w]=b.useState(!1),[_,N]=b.useState(""),C=nx.every(F=>F.test(r)),j=r===i,k=r.length>0&&i.length>0&&C&&j,R=async F=>{if(F.preventDefault(),!!k){w(!0),N("");try{const{error:T}=await Ce.auth.updateUser({password:r});if(T)throw new Error(wO(T));be.success("Password updated successfully! You can continue using HERD."),o(""),c(""),v(!1),n()}catch(T){N(T?.message||"Unable to update password. Please try again.")}finally{w(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(Ve,{className:"bg-white border-[#a8b892] max-w-md w-full",children:[l.jsx(bt,{className:"bg-[#556B2F] text-[#f8f9f6]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(vt,{children:"Reset Your Password"}),l.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:t,className:"text-[#f8f9f6] hover:bg-[#6B7F3F]",children:l.jsx(Ln,{className:"w-4 h-4"})})]})}),l.jsx(qe,{className:"p-6",children:l.jsxs("form",{className:"space-y-4",onSubmit:R,children:[l.jsxs("div",{className:"space-y-2 text-sm text-[#2d3d1f]",children:[l.jsx("p",{children:`You're almost done! ${e?`Finish resetting the password for ${e}.`:"Enter a new password to finish resetting your account."}`}),l.jsx("p",{children:"Your password should be strong enough to protect your account. Use at least one uppercase letter, one lowercase letter, and a number."})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"new-password",className:"text-[#2d3d1f]",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(St,{id:"new-password",type:u?"text":"password",value:r,onChange:F=>o(F.target.value),onFocus:()=>v(!0),className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F] pr-10",placeholder:"Enter a new password",autoComplete:"new-password",minLength:8,required:!0}),l.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 h-auto p-1 text-[#556B2F] hover:bg-transparent",children:u?l.jsx(js,{className:"w-4 h-4"}):l.jsx(mc,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx(rt,{htmlFor:"confirm-password",className:"text-[#2d3d1f]",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(St,{id:"confirm-password",type:p?"text":"password",value:i,onChange:F=>c(F.target.value),className:"mt-1 bg-white border-[#a8b892] focus:border-[#556B2F] focus:ring-[#556B2F] pr-10",placeholder:"Confirm your new password",autoComplete:"new-password",required:!0}),l.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(F=>!F),className:"absolute right-2 top-1/2 -translate-y-1/2 h-auto p-1 text-[#556B2F] hover:bg-transparent",children:p?l.jsx(js,{className:"w-4 h-4"}):l.jsx(mc,{className:"w-4 h-4"})})]}),i&&!j&&l.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center",children:[l.jsx(zr,{className:"w-3 h-3 mr-1"}),"Passwords do not match"]})]}),m&&l.jsxs("div",{className:"bg-[#f8f9f6] border border-[#a8b892] rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-[#2d3d1f] mb-2",children:"Password requirements:"}),l.jsx("div",{className:"space-y-1",children:nx.map((F,T)=>l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx(io,{className:`w-3 h-3 mr-2 ${F.test(r)?"text-green-600":"text-gray-400"}`}),l.jsx("span",{className:F.test(r)?"text-green-600":"text-[#3c4f21]",children:F.label})]},T))})]}),_&&l.jsxs("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded flex items-center whitespace-pre-line",children:[l.jsx(zr,{className:"w-4 h-4 mr-2"}),_]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(fe,{type:"submit",disabled:y||!k,className:"flex-1 bg-[#c54a2c] hover:bg-[#b8432a] text-[#f8f9f6] disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Updating...":"Save New Password"}),l.jsx(fe,{type:"button",variant:"outline",onClick:t,className:"border-[#556B2F] text-[#556B2F] hover:bg-[#556B2F] hover:text-[#f8f9f6]",children:"Cancel"})]})]})})]})})}const _O={overview:"",bookings:"mybookings",favorites:"favorites",bulletins:"mybulletins",messages:"messages"},NO={overview:"overview",classes:"classes",bookings:"bookings",messages:"messages"},SO=_e.lazy(()=>mo(()=>import("./CheckoutSuccessPage-sFV-r9xy.js"),[])),jO=_e.lazy(()=>mo(()=>import("./CheckoutCancelPage-B7o10X2C.js"),[])),y1=e=>{if(typeof e!="string")return"/";const t=e.trim();return!t||t==="/"?"/":t.replace(/\/+$/,"")||"/"},CO=e=>{if(typeof window>"u"||typeof e!="string")return null;const t=y1(e);if(!t.startsWith("/dashboard"))return null;const n=t.split("/").filter(Boolean);if(n.length===0)return null;const r=n.map(f=>f.toLowerCase());if(r[0]!=="dashboard"||(r[1]??"guestview")!=="guestview")return null;const i=r[2]??"",c=n[2]??"";let u=null;if(!i)u="overview";else{const f=Object.entries(_O).find(([,m])=>m===i||m===c);if(f)u=f[0];else switch(i){case"overview":u="overview";break;case"bookings":case"mybookings":u="bookings";break;case"favorites":u="favorites";break;case"bulletins":case"mybulletins":u="bulletins";break;case"messages":u="messages";break;default:u=null}}if(!u)return null;const h=n[3]??null,p=u==="messages"&&typeof h=="string"&&h.length>0?h:null;return{tab:u,conversationId:p}},kO=e=>{if(typeof window>"u"||typeof e!="string")return null;const t=y1(e);if(!t.startsWith("/dashboard"))return null;const n=t.split("/").filter(Boolean);if(n.length===0)return null;const r=n.map(c=>c.toLowerCase());if(r[0]!=="dashboard"||(r[1]??"guestview")!=="hostview")return null;const i=r[2]??"overview";return i in NO?{tab:i}:{tab:"overview"}};function rx({message:e}){return l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#f8f9f6] px-6",children:l.jsx("div",{className:"rounded-lg border border-neutral-200 bg-white px-6 py-10 text-center shadow-sm",children:l.jsx("p",{className:"text-neutral-600",children:e})})})}function EO(e){return{id:e.id,email:e.email??"",name:e.full_name||(e.email?e.email.split("@")[0]:"User"),farmName:e.farm_name??"",bio:e.bio??"",profilePicture:e.avatar_url??"",location:e.location??"",stripeConnected:!!e.stripe_connected,isAdmin:!!e.is_admin,createdAt:e.created_at??new Date().toISOString()}}function PO(e){const t=e?.host_profile??e?.profiles??e?.profile??e?.hostProfile??null,n=[e?.instructor_name,e?.host_name,e?.hostName,t?.full_name,t?.name];for(const r of n)if(typeof r=="string"&&r.trim().length>0)return r.trim();return""}function Ff(e){const t=PO(e),r=(typeof e?.instructor_name=="string"?e.instructor_name.trim():"")||t||"",o=e?.host_profile??e?.profiles??e?.profile??e?.hostProfile??null,i=o?.rating_average??o?.ratingAverage??e?.rating_average??null,c=o?.rating_count??o?.ratingCount??e?.rating_count??null,u=i==null||i===""?null:Number(i),h=c==null||c===""?0:Number(c);return{id:e.id,title:e.title,shortSummary:e.short_summary??"",startDate:e.start_date??"",startTime:e.start_time??"",endDate:e.end_date??e.start_date??"",numberOfDays:e.number_of_days??1,hoursPerDay:e.hours_per_day??void 0,pricePerPerson:Ts(e.price_per_person_cents??0),maxStudents:e.max_students??0,address:{street:e.address_street??"",city:e.address_city??"",state:e.address_state??"",zipCode:e.address_zip??"",country:e.address_country??""},instructorName:r,hostId:e.host_id,host_id:e.host_id,hostName:t||r,instructorId:e.host_id,minimumAge:e.minimum_age??0,instructorBio:e.instructor_bio??"",instructorAvatar:o?.avatar_url??null,advisories:e.advisories??"",houseRules:e.house_rules??"",photos:e.photos??[],auto_approve:!!e.auto_approve,createdAt:e.created_at??new Date().toISOString(),hostRatingAverage:Number.isFinite(u)?u:null,hostRatingCount:Number.isFinite(h)?h:0,hostProfile:{fullName:o?.full_name??"",farmName:o?.farm_name??"",bio:o?.bio??"",avatarUrl:o?.avatar_url??null,ratingAverage:Number.isFinite(u)?u:null,ratingCount:Number.isFinite(h)?h:0}}}function fi(e,t){const n=(e.instructorName??"").trim(),r=(e.hostName??"").trim();if(n&&r)return e;const o=n||r||(t&&e.instructorId===t.id?t.name:"");return o?{...e,instructorName:n||o,hostName:r||o}:e}function Lf(e){const t=e?.author_profile??e?.profile??e?.profiles??null,n=typeof t?.full_name=="string"?t.full_name:typeof e?.author=="string"?e.author:"",r=n?.trim?.()?n.trim():"",o=typeof e?.category=="string"&&e.category.trim().length>0?e.category.trim():"General Discussion",i=Array.isArray(e?.photos)?e.photos:[];return{id:e.id,title:e.title,content:e.content??"",author:r,authorId:e.user_id,createdAt:e.created_at??new Date().toISOString(),category:o,authorEmail:t?.email??null,photos:i}}function RO(){const[e,t]=b.useState("home"),[n,r]=b.useState(null),[o,i]=b.useState(null),[c,u]=b.useState([]),[h,p]=b.useState([]),[f,m]=b.useState(null),[v,y]=b.useState([]),[w,_]=b.useState(null),[N,C]=b.useState(void 0),[j,k]=b.useState(!1),[R,F]=b.useState(!1),[T,B]=b.useState(null),[E,I]=b.useState(!1),[$,H]=b.useState(!0),[V,K]=b.useState("Loading..."),[W,Q]=b.useState(!0),[A,P]=b.useState(!1),[D,z]=b.useState(null),[L,M]=b.useState("create"),[U,te]=b.useState(null),[J,ee]=b.useState(null),[le,X]=b.useState(null);b.useEffect(()=>{if(!f)return;const Y=h.find(re=>re.id===f.id);if(!Y){m(null),e==="bulletin-detail"&&t("bulletin");return}Y!==f&&m(Y)},[h,e,f]),b.useEffect(()=>{if(!w?.id){y([]);return}ue(w.id)},[w?.id]),b.useEffect(()=>{u(Y=>{if(Y.length===0)return Y;let re=!1;const Pe=Y.map(Oe=>{const Le=fi(Oe,w);return Le!==Oe&&(re=!0),Le});return re?Pe:Y})},[w?.id]);const ae=(Y,re)=>{try{localStorage.setItem(Y,JSON.stringify(re))}catch(Pe){if(Pe?.name==="QuotaExceededError")try{localStorage.removeItem("herd-posts"),localStorage.setItem(Y,JSON.stringify(re))}catch{}}},de=async Y=>{const re=Y.id??n?.id;if(!re){be.error("Unable to identify the class you are editing.");return}const Pe={title:Y.title,shortSummary:Y.shortSummary,startDate:Y.startDate,startTime:Y.startTime,endDate:Y.endDate,numberOfDays:Y.numberOfDays,hoursPerDay:Y.hoursPerDay,pricePerPerson:Y.pricePerPerson,maxStudents:Y.maxStudents,address:Y.address,minimumAge:Y.minimumAge,instructorBio:Y.instructorBio,advisories:Y.advisories,houseRules:Y.houseRules,photos:Y.photos,auto_approve:Y.auto_approve,instructorName:Y.instructorName};await ve(re,Pe,{hasApprovedBookings:!1,successMessage:"Class details updated successfully."})&&t("manage-class")},se=Y=>{try{const re=localStorage.getItem(Y);return re?JSON.parse(re):null}catch{try{localStorage.removeItem(Y)}catch{}return null}};b.useEffect(()=>{A||pe()},[A]);const pe=async()=>{if(!A){H(!0),K("Loading your data...");try{const Y=se("herd-classes"),re=se("herd-posts");if(Y?.length>0){const Le=Y.map(Ee=>fi({...Ee,hostName:Ee.hostName||Ee.instructorName||"",instructorName:Ee.instructorName||Ee.hostName||""},w));u(Le),ae("herd-classes",Le)}re?.length>0&&p(re);const Pe=Promise.allSettled([je(),et()]),Oe=new Promise((Le,Ee)=>{setTimeout(()=>Ee(new Error("Data loading timeout")),1e4)});try{await Promise.race([Pe,Oe])}catch{}P(!0),H(!1)}catch(Y){console.error("Failed to load initial data:",Y),P(!0),H(!1)}}},je=async()=>{try{const{data:Y,error:re}=await Ce.from("classes").select(`
          *,
          host_profile:profiles!classes_host_id_fkey(full_name, avatar_url, farm_name, bio, rating_average, rating_count)
        `).order("created_at",{ascending:!1}).limit(200);if(re)throw re;const Pe=(Y??[]).map(Ff).map(Oe=>fi(Oe,w));u(Pe),ae("herd-classes",Pe)}catch(Y){console.error("Error loading classes:",Y?.message||Y)}},et=async()=>{try{const{data:Y,error:re}=await Ce.from("posts").select(`
          *,
          author_profile:profiles!posts_user_id_fkey(
            id,
            full_name,
            email,
            avatar_url
          )
        `).order("created_at",{ascending:!1}).limit(200);if(re)throw re;const Pe=(Y??[]).map(Lf);p(Pe),ae("herd-posts",Pe)}catch(Y){console.error("Error loading posts:",Y?.message||Y)}},ue=async Y=>{try{const{data:re,error:Pe}=await Ce.from("favorites").select("class_id").eq("user_id",Y);if(Pe)throw Pe;const Oe=Array.isArray(re)?re.map(Le=>Le.class_id).filter(Boolean):[];y(Oe)}catch(re){console.error("Error loading favorites:",re?.message||re),y([])}};b.useEffect(()=>{let Y=!0;const re=setTimeout(()=>{Y&&$&&H(!1)},15e3);new URLSearchParams(window.location.search).get("verified")==="true"&&window.history.replaceState({},document.title,window.location.pathname),(async()=>{try{const Ee=Ce.auth.getSession(),Je=new Promise((ot,Pt)=>setTimeout(()=>Pt(new Error("Session check timeout")),2e3)),{data:{session:He}}=await Promise.race([Ee,Je]);if(!Y)return;if(C(He),He?.user){const ot=!!He.user.email_confirmed_at;Q(ot),K("Loading your profile...");try{await q(He.user.id,0)}catch{Y&&H(!1)}}else Y&&H(!1)}catch{if(!Y)return;H(!1)}})();const{data:{subscription:Le}}=Ce.auth.onAuthStateChange((Ee,Je)=>{if(Y){if(C(Je),Ee==="PASSWORD_RECOVERY"&&Je?.user){Q(!!Je.user.email_confirmed_at),k(!1),F(!0),B(Je.user.email??Je.user.user_metadata?.email??null),H(!1),be.info("Enter a new password to finish resetting your account.");return}if(Ee==="SIGNED_IN"&&Je?.user){const He=!!Je.user.email_confirmed_at;Q(He),F(!1),B(null);const ot=new URLSearchParams(window.location.search);Je.user.email_confirmed_at&&ot.get("verified")==="true"&&setTimeout(()=>be.success("Email verified successfully! Welcome to HERD."),500),q(Je.user.id,0)}else if(Ee==="TOKEN_REFRESHED"&&Je?.user){const He=!!Je.user.email_confirmed_at;Q(He),w||q(Je.user.id,0)}else if(Ee==="USER_UPDATED"&&Je?.user){const He=!!Je.user.email_confirmed_at;Q(He),F(!1),B(null),q(Je.user.id,0)}else Ee==="SIGNED_OUT"&&(_(null),Q(!0),H(!1),t("home"),F(!1),B(null))}});return()=>{Y=!1,clearTimeout(re),Le.unsubscribe()}},[]),b.useEffect(()=>{const re=new URLSearchParams(window.location.search).get("stripe");if(!re||!w)return;const Oe=setTimeout(()=>{window.history.replaceState({},document.title,window.location.pathname),re==="connected"?(be.success("Stripe account connected successfully! You can now create classes."),w&&(q(w.id,0),t("profile"))):re==="error"?be.error("There was an error connecting your Stripe account. Please try again."):re==="refresh"&&be.warning("Stripe onboarding needs to be completed. Please finish the setup process.")},500);return()=>clearTimeout(Oe)},[w?.id]),b.useEffect(()=>{if(e!=="dashboard"||!le||le.consumed)return;const Y=setTimeout(()=>{X(re=>re&&{...re,consumed:!0})},500);return()=>clearTimeout(Y)},[e,le]),b.useEffect(()=>{e!=="dashboard"&&le&&X(null)},[e]),b.useEffect(()=>{if(typeof window>"u"||new URLSearchParams(window.location.search).get("page")==="dashboard")return;const re=Oe=>{const Le=CO(Oe);if(Le){te(Le),ee(null);return}const Ee=kO(Oe);if(Ee){ee(Ee),te(null);return}te(null),ee(null)};re(window.location.pathname);const Pe=()=>{re(window.location.pathname)};return window.addEventListener("popstate",Pe),()=>window.removeEventListener("popstate",Pe)},[]),b.useEffect(()=>{if(U){if(!w){if(N===void 0||$)return;k(!0);return}X({tab:U.tab,conversationId:U.conversationId??null,consumed:!1,role:"guest"}),t("dashboard"),te(null)}},[U,w?.id,N,$]),b.useEffect(()=>{if(J){if(!w){if(N===void 0||$)return;k(!0);return}X({tab:J.tab,bookingId:null,conversationId:null,guestId:null,guestName:null,classId:null,classTitle:null,consumed:!1,role:"host"}),t("dashboard"),ee(null)}},[J,w?.id,N,$]),b.useEffect(()=>{const Y=new URLSearchParams(window.location.search),re=Y.get("page");if(!re||re!=="dashboard"||!w)return;const Pe=Y.get("booking"),Oe=Y.get("action"),Le=Y.get("tab"),Ee=Y.get("conversation"),Je=Y.get("guest")??Y.get("guest_id"),He=Y.get("guest_name"),ot=Y.get("class")??Y.get("class_id"),Pt=Y.get("class_title"),at=Y.get("role")==="host"?"host":"guest";t("dashboard"),X({tab:Le,bookingId:Pe,conversationId:Ee,guestId:Je,guestName:He,classId:ot,classTitle:Pt,consumed:!1,role:at}),window.history.replaceState({},document.title,window.location.pathname),!Pe&&!Oe?setTimeout(()=>{(window.innerWidth<768||!localStorage.getItem("herd-dashboard-visited"))&&(be.success("Welcome to your HERD dashboard! Here you can view and manage your classes and bookings."),localStorage.setItem("herd-dashboard-visited","true"))},1e3):Pe&&Oe&&(Oe==="approve"||Oe==="decline")&&setTimeout(()=>{be.info("Host booking actions will be enabled after we add a safe RLS policy for hosts to update bookings.")},500)},[w?.id]);const q=async(Y,re=0)=>{try{const{data:Oe,error:Le}=await Ce.from("profiles").select("id, email, full_name, farm_name, bio, location, avatar_url, stripe_connected, is_admin, created_at").eq("id",Y).maybeSingle();if(Le)throw Le;if(!Oe)return I(!0),H(!1),null;const Ee=EO(Oe);return _(Ee),H(!1),Ee}catch(Oe){const Le=Oe?.message||"Unknown error";if(re<1&&!/timeout|abort/i.test(Le))return await new Promise(Ee=>setTimeout(Ee,1e3)),q(Y,re+1);if(N?.user){const Ee={id:N.user.id,email:N.user.email||"",name:N.user.user_metadata?.name||N.user.email?.split("@")[0]||"User",stripeConnected:!1,createdAt:new Date().toISOString()};_(Ee),I(!0)}return H(!1),null}},he=async Y=>{if(w)try{const{data:re}=await Ce.auth.getUser();if(!re?.user){be.warning("Please log in to create a class.");return}const Pe=(Y.startDate??"").trim(),Oe=(Y.startTime??"").trim();if(!Pe){be.warning("Please select a start date.");return}if(!Oe){be.warning("Please select a start time.");return}const Le=/^\d{2}:\d{2}(:\d{2})?$/.test(Oe)&&Oe.length===5?`${Oe}:00`:Oe,Ee=Number.isFinite(Y.numberOfDays)&&Y.numberOfDays>0?Y.numberOfDays:1,Je=Number.isFinite(Y.maxStudents)&&Y.maxStudents>0?Y.maxStudents:1,He=Number.isFinite(Y.minimumAge)&&Y.minimumAge>=0?Y.minimumAge:0,ot=Y.hoursPerDay!==void 0&&Y.hoursPerDay!==null&&Number.isFinite(Y.hoursPerDay)?Y.hoursPerDay:null,Pt=Y.endDate&&Y.endDate.trim().length>0?Y.endDate:Pe,Ae=Ts(Y.pricePerPerson);if(Ae<=0){be.warning("Please enter a valid price for your class.");return}const at={host_id:re.user.id,title:Y.title,short_summary:Y.shortSummary,description:Y.shortSummary??"",start_date:Pe,start_time:Le,end_date:Pt,number_of_days:Ee,hours_per_day:ot,price_per_person_cents:Ae,max_students:Je,minimum_age:He,instructor_bio:Y.instructorBio,instructor_name:Y.instructorName?Y.instructorName.trim():null,advisories:Y.advisories,house_rules:Y.houseRules,photos:Y.photos??[],auto_approve:!!Y.auto_approve,address_street:Y.address?.street??"",address_city:Y.address?.city??"",address_state:Y.address?.state??"",address_zip:Y.address?.zipCode??"",address_country:Y.address?.country??""},{data:jt,error:pt}=await Ce.from("classes").insert([at]).select("*").single();if(pt)throw pt;const Ht=fi(Ff(jt),w);u(Bt=>{const Ut=[...Bt,Ht];return ae("herd-classes",Ut),Ut}),be.success("Class created and posted"),z(null),M("create"),t("dashboard")}catch(re){console.error("Error creating class:",re),be.error("Failed to create class. Please check your info and try again.")}},ge=async Y=>{if(!w)return;const re=c.find(Ee=>Ee.id===Y);if(!re){be.error("Class not found.");return}const Pe=w.isAdmin===!0,Oe=re.instructorId===w.id;if(!Pe&&!Oe){be.error("You do not have permission to delete this class.");return}if(Oe)try{const{data:Ee,error:Je}=await Ce.from("bookings").select("id, status").eq("class_id",Y).in("status",["APPROVED","PAID"]);if(Je)throw Je;if(Ee&&Ee.length>0){be.warning("You cannot delete this class while it has approved bookings.");return}}catch(Ee){console.error("Error checking class bookings before deletion:",Ee?.message||Ee),be.error("Unable to verify bookings for this class. Please try again.");return}if(confirm(Pe?"Are you sure you want to delete this class? This action cannot be undone and will affect any associated bookings.":"Are you sure you want to delete this class? This action cannot be undone."))try{const{error:Ee}=await Ce.from("classes").delete().eq("id",Y);if(Ee)throw Ee;u(Je=>{const He=Je.filter(ot=>ot.id!==Y);return ae("herd-classes",He),He}),be.success("Class deleted successfully.")}catch(Ee){console.error("Error deleting class:",Ee?.message||Ee),be.error("Failed to delete class. Please try again.")}},ve=async(Y,re,Pe={})=>{if(!w)return!1;const Oe=c.find(ot=>ot.id===Y);if(!Oe)return be.error("Class not found."),!1;const Le=w.isAdmin===!0,Ee=Oe.instructorId===w.id;if(!Le&&!Ee)return be.error("You do not have permission to edit this class."),!1;const Je=Object.keys(re);if(Je.length===0)return be.info("No changes to save."),!1;if(re.maxStudents!==void 0){const ot=Pe.minimumMaxStudents??0;if(re.maxStudents<ot)return be.warning(`Class capacity cannot be lower than ${ot}.`),!1}if(!Le&&Pe.hasApprovedBookings){const ot=new Set(["maxStudents"]);if(Je.some(Ae=>!ot.has(Ae))||re.address!==void 0||re.photos!==void 0||re.title!==void 0||re.shortSummary!==void 0||re.startDate!==void 0||re.startTime!==void 0||re.numberOfDays!==void 0||re.hoursPerDay!==void 0||re.pricePerPerson!==void 0||re.instructorName!==void 0||re.minimumAge!==void 0||re.instructorBio!==void 0||re.advisories!==void 0||re.houseRules!==void 0||re.auto_approve!==void 0)return be.warning("Once a class has approved bookings, only the maximum number of students can be updated."),!1}const He={};if(re.title!==void 0&&(He.title=re.title),re.shortSummary!==void 0&&(He.short_summary=re.shortSummary,He.description=re.shortSummary),re.startDate!==void 0&&(He.start_date=re.startDate),re.startTime!==void 0&&(He.start_time=re.startTime),re.numberOfDays!==void 0&&(He.number_of_days=re.numberOfDays),re.endDate!==void 0&&(He.end_date=re.endDate),re.hoursPerDay!==void 0&&(He.hours_per_day=re.hoursPerDay),re.pricePerPerson!==void 0&&(He.price_per_person_cents=re.pricePerPerson),re.maxStudents!==void 0&&(He.max_students=re.maxStudents),re.minimumAge!==void 0&&(He.minimum_age=re.minimumAge),re.instructorBio!==void 0&&(He.instructor_bio=re.instructorBio),re.instructorName!==void 0&&(He.instructor_name=typeof re.instructorName=="string"?re.instructorName.trim():re.instructorName),re.advisories!==void 0&&(He.advisories=re.advisories),re.houseRules!==void 0&&(He.house_rules=re.houseRules),re.photos!==void 0&&(He.photos=re.photos),re.auto_approve!==void 0&&(He.auto_approve=re.auto_approve),re.address&&(re.address.street!==void 0&&(He.address_street=re.address.street),re.address.city!==void 0&&(He.address_city=re.address.city),re.address.state!==void 0&&(He.address_state=re.address.state),re.address.zipCode!==void 0&&(He.address_zip=re.address.zipCode),re.address.country!==void 0&&(He.address_country=re.address.country)),Object.keys(He).length===0)return be.info("No changes detected."),!1;try{const{data:ot,error:Pt}=await Ce.from("classes").update(He).eq("id",Y).select(`
          *,
          host_profile:profiles!classes_host_id_fkey(full_name, avatar_url, farm_name, bio, rating_average, rating_count)
        `).single();if(Pt)throw Pt;const Ae=fi(Ff(ot),w);return u(at=>{const jt=at.map(pt=>pt.id===Y?Ae:pt);return ae("herd-classes",jt),jt}),r(at=>at&&at.id===Y?Ae:at),be.success(Pe.successMessage??"Class updated successfully."),!0}catch(ot){return console.error("Error updating class:",ot?.message||ot),be.error("Failed to update class. Please try again."),!1}},me=async Y=>{if(w)try{const re={user_id:w.id,title:Y.title,content:Y.content,photos:Y.photos??[],category:Y.category},{data:Pe,error:Oe}=await Ce.from("posts").insert([re]).select(`
          *,
          author_profile:profiles!posts_user_id_fkey(
            id,
            full_name,
            email,
            avatar_url
          )
        `).single();if(Oe)throw Oe;const Le=Lf(Pe);Le.author=w.name,Le.authorEmail=w.email,Le.category=Y.category,p(Ee=>{const Je=[Le,...Ee];return ae("herd-posts",Je),Je})}catch(re){console.error("Error creating post:",re?.message||re),be.error("Failed to create post. Please try again.")}},Se=async Y=>{if(w)try{const{error:re}=await Ce.from("posts").delete().eq("id",Y);if(re)throw re;p(Pe=>{const Oe=Pe.filter(Le=>Le.id!==Y);return ae("herd-posts",Oe),Oe}),f?.id===Y&&(m(null),t("bulletin"))}catch(re){console.error("Error deleting post:",re?.message||re),be.error("Failed to delete post. Please try again.")}},ze=async(Y,re)=>{if(!w)return k(!0),!1;try{const{data:Pe,error:Oe}=await Ce.from("posts").update({title:re.title,content:re.content,category:re.category}).eq("id",Y).select(`
          *,
          author_profile:profiles!posts_user_id_fkey(
            id,
            full_name,
            email,
            avatar_url
          )
        `).single();if(Oe)throw Oe;const Le=Lf(Pe);return Le.author||(Le.author=w.name),Le.authorEmail||(Le.authorEmail=w.email),p(Ee=>{const Je=Ee.map(He=>He.id===Y?Le:He);return ae("herd-posts",Je),Je}),m(Ee=>Ee&&Ee.id===Y?Le:Ee),be.success("Bulletin updated."),!0}catch(Pe){return console.error("Error updating post:",Pe?.message||Pe),be.error("Failed to update bulletin. Please try again."),!1}},Qe=async Y=>{if(!w){k(!0);return}if(!W){be.warning("Please verify your email address before relaunching classes.");return}if(!w.stripeConnected){be.warning("Connect your Stripe account to relaunch a class."),t("profile");return}const re=Number.isFinite(Y.numberOfDays)&&Y.numberOfDays>0?Math.trunc(Y.numberOfDays):1,Oe=(Y.instructorName??"").trim()||w.name||"",Le=(Y.hostName??"").trim()||Oe,Ee={...Y,id:"",startDate:"",endDate:"",startTime:"",numberOfDays:re,hostId:w.id,host_id:w.id,instructorId:w.id,instructorName:Oe,hostName:Le,photos:Array.isArray(Y.photos)?[...Y.photos]:[],auto_approve:!!Y.auto_approve,address:{street:Y.address?.street??"",city:Y.address?.city??"",state:Y.address?.state??"",zipCode:Y.address?.zipCode??"",country:Y.address?.country??""},hostProfile:null,createdAt:new Date().toISOString()};z(Ee),M("relaunch"),t("create-class"),be.info("Copied your class details. Pick a new future date and time, then save to relaunch.")},Ie=async Y=>{if(!w){k(!0);return}const re=v.includes(Y);try{if(re){const{error:Pe}=await Ce.from("favorites").delete().eq("user_id",w.id).eq("class_id",Y);if(Pe)throw Pe;y(Oe=>Oe.filter(Le=>Le!==Y)),be.success("Removed from favorites.")}else{const{error:Pe}=await Ce.from("favorites").insert({user_id:w.id,class_id:Y});if(Pe)throw Pe;y(Oe=>[...Oe,Y]),be.success("Added to favorites.")}}catch(Pe){console.error("Error toggling favorite:",Pe?.message||Pe),be.error("Unable to update favorites right now.")}},ke=()=>{k(!1)},tt=()=>{F(!1),B(null),k(!1)},Xe=async()=>{F(!1),B(null);try{await Ce.auth.signOut()}catch(Y){console.error("Error ending password recovery session:",Y)}},Ue=Y=>{_(Y),I(!1)},We=Y=>{const re=w??{},Pe={...re,...Y,profilePicture:Y?.profilePicture??Y?.avatar_url??re.profilePicture??"",stripeConnected:typeof Y?.stripeConnected=="boolean"?Y.stripeConnected:typeof Y?.stripe_connected=="boolean"?!!Y.stripe_connected:!!re.stripeConnected,name:Y?.name??re.name,email:Y?.email??re.email,farmName:Y?.farmName??re.farmName,bio:Y?.bio??re.bio,location:Y?.location??re.location,createdAt:re.createdAt||new Date().toISOString(),id:Y?.id??re.id,isAdmin:typeof Y?.isAdmin=="boolean"?Y.isAdmin:re.isAdmin};_(Pe);try{localStorage.setItem("herd-user",JSON.stringify(Pe))}catch{}},dt=async()=>{try{try{localStorage.removeItem("herd-classes"),localStorage.removeItem("herd-posts"),localStorage.removeItem("herd-user"),localStorage.removeItem("herd-dashboard-visited"),localStorage.removeItem("herd-conversations")}catch{}const{data:{session:Y}}=await Ce.auth.getSession();if(Y){const{error:re}=await Ce.auth.signOut();re&&!/AuthSessionMissingError|session missing/i.test(re.message)&&console.error("Sign out error:",re)}_(null),C(null),Q(!0),t("home"),u([]),p([]),P(!1),F(!1),B(null),r(null),i(null)}catch(Y){console.error("Unexpected error during sign out:",Y),_(null),C(null),Q(!0),t("home"),u([]),p([]),P(!1),F(!1),B(null),r(null),i(null)}},ht=Y=>{w?W?Y():be.warning("Please verify your email address before continuing. Check your inbox for a verification link."):k(!0)},xt=Y=>{w?W?w.stripeConnected?Y():(be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),t("profile")):be.warning("Please verify your email address before creating classes. Check your inbox for a verification link."):k(!0)},Nt=()=>{if($)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8f9f6]",children:l.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#556B2F] mx-auto mb-4"}),l.jsx("h2",{className:"text-[#3c4f21] mb-2",children:"Loading HERD"}),l.jsx("p",{className:"text-[#556B2F] text-sm mb-4",children:V})]})});switch(e){case"home":return l.jsx(Xd,{onNavigate:t,user:w,onRequireAuth:()=>k(!0)});case"classes":return l.jsx(qA,{classes:c,onNavigate:t,user:w,onRequireAuth:()=>k(!0),onSelectClass:Y=>{r(Y),i(Y.instructorId??null),t("class-detail")},favorites:v,onToggleFavorite:Ie});case"class-detail":return n?l.jsx(cT,{classData:n,user:w,onNavigate:t,onRequireAuth:()=>k(!0),onViewHost:(Y,re)=>{i(Y),r(re),t("host-profile")},favorites:v,onToggleFavorite:Ie,onOpenConversation:(Y,re)=>{X({tab:"messages",conversationId:Y,guestId:w?.id??null,guestName:w?.name??null,classId:re.id,classTitle:re.title,bookingId:null,consumed:!1,role:"guest"}),t("dashboard")}}):null;case"host-profile":return o?l.jsx(pT,{hostId:o,currentUser:w,onNavigate:t,onSelectClass:Y=>{r(Y),i(Y.instructorId??null),t("class-detail")}}):l.jsx(Xd,{onNavigate:t,user:w,onRequireAuth:()=>k(!0)});case"create-class":{if(!w)return k(!0),z(null),M("create"),t("home"),null;if(!W)return be.warning("Please verify your email address before creating classes. Check your inbox for a verification link."),z(null),M("create"),t("home"),null;if(!w.stripeConnected)return be.warning("You need to connect your Stripe account before creating classes. Please complete your profile setup."),z(null),M("create"),t("profile"),null;const Y=()=>{z(null),L==="relaunch"?(M("create"),t("dashboard")):t("classes")};return l.jsx(Iy,{onSubmit:he,onCancel:Y,user:w,initialData:D,mode:L==="relaunch"?"relaunch":"create"})}case"edit-class":return w&&n?l.jsx(Iy,{onSubmit:de,onCancel:()=>t("manage-class"),user:w,initialData:{...n},mode:"edit"}):null;case"bulletin":return l.jsx(Dy,{posts:h,onCreatePost:me,onDeletePost:Se,onSelectPost:Y=>{m(Y),t("bulletin-detail")},user:w,onRequireAuth:()=>k(!0)});case"bulletin-detail":return f?l.jsx(_T,{post:f,user:w,onBack:()=>t("bulletin"),onDeletePost:Y=>Se(Y),onRequireAuth:()=>k(!0),onUpdatePost:ze}):l.jsx(Dy,{posts:h,onCreatePost:me,onDeletePost:Se,onSelectPost:Y=>{m(Y),t("bulletin-detail")},user:w,onRequireAuth:()=>k(!0)});case"profile":return w?l.jsx(x3,{user:w,onUpdate:We}):null;case"dashboard":return w?l.jsx(fO,{user:w,classes:c,posts:h,onNavigate:t,onDeleteClass:ge,onManageClass:Y=>{r(Y),i(Y.instructorId??null),t("manage-class")},onSelectClass:Y=>{r(Y),i(Y.instructorId??null),t("class-detail")},initialTab:le?.consumed?null:le?.tab??null,initialConversationId:le?.consumed?null:le?.conversationId??null,initialMode:le?.consumed?null:le?.role==="host"?"host":le?.role==="guest"?"guest":null,favorites:v,onToggleFavorite:Ie,onRelaunchClass:Qe,onDeletePost:Se,onSelectPost:Y=>{m(Y),t("bulletin-detail")},hostMessageTarget:w.stripeConnected&&le?.role==="host"?{conversationId:le?.conversationId??null,guestId:le?.guestId??null,guestName:le?.guestName??null,classId:le?.classId??null,classTitle:le?.classTitle??null,bookingId:le?.bookingId??null}:null}):null;case"manage-class":return w&&n?l.jsx(mO,{classData:n,user:w,onNavigate:t,onDeleteClass:ge,onEditClass:Y=>{r(Y),i(Y.instructorId??null),t("edit-class")},onUpdateClass:ve}):null;default:return l.jsx(Xd,{onNavigate:t,user:w,onRequireAuth:()=>k(!0)})}},_t=typeof window<"u"?window.location.pathname:"/";return _t.startsWith("/classes/checkout/success")?l.jsx(b.Suspense,{fallback:l.jsx(rx,{message:"Preparing your confirmation..."}),children:l.jsx(SO,{})}):_t.startsWith("/classes/checkout/cancel")?l.jsx(b.Suspense,{fallback:l.jsx(rx,{message:"Loading checkout status..."}),children:l.jsx(jO,{})}):_t.startsWith("/review")?l.jsx("div",{className:"min-h-screen bg-[#f8f9f6]",children:l.jsx(TT,{})}):l.jsxs("div",{className:"min-h-screen bg-[#f8f9f6]",children:[l.jsx(PT,{currentPage:e,onNavigate:Y=>{Y==="create-class"?xt(()=>{z(null),M("create"),t(Y)}):Y==="profile"||Y==="dashboard"?ht(()=>t(Y)):t(Y)},user:w,onSignOut:dt,onShowAuth:()=>k(!0)}),w&&!W&&l.jsx(MT,{userEmail:N?.user?.email}),Nt(),j&&l.jsx(IT,{onClose:()=>k(!1),onSuccess:ke}),R&&l.jsx(bO,{email:T,onClose:Xe,onSuccess:tt}),E&&N&&W&&l.jsx(OT,{onComplete:Ue,authSession:N}),l.jsx(xO,{position:"top-right",richColors:!0,closeButton:!0})]})}b2.createRoot(document.getElementById("root")).render(l.jsx(RO,{}));export{Si as A,fe as B,ac as C,VN as R,nS as T,zr as a,ut as c,l as j,b as r,Ce as s};
